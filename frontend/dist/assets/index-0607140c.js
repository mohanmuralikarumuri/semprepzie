var rP=Object.defineProperty,iP=Object.defineProperties;var nP=Object.getOwnPropertyDescriptors;var id=Object.getOwnPropertySymbols;var fx=Object.prototype.hasOwnProperty,dx=Object.prototype.propertyIsEnumerable;var qh=(r,e)=>{if(e=Symbol[r])return e;throw Error("Symbol."+r+" is not defined")};var CO=(r,e,t)=>e in r?rP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,et=(r,e)=>{for(var t in e||(e={}))fx.call(e,t)&&CO(r,t,e[t]);if(id)for(var t of id(e))dx.call(e,t)&&CO(r,t,e[t]);return r},ur=(r,e)=>iP(r,nP(e));var XO=(r,e)=>{var t={};for(var i in r)fx.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&id)for(var i of id(r))e.indexOf(i)<0&&dx.call(r,i)&&(t[i]=r[i]);return t};var Xt=(r,e,t)=>(CO(r,typeof e!="symbol"?e+"":e,t),t);var H=(r,e,t)=>new Promise((i,n)=>{var s=l=>{try{a(t.next(l))}catch(c){n(c)}},o=l=>{try{a(t.throw(l))}catch(c){n(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,o);a((t=t.apply(r,e)).next())}),tl=function(r,e){this[0]=r,this[1]=e},EO=(r,e,t)=>{var i=(o,a,l,c)=>{try{var h=t[o](a),f=(a=h.value)instanceof tl,g=h.done;Promise.resolve(f?a[0]:a).then(p=>f?i(o==="return"?o:"next",a[1]?{done:p.done,value:p.value}:p,l,c):l({value:p,done:g})).catch(p=>i("throw",p,l,c))}catch(p){c(p)}},n=o=>s[o]=a=>new Promise((l,c)=>i(o,a,l,c)),s={};return t=t.apply(r,e),s[Symbol.asyncIterator]=()=>s,n("next"),n("throw"),n("return"),s},RO=r=>{var e=r[qh("asyncIterator")],t=!1,i,n={};return e==null?(e=r[qh("iterator")](),i=s=>n[s]=o=>e[s](o)):(e=e.call(r),i=s=>n[s]=o=>{if(t){if(t=!1,s==="throw")throw o;return o}return t=!0,{done:!1,value:new tl(new Promise(a=>{var l=e[s](o);if(!(l instanceof Object))throw TypeError("Object expected");a(l)}),1)}}),n[qh("iterator")]=()=>n,i("next"),"throw"in e?i("throw"):n.throw=s=>{throw s},"return"in e&&i("return"),n},px=(r,e,t)=>(e=r[qh("asyncIterator")])?e.call(r):(r=r[qh("iterator")](),e={},t=(i,n)=>(n=r[i])&&(e[i]=s=>new Promise((o,a,l)=>(s=n.call(r,s),l=s.done,Promise.resolve(s.value).then(c=>o({value:c,done:l}),a)))),t("next"),t("return"),e);import{r as ie,a as sP,g as oP,c as kn,b as aP}from"./vendor-9d7f3a89.js";import{L as mu,N as Nl,u as L5,R as lP,a as tn,B as cP}from"./router-4cbff3e7.js";import{g as gx,i as hP,a as uP,b as fP,d as UO,c as dP,u as pP,s as rl,e as LO,o as gP,f as Ox,h as nu,j as zO,k as OP,l as mx,m as mP,r as bP}from"./firebase-7d03940f.js";import{A as z5,X as wg,a as Lc,H as nm,M as Nu,E as q5,D as I5,b as yP,W as W5,c as Y5,C as Ih,F as Lp,R as zp,S as xP,T as ha,d as bx,e as wP,f as vP,P as SP,g as _P,h as kP,i as $P,j as PP,k as jP,l as yx,Z as D5,m as vl,n as pb,o as xx,U as QP,B as gb,L as Sl,p as qp,q as NP,r as AP}from"./ui-b62a8f42.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();var B5={exports:{}},vg={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TP=ie,CP=Symbol.for("react.element"),XP=Symbol.for("react.fragment"),EP=Object.prototype.hasOwnProperty,RP=TP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UP={key:!0,ref:!0,__self:!0,__source:!0};function M5(r,e,t){var i,n={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)EP.call(e,i)&&!UP.hasOwnProperty(i)&&(n[i]=e[i]);if(r&&r.defaultProps)for(i in e=r.defaultProps,e)n[i]===void 0&&(n[i]=e[i]);return{$$typeof:CP,type:r,key:s,ref:o,props:n,_owner:RP.current}}vg.Fragment=XP;vg.jsx=M5;vg.jsxs=M5;B5.exports=vg;var u=B5.exports,sm={},wx=sP;sm.createRoot=wx.createRoot,sm.hydrateRoot=wx.hydrateRoot;let LP={data:""},zP=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||LP,qP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,IP=/\/\*[^]*?\*\/|  +/g,vx=/\n+/g,ta=(r,e)=>{let t="",i="",n="";for(let s in r){let o=r[s];s[0]=="@"?s[1]=="i"?t=s+" "+o+";":i+=s[1]=="f"?ta(o,s):s+"{"+ta(o,s[1]=="k"?"":e)+"}":typeof o=="object"?i+=ta(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=ta.p?ta.p(s,o):s+":"+o+";")}return t+(e&&n?e+"{"+n+"}":n)+i},Hs={},F5=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+F5(r[t]);return e}return r},WP=(r,e,t,i,n)=>{let s=F5(r),o=Hs[s]||(Hs[s]=(l=>{let c=0,h=11;for(;c<l.length;)h=101*h+l.charCodeAt(c++)>>>0;return"go"+h})(s));if(!Hs[o]){let l=s!==r?r:(c=>{let h,f,g=[{}];for(;h=qP.exec(c.replace(IP,""));)h[4]?g.shift():h[3]?(f=h[3].replace(vx," ").trim(),g.unshift(g[0][f]=g[0][f]||{})):g[0][h[1]]=h[2].replace(vx," ").trim();return g[0]})(r);Hs[o]=ta(n?{["@keyframes "+o]:l}:l,t?"":"."+o)}let a=t&&Hs.g?Hs.g:null;return t&&(Hs.g=Hs[o]),((l,c,h,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=h?l+c.data:c.data+l)})(Hs[o],e,i,a),o},YP=(r,e,t)=>r.reduce((i,n,s)=>{let o=e[s];if(o&&o.call){let a=o(t),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":ta(a,""):a===!1?"":a}return i+n+(o==null?"":o)},"");function Sg(r){let e=this||{},t=r.call?r(e.p):r;return WP(t.unshift?t.raw?YP(t,[].slice.call(arguments,1),e.p):t.reduce((i,n)=>Object.assign(i,n&&n.call?n(e.p):n),{}):t,zP(e.target),e.g,e.o,e.k)}let V5,om,am;Sg.bind({g:1});let xo=Sg.bind({k:1});function DP(r,e,t,i){ta.p=e,V5=r,om=t,am=i}function Pa(r,e){let t=this||{};return function(){let i=arguments;function n(s,o){let a=Object.assign({},s),l=a.className||n.className;t.p=Object.assign({theme:om&&om()},a),t.o=/ *go\d+/.test(l),a.className=Sg.apply(t,i)+(l?" "+l:""),e&&(a.ref=o);let c=r;return r[0]&&(c=a.as||r,delete a.as),am&&c[0]&&am(a),V5(c,a)}return e?e(n):n}}var BP=r=>typeof r=="function",Ip=(r,e)=>BP(r)?r(e):r,MP=(()=>{let r=0;return()=>(++r).toString()})(),Z5=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),FP=20,Ob="default",G5=(r,e)=>{let{toastLimit:t}=r.settings;switch(e.type){case 0:return ur(et({},r),{toasts:[e.toast,...r.toasts].slice(0,t)});case 1:return ur(et({},r),{toasts:r.toasts.map(o=>o.id===e.toast.id?et(et({},o),e.toast):o)});case 2:let{toast:i}=e;return G5(r,{type:r.toasts.find(o=>o.id===i.id)?1:0,toast:i});case 3:let{toastId:n}=e;return ur(et({},r),{toasts:r.toasts.map(o=>o.id===n||n===void 0?ur(et({},o),{dismissed:!0,visible:!1}):o)});case 4:return e.toastId===void 0?ur(et({},r),{toasts:[]}):ur(et({},r),{toasts:r.toasts.filter(o=>o.id!==e.toastId)});case 5:return ur(et({},r),{pausedAt:e.time});case 6:let s=e.time-(r.pausedAt||0);return ur(et({},r),{pausedAt:void 0,toasts:r.toasts.map(o=>ur(et({},o),{pauseDuration:o.pauseDuration+s}))})}},tp=[],H5={toasts:[],pausedAt:void 0,settings:{toastLimit:FP}},$s={},K5=(r,e=Ob)=>{$s[e]=G5($s[e]||H5,r),tp.forEach(([t,i])=>{t===e&&i($s[e])})},J5=r=>Object.keys($s).forEach(e=>K5(r,e)),VP=r=>Object.keys($s).find(e=>$s[e].toasts.some(t=>t.id===r)),_g=(r=Ob)=>e=>{K5(e,r)},ZP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},GP=(r={},e=Ob)=>{let[t,i]=ie.useState($s[e]||H5),n=ie.useRef($s[e]);ie.useEffect(()=>(n.current!==$s[e]&&i($s[e]),tp.push([e,i]),()=>{let o=tp.findIndex(([a])=>a===e);o>-1&&tp.splice(o,1)}),[e]);let s=t.toasts.map(o=>{var a,l,c;return ur(et(et(et({},r),r[o.type]),o),{removeDelay:o.removeDelay||((a=r[o.type])==null?void 0:a.removeDelay)||(r==null?void 0:r.removeDelay),duration:o.duration||((l=r[o.type])==null?void 0:l.duration)||(r==null?void 0:r.duration)||ZP[o.type],style:et(et(et({},r.style),(c=r[o.type])==null?void 0:c.style),o.style)})});return ur(et({},t),{toasts:s})},HP=(r,e="blank",t)=>ur(et({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0},t),{id:(t==null?void 0:t.id)||MP()}),af=r=>(e,t)=>{let i=HP(e,r,t);return _g(i.toasterId||VP(i.id))({type:2,toast:i}),i.id},Kt=(r,e)=>af("blank")(r,e);Kt.error=af("error");Kt.success=af("success");Kt.loading=af("loading");Kt.custom=af("custom");Kt.dismiss=(r,e)=>{let t={type:3,toastId:r};e?_g(e)(t):J5(t)};Kt.dismissAll=r=>Kt.dismiss(void 0,r);Kt.remove=(r,e)=>{let t={type:4,toastId:r};e?_g(e)(t):J5(t)};Kt.removeAll=r=>Kt.remove(void 0,r);Kt.promise=(r,e,t)=>{let i=Kt.loading(e.loading,et(et({},t),t==null?void 0:t.loading));return typeof r=="function"&&(r=r()),r.then(n=>{let s=e.success?Ip(e.success,n):void 0;return s?Kt.success(s,et(et({id:i},t),t==null?void 0:t.success)):Kt.dismiss(i),n}).catch(n=>{let s=e.error?Ip(e.error,n):void 0;s?Kt.error(s,et(et({id:i},t),t==null?void 0:t.error)):Kt.dismiss(i)}),r};var KP=1e3,JP=(r,e="default")=>{let{toasts:t,pausedAt:i}=GP(r,e),n=ie.useRef(new Map).current,s=ie.useCallback((f,g=KP)=>{if(n.has(f))return;let p=setTimeout(()=>{n.delete(f),o({type:4,toastId:f})},g);n.set(f,p)},[]);ie.useEffect(()=>{if(i)return;let f=Date.now(),g=t.map(p=>{if(p.duration===1/0)return;let m=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(m<0){p.visible&&Kt.dismiss(p.id);return}return setTimeout(()=>Kt.dismiss(p.id,e),m)});return()=>{g.forEach(p=>p&&clearTimeout(p))}},[t,i,e]);let o=ie.useCallback(_g(e),[e]),a=ie.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=ie.useCallback((f,g)=>{o({type:1,toast:{id:f,height:g}})},[o]),c=ie.useCallback(()=>{i&&o({type:6,time:Date.now()})},[i,o]),h=ie.useCallback((f,g)=>{let{reverseOrder:p=!1,gutter:m=8,defaultPosition:y}=g||{},v=t.filter(P=>(P.position||y)===(f.position||y)&&P.height),S=v.findIndex(P=>P.id===f.id),C=v.filter((P,X)=>X<S&&P.visible).length;return v.filter(P=>P.visible).slice(...p?[C+1]:[0,C]).reduce((P,X)=>P+(X.height||0)+m,0)},[t]);return ie.useEffect(()=>{t.forEach(f=>{if(f.dismissed)s(f.id,f.removeDelay);else{let g=n.get(f.id);g&&(clearTimeout(g),n.delete(f.id))}})},[t,s]),{toasts:t,handlers:{updateHeight:l,startPause:a,endPause:c,calculateOffset:h}}},ej=xo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,tj=xo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rj=xo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ij=Pa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ej} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${tj} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${rj} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,nj=xo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,sj=Pa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${nj} 1s linear infinite;
`,oj=xo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,aj=xo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,lj=Pa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oj} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${aj} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,cj=Pa("div")`
  position: absolute;
`,hj=Pa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,uj=xo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fj=Pa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${uj} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,dj=({toast:r})=>{let{icon:e,type:t,iconTheme:i}=r;return e!==void 0?typeof e=="string"?ie.createElement(fj,null,e):e:t==="blank"?null:ie.createElement(hj,null,ie.createElement(sj,et({},i)),t!=="loading"&&ie.createElement(cj,null,t==="error"?ie.createElement(ij,et({},i)):ie.createElement(lj,et({},i))))},pj=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,gj=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,Oj="0%{opacity:0;} 100%{opacity:1;}",mj="0%{opacity:1;} 100%{opacity:0;}",bj=Pa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,yj=Pa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,xj=(r,e)=>{let t=r.includes("top")?1:-1,[i,n]=Z5()?[Oj,mj]:[pj(t),gj(t)];return{animation:e?`${xo(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xo(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},wj=ie.memo(({toast:r,position:e,style:t,children:i})=>{let n=r.height?xj(r.position||e||"top-center",r.visible):{opacity:0},s=ie.createElement(dj,{toast:r}),o=ie.createElement(yj,et({},r.ariaProps),Ip(r.message,r));return ie.createElement(bj,{className:r.className,style:et(et(et({},n),t),r.style)},typeof i=="function"?i({icon:s,message:o}):ie.createElement(ie.Fragment,null,s,o))});DP(ie.createElement);var vj=({id:r,className:e,style:t,onHeightUpdate:i,children:n})=>{let s=ie.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;i(r,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[r,i]);return ie.createElement("div",{ref:s,className:e,style:t},n)},Sj=(r,e)=>{let t=r.includes("top"),i=t?{top:0}:{bottom:0},n=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return et(et({left:0,right:0,display:"flex",position:"absolute",transition:Z5()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`},i),n)},_j=Sg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,nd=16,kj=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:i,children:n,toasterId:s,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:c}=JP(t,s);return ie.createElement("div",{"data-rht-toaster":s||"",style:et({position:"fixed",zIndex:9999,top:nd,left:nd,right:nd,bottom:nd,pointerEvents:"none"},o),className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(h=>{let f=h.position||e,g=c.calculateOffset(h,{reverseOrder:r,gutter:i,defaultPosition:e}),p=Sj(f,g);return ie.createElement(vj,{id:h.id,key:h.id,onHeightUpdate:c.updateHeight,className:h.visible?_j:"",style:p},h.type==="custom"?Ip(h.message,h):n?n(h):ie.createElement(wj,{toast:h,position:f}))}))},Te=Kt;const eS={apiKey:"AIzaSyBPi_Sl2qELAvamN8s7II-dfw3MGqCujlg",authDomain:"semprepzie-315b1.firebaseapp.com",projectId:"semprepzie-315b1",storageBucket:"semprepzie-315b1.firebasestorage.app",messagingSenderId:"247116610802",appId:"1:247116610802:web:149f4ee8e5c83c0567a46b",measurementId:"G-Q9Y7ZBCV4V"};console.log("Firebase initialized with API key:",eS.apiKey.substring(0,15)+"...");let Wp;gx().length===0?Wp=hP(eS):Wp=gx()[0];const xs=uP(Wp);let lm;try{lm=fP(Wp),console.log("Firestore initialized successfully")}catch(r){console.warn("Firestore not available:",r),lm=null}const sd=lm;function tS(r,e){return function(){return r.apply(e,arguments)}}const{toString:$j}=Object.prototype,{getPrototypeOf:mb}=Object,{iterator:kg,toStringTag:rS}=Symbol,$g=(r=>e=>{const t=$j.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Mn=r=>(r=r.toLowerCase(),e=>$g(e)===r),Pg=r=>e=>typeof e===r,{isArray:th}=Array,Au=Pg("undefined");function lf(r){return r!==null&&!Au(r)&&r.constructor!==null&&!Au(r.constructor)&&Bi(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const iS=Mn("ArrayBuffer");function Pj(r){let e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&iS(r.buffer),e}const jj=Pg("string"),Bi=Pg("function"),nS=Pg("number"),cf=r=>r!==null&&typeof r=="object",Qj=r=>r===!0||r===!1,rp=r=>{if($g(r)!=="object")return!1;const e=mb(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(rS in r)&&!(kg in r)},Nj=r=>{if(!cf(r)||lf(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch(e){return!1}},Aj=Mn("Date"),Tj=Mn("File"),Cj=Mn("Blob"),Xj=Mn("FileList"),Ej=r=>cf(r)&&Bi(r.pipe),Rj=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Bi(r.append)&&((e=$g(r))==="formdata"||e==="object"&&Bi(r.toString)&&r.toString()==="[object FormData]"))},Uj=Mn("URLSearchParams"),[Lj,zj,qj,Ij]=["ReadableStream","Request","Response","Headers"].map(Mn),Wj=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hf(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r=="undefined")return;let i,n;if(typeof r!="object"&&(r=[r]),th(r))for(i=0,n=r.length;i<n;i++)e.call(null,r[i],i,r);else{if(lf(r))return;const s=t?Object.getOwnPropertyNames(r):Object.keys(r),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,r[a],a,r)}}function sS(r,e){if(lf(r))return null;e=e.toLowerCase();const t=Object.keys(r);let i=t.length,n;for(;i-- >0;)if(n=t[i],e===n.toLowerCase())return n;return null}const Ol=(()=>typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global)(),oS=r=>!Au(r)&&r!==Ol;function cm(){const{caseless:r}=oS(this)&&this||{},e={},t=(i,n)=>{const s=r&&sS(e,n)||n;rp(e[s])&&rp(i)?e[s]=cm(e[s],i):rp(i)?e[s]=cm({},i):th(i)?e[s]=i.slice():e[s]=i};for(let i=0,n=arguments.length;i<n;i++)arguments[i]&&hf(arguments[i],t);return e}const Yj=(r,e,t,{allOwnKeys:i}={})=>(hf(e,(n,s)=>{t&&Bi(n)?r[s]=tS(n,t):r[s]=n},{allOwnKeys:i}),r),Dj=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Bj=(r,e,t,i)=>{r.prototype=Object.create(e.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Mj=(r,e,t,i)=>{let n,s,o;const a={};if(e=e||{},r==null)return e;do{for(n=Object.getOwnPropertyNames(r),s=n.length;s-- >0;)o=n[s],(!i||i(o,r,e))&&!a[o]&&(e[o]=r[o],a[o]=!0);r=t!==!1&&mb(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Fj=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const i=r.indexOf(e,t);return i!==-1&&i===t},Vj=r=>{if(!r)return null;if(th(r))return r;let e=r.length;if(!nS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Zj=(r=>e=>r&&e instanceof r)(typeof Uint8Array!="undefined"&&mb(Uint8Array)),Gj=(r,e)=>{const i=(r&&r[kg]).call(r);let n;for(;(n=i.next())&&!n.done;){const s=n.value;e.call(r,s[0],s[1])}},Hj=(r,e)=>{let t;const i=[];for(;(t=r.exec(e))!==null;)i.push(t);return i},Kj=Mn("HTMLFormElement"),Jj=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,n){return i.toUpperCase()+n}),Sx=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),eQ=Mn("RegExp"),aS=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),i={};hf(t,(n,s)=>{let o;(o=e(n,s,r))!==!1&&(i[s]=o||n)}),Object.defineProperties(r,i)},tQ=r=>{aS(r,(e,t)=>{if(Bi(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=r[t];if(Bi(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},rQ=(r,e)=>{const t={},i=n=>{n.forEach(s=>{t[s]=!0})};return th(r)?i(r):i(String(r).split(e)),t},iQ=()=>{},nQ=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function sQ(r){return!!(r&&Bi(r.append)&&r[rS]==="FormData"&&r[kg])}const oQ=r=>{const e=new Array(10),t=(i,n)=>{if(cf(i)){if(e.indexOf(i)>=0)return;if(lf(i))return i;if(!("toJSON"in i)){e[n]=i;const s=th(i)?[]:{};return hf(i,(o,a)=>{const l=t(o,n+1);!Au(l)&&(s[a]=l)}),e[n]=void 0,s}}return i};return t(r,0)},aQ=Mn("AsyncFunction"),lQ=r=>r&&(cf(r)||Bi(r))&&Bi(r.then)&&Bi(r.catch),lS=((r,e)=>r?setImmediate:e?((t,i)=>(Ol.addEventListener("message",({source:n,data:s})=>{n===Ol&&s===t&&i.length&&i.shift()()},!1),n=>{i.push(n),Ol.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Bi(Ol.postMessage)),cQ=typeof queueMicrotask!="undefined"?queueMicrotask.bind(Ol):typeof process!="undefined"&&process.nextTick||lS,hQ=r=>r!=null&&Bi(r[kg]),ye={isArray:th,isArrayBuffer:iS,isBuffer:lf,isFormData:Rj,isArrayBufferView:Pj,isString:jj,isNumber:nS,isBoolean:Qj,isObject:cf,isPlainObject:rp,isEmptyObject:Nj,isReadableStream:Lj,isRequest:zj,isResponse:qj,isHeaders:Ij,isUndefined:Au,isDate:Aj,isFile:Tj,isBlob:Cj,isRegExp:eQ,isFunction:Bi,isStream:Ej,isURLSearchParams:Uj,isTypedArray:Zj,isFileList:Xj,forEach:hf,merge:cm,extend:Yj,trim:Wj,stripBOM:Dj,inherits:Bj,toFlatObject:Mj,kindOf:$g,kindOfTest:Mn,endsWith:Fj,toArray:Vj,forEachEntry:Gj,matchAll:Hj,isHTMLForm:Kj,hasOwnProperty:Sx,hasOwnProp:Sx,reduceDescriptors:aS,freezeMethods:tQ,toObjectSet:rQ,toCamelCase:Jj,noop:iQ,toFiniteNumber:nQ,findKey:sS,global:Ol,isContextDefined:oS,isSpecCompliantForm:sQ,toJSONObject:oQ,isAsyncFn:aQ,isThenable:lQ,setImmediate:lS,asap:cQ,isIterable:hQ};function $t(r,e,t,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),n&&(this.response=n,this.status=n.status?n.status:null)}ye.inherits($t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.status}}});const cS=$t.prototype,hS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{hS[r]={value:r}});Object.defineProperties($t,hS);Object.defineProperty(cS,"isAxiosError",{value:!0});$t.from=(r,e,t,i,n,s)=>{const o=Object.create(cS);return ye.toFlatObject(r,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),$t.call(o,r.message,e,t,i,n),o.cause=r,o.name=r.name,s&&Object.assign(o,s),o};const uQ=null;function hm(r){return ye.isPlainObject(r)||ye.isArray(r)}function uS(r){return ye.endsWith(r,"[]")?r.slice(0,-2):r}function _x(r,e,t){return r?r.concat(e).map(function(n,s){return n=uS(n),!t&&s?"["+n+"]":n}).join(t?".":""):e}function fQ(r){return ye.isArray(r)&&!r.some(hm)}const dQ=ye.toFlatObject(ye,{},null,function(e){return/^is[A-Z]/.test(e)});function jg(r,e,t){if(!ye.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=ye.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!ye.isUndefined(v[y])});const i=t.metaTokens,n=t.visitor||h,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob!="undefined"&&Blob)&&ye.isSpecCompliantForm(e);if(!ye.isFunction(n))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(ye.isDate(m))return m.toISOString();if(ye.isBoolean(m))return m.toString();if(!l&&ye.isBlob(m))throw new $t("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(m)||ye.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function h(m,y,v){let S=m;if(m&&!v&&typeof m=="object"){if(ye.endsWith(y,"{}"))y=i?y:y.slice(0,-2),m=JSON.stringify(m);else if(ye.isArray(m)&&fQ(m)||(ye.isFileList(m)||ye.endsWith(y,"[]"))&&(S=ye.toArray(m)))return y=uS(y),S.forEach(function(P,X){!(ye.isUndefined(P)||P===null)&&e.append(o===!0?_x([y],X,s):o===null?y:y+"[]",c(P))}),!1}return hm(m)?!0:(e.append(_x(v,y,s),c(m)),!1)}const f=[],g=Object.assign(dQ,{defaultVisitor:h,convertValue:c,isVisitable:hm});function p(m,y){if(!ye.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(m),ye.forEach(m,function(S,C){(!(ye.isUndefined(S)||S===null)&&n.call(e,S,ye.isString(C)?C.trim():C,y,g))===!0&&p(S,y?y.concat(C):[C])}),f.pop()}}if(!ye.isObject(r))throw new TypeError("data must be an object");return p(r),e}function kx(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function bb(r,e){this._pairs=[],r&&jg(r,this,e)}const fS=bb.prototype;fS.append=function(e,t){this._pairs.push([e,t])};fS.toString=function(e){const t=e?function(i){return e.call(this,i,kx)}:kx;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function pQ(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dS(r,e,t){if(!e)return r;const i=t&&t.encode||pQ;ye.isFunction(t)&&(t={serialize:t});const n=t&&t.serialize;let s;if(n?s=n(e,t):s=ye.isURLSearchParams(e)?e.toString():new bb(e,t).toString(i),s){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class gQ{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ye.forEach(this.handlers,function(i){i!==null&&e(i)})}}const $x=gQ,pS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},OQ=typeof URLSearchParams!="undefined"?URLSearchParams:bb,mQ=typeof FormData!="undefined"?FormData:null,bQ=typeof Blob!="undefined"?Blob:null,yQ={isBrowser:!0,classes:{URLSearchParams:OQ,FormData:mQ,Blob:bQ},protocols:["http","https","file","blob","url","data"]},yb=typeof window!="undefined"&&typeof document!="undefined",um=typeof navigator=="object"&&navigator||void 0,xQ=yb&&(!um||["ReactNative","NativeScript","NS"].indexOf(um.product)<0),wQ=(()=>typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),vQ=yb&&window.location.href||"http://localhost",SQ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yb,hasStandardBrowserEnv:xQ,hasStandardBrowserWebWorkerEnv:wQ,navigator:um,origin:vQ},Symbol.toStringTag,{value:"Module"})),ji=et(et({},SQ),yQ);function _Q(r,e){return jg(r,new ji.classes.URLSearchParams,et({visitor:function(t,i,n,s){return ji.isNode&&ye.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function kQ(r){return ye.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $Q(r){const e={},t=Object.keys(r);let i;const n=t.length;let s;for(i=0;i<n;i++)s=t[i],e[s]=r[s];return e}function gS(r){function e(t,i,n,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&ye.isArray(n)?n.length:o,l?(ye.hasOwnProp(n,o)?n[o]=[n[o],i]:n[o]=i,!a):((!n[o]||!ye.isObject(n[o]))&&(n[o]=[]),e(t,i,n[o],s)&&ye.isArray(n[o])&&(n[o]=$Q(n[o])),!a)}if(ye.isFormData(r)&&ye.isFunction(r.entries)){const t={};return ye.forEachEntry(r,(i,n)=>{e(kQ(i),n,t,0)}),t}return null}function PQ(r,e,t){if(ye.isString(r))try{return(e||JSON.parse)(r),ye.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(r)}const xb={transitional:pS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",n=i.indexOf("application/json")>-1,s=ye.isObject(e);if(s&&ye.isHTMLForm(e)&&(e=new FormData(e)),ye.isFormData(e))return n?JSON.stringify(gS(e)):e;if(ye.isArrayBuffer(e)||ye.isBuffer(e)||ye.isStream(e)||ye.isFile(e)||ye.isBlob(e)||ye.isReadableStream(e))return e;if(ye.isArrayBufferView(e))return e.buffer;if(ye.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return _Q(e,this.formSerializer).toString();if((a=ye.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return jg(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||n?(t.setContentType("application/json",!1),PQ(e)):e}],transformResponse:[function(e){const t=this.transitional||xb.transitional,i=t&&t.forcedJSONParsing,n=this.responseType==="json";if(ye.isResponse(e)||ye.isReadableStream(e))return e;if(e&&ye.isString(e)&&(i&&!this.responseType||n)){const o=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?$t.from(a,$t.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ji.classes.FormData,Blob:ji.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],r=>{xb.headers[r]={}});const wb=xb,jQ=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QQ=r=>{const e={};let t,i,n;return r&&r.split(`
`).forEach(function(o){n=o.indexOf(":"),t=o.substring(0,n).trim().toLowerCase(),i=o.substring(n+1).trim(),!(!t||e[t]&&jQ[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},Px=Symbol("internals");function Wh(r){return r&&String(r).trim().toLowerCase()}function ip(r){return r===!1||r==null?r:ye.isArray(r)?r.map(ip):String(r)}function NQ(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(r);)e[i[1]]=i[2];return e}const AQ=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function qO(r,e,t,i,n){if(ye.isFunction(i))return i.call(this,e,t);if(n&&(e=t),!!ye.isString(e)){if(ye.isString(i))return e.indexOf(i)!==-1;if(ye.isRegExp(i))return i.test(e)}}function TQ(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function CQ(r,e){const t=ye.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+t,{value:function(n,s,o){return this[i].call(this,e,n,s,o)},configurable:!0})})}class Qg{constructor(e){e&&this.set(e)}set(e,t,i){const n=this;function s(a,l,c){const h=Wh(l);if(!h)throw new Error("header name must be a non-empty string");const f=ye.findKey(n,h);(!f||n[f]===void 0||c===!0||c===void 0&&n[f]!==!1)&&(n[f||l]=ip(a))}const o=(a,l)=>ye.forEach(a,(c,h)=>s(c,h,l));if(ye.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(ye.isString(e)&&(e=e.trim())&&!AQ(e))o(QQ(e),t);else if(ye.isObject(e)&&ye.isIterable(e)){let a={},l,c;for(const h of e){if(!ye.isArray(h))throw TypeError("Object iterator must return a key-value pair");a[c=h[0]]=(l=a[c])?ye.isArray(l)?[...l,h[1]]:[l,h[1]]:h[1]}o(a,t)}else e!=null&&s(t,e,i);return this}get(e,t){if(e=Wh(e),e){const i=ye.findKey(this,e);if(i){const n=this[i];if(!t)return n;if(t===!0)return NQ(n);if(ye.isFunction(t))return t.call(this,n,i);if(ye.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Wh(e),e){const i=ye.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||qO(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let n=!1;function s(o){if(o=Wh(o),o){const a=ye.findKey(i,o);a&&(!t||qO(i,i[a],a,t))&&(delete i[a],n=!0)}}return ye.isArray(e)?e.forEach(s):s(e),n}clear(e){const t=Object.keys(this);let i=t.length,n=!1;for(;i--;){const s=t[i];(!e||qO(this,this[s],s,e,!0))&&(delete this[s],n=!0)}return n}normalize(e){const t=this,i={};return ye.forEach(this,(n,s)=>{const o=ye.findKey(i,s);if(o){t[o]=ip(n),delete t[s];return}const a=e?TQ(s):String(s).trim();a!==s&&delete t[s],t[a]=ip(n),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ye.forEach(this,(i,n)=>{i!=null&&i!==!1&&(t[n]=e&&ye.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(n=>i.set(n)),i}static accessor(e){const i=(this[Px]=this[Px]={accessors:{}}).accessors,n=this.prototype;function s(o){const a=Wh(o);i[a]||(CQ(n,o),i[a]=!0)}return ye.isArray(e)?e.forEach(s):s(e),this}}Qg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(Qg.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(i){this[t]=i}}});ye.freezeMethods(Qg);const In=Qg;function IO(r,e){const t=this||wb,i=e||t,n=In.from(i.headers);let s=i.data;return ye.forEach(r,function(a){s=a.call(t,s,n.normalize(),e?e.status:void 0)}),n.normalize(),s}function OS(r){return!!(r&&r.__CANCEL__)}function rh(r,e,t){$t.call(this,r==null?"canceled":r,$t.ERR_CANCELED,e,t),this.name="CanceledError"}ye.inherits(rh,$t,{__CANCEL__:!0});function mS(r,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?r(t):e(new $t("Request failed with status code "+t.status,[$t.ERR_BAD_REQUEST,$t.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function XQ(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function EQ(r,e){r=r||10;const t=new Array(r),i=new Array(r);let n=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=i[s];o||(o=c),t[n]=l,i[n]=c;let f=s,g=0;for(;f!==n;)g+=t[f++],f=f%r;if(n=(n+1)%r,n===s&&(s=(s+1)%r),c-o<e)return;const p=h&&c-h;return p?Math.round(g*1e3/p):void 0}}function RQ(r,e){let t=0,i=1e3/e,n,s;const o=(c,h=Date.now())=>{t=h,n=null,s&&(clearTimeout(s),s=null),r(...c)};return[(...c)=>{const h=Date.now(),f=h-t;f>=i?o(c,h):(n=c,s||(s=setTimeout(()=>{s=null,o(n)},i-f)))},()=>n&&o(n)]}const Yp=(r,e,t=3)=>{let i=0;const n=EQ(50,250);return RQ(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=n(l),h=o<=a;i=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&h?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};r(f)},t)},jx=(r,e)=>{const t=r!=null;return[i=>e[0]({lengthComputable:t,total:r,loaded:i}),e[1]]},Qx=r=>(...e)=>ye.asap(()=>r(...e)),UQ=ji.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,ji.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(ji.origin),ji.navigator&&/(msie|trident)/i.test(ji.navigator.userAgent)):()=>!0,LQ=ji.hasStandardBrowserEnv?{write(r,e,t,i,n,s){const o=[r+"="+encodeURIComponent(e)];ye.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),ye.isString(i)&&o.push("path="+i),ye.isString(n)&&o.push("domain="+n),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zQ(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function qQ(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function bS(r,e,t){let i=!zQ(e);return r&&(i||t==!1)?qQ(r,e):e}const Nx=r=>r instanceof In?et({},r):r;function Al(r,e){e=e||{};const t={};function i(c,h,f,g){return ye.isPlainObject(c)&&ye.isPlainObject(h)?ye.merge.call({caseless:g},c,h):ye.isPlainObject(h)?ye.merge({},h):ye.isArray(h)?h.slice():h}function n(c,h,f,g){if(ye.isUndefined(h)){if(!ye.isUndefined(c))return i(void 0,c,f,g)}else return i(c,h,f,g)}function s(c,h){if(!ye.isUndefined(h))return i(void 0,h)}function o(c,h){if(ye.isUndefined(h)){if(!ye.isUndefined(c))return i(void 0,c)}else return i(void 0,h)}function a(c,h,f){if(f in e)return i(c,h);if(f in r)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h,f)=>n(Nx(c),Nx(h),f,!0)};return ye.forEach(Object.keys(et(et({},r),e)),function(h){const f=l[h]||n,g=f(r[h],e[h],h);ye.isUndefined(g)&&f!==a||(t[h]=g)}),t}const yS=r=>{const e=Al({},r);let{data:t,withXSRFToken:i,xsrfHeaderName:n,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=In.from(o),e.url=dS(bS(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(ye.isFormData(t)){if(ji.hasStandardBrowserEnv||ji.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...h]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...h].join("; "))}}if(ji.hasStandardBrowserEnv&&(i&&ye.isFunction(i)&&(i=i(e)),i||i!==!1&&UQ(e.url))){const c=n&&s&&LQ.read(s);c&&o.set(n,c)}return e},IQ=typeof XMLHttpRequest!="undefined",WQ=IQ&&function(r){return new Promise(function(t,i){const n=yS(r);let s=n.data;const o=In.from(n.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=n,h,f,g,p,m;function y(){p&&p(),m&&m(),n.cancelToken&&n.cancelToken.unsubscribe(h),n.signal&&n.signal.removeEventListener("abort",h)}let v=new XMLHttpRequest;v.open(n.method.toUpperCase(),n.url,!0),v.timeout=n.timeout;function S(){if(!v)return;const P=In.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:P,config:r,request:v};mS(function(k){t(k),y()},function(k){i(k),y()},T),v=null}"onloadend"in v?v.onloadend=S:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(S)},v.onabort=function(){v&&(i(new $t("Request aborted",$t.ECONNABORTED,r,v)),v=null)},v.onerror=function(){i(new $t("Network Error",$t.ERR_NETWORK,r,v)),v=null},v.ontimeout=function(){let X=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const T=n.transitional||pS;n.timeoutErrorMessage&&(X=n.timeoutErrorMessage),i(new $t(X,T.clarifyTimeoutError?$t.ETIMEDOUT:$t.ECONNABORTED,r,v)),v=null},s===void 0&&o.setContentType(null),"setRequestHeader"in v&&ye.forEach(o.toJSON(),function(X,T){v.setRequestHeader(T,X)}),ye.isUndefined(n.withCredentials)||(v.withCredentials=!!n.withCredentials),a&&a!=="json"&&(v.responseType=n.responseType),c&&([g,m]=Yp(c,!0),v.addEventListener("progress",g)),l&&v.upload&&([f,p]=Yp(l),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",p)),(n.cancelToken||n.signal)&&(h=P=>{v&&(i(!P||P.type?new rh(null,r,v):P),v.abort(),v=null)},n.cancelToken&&n.cancelToken.subscribe(h),n.signal&&(n.signal.aborted?h():n.signal.addEventListener("abort",h)));const C=XQ(n.url);if(C&&ji.protocols.indexOf(C)===-1){i(new $t("Unsupported protocol "+C+":",$t.ERR_BAD_REQUEST,r));return}v.send(s||null)})},YQ=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let i=new AbortController,n;const s=function(c){if(!n){n=!0,a();const h=c instanceof Error?c:this.reason;i.abort(h instanceof $t?h:new rh(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,s(new $t(`timeout ${e} of ms exceeded`,$t.ETIMEDOUT))},e);const a=()=>{r&&(o&&clearTimeout(o),o=null,r.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),r=null)};r.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>ye.asap(a),l}},DQ=YQ,BQ=function*(r,e){let t=r.byteLength;if(!e||t<e){yield r;return}let i=0,n;for(;i<t;)n=i+e,yield r.slice(i,n),i=n},MQ=function(r,e){return EO(this,null,function*(){try{for(var t=px(FQ(r)),i,n,s;i=!(n=yield new tl(t.next())).done;i=!1){const o=n.value;yield*RO(BQ(o,e))}}catch(n){s=[n]}finally{try{i&&(n=t.return)&&(yield new tl(n.call(t)))}finally{if(s)throw s[0]}}})},FQ=function(r){return EO(this,null,function*(){if(r[Symbol.asyncIterator]){yield*RO(r);return}const e=r.getReader();try{for(;;){const{done:t,value:i}=yield new tl(e.read());if(t)break;yield i}}finally{yield new tl(e.cancel())}})},Ax=(r,e,t,i)=>{const n=MQ(r,e);let s=0,o,a=c=>{o||(o=!0,i&&i(c))};return new ReadableStream({pull(c){return H(this,null,function*(){try{const{done:h,value:f}=yield n.next();if(h){a(),c.close();return}let g=f.byteLength;if(t){let p=s+=g;t(p)}c.enqueue(new Uint8Array(f))}catch(h){throw a(h),h}})},cancel(c){return a(c),n.return()}},{highWaterMark:2})},Ng=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xS=Ng&&typeof ReadableStream=="function",VQ=Ng&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):r=>H(void 0,null,function*(){return new Uint8Array(yield new Response(r).arrayBuffer())})),wS=(r,...e)=>{try{return!!r(...e)}catch(t){return!1}},ZQ=xS&&wS(()=>{let r=!1;const e=new Request(ji.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),Tx=64*1024,fm=xS&&wS(()=>ye.isReadableStream(new Response("").body)),Dp={stream:fm&&(r=>r.body)};Ng&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Dp[e]&&(Dp[e]=ye.isFunction(r[e])?t=>t[e]():(t,i)=>{throw new $t(`Response type '${e}' is not supported`,$t.ERR_NOT_SUPPORT,i)})})})(new Response);const GQ=r=>H(void 0,null,function*(){if(r==null)return 0;if(ye.isBlob(r))return r.size;if(ye.isSpecCompliantForm(r))return(yield new Request(ji.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(ye.isArrayBufferView(r)||ye.isArrayBuffer(r))return r.byteLength;if(ye.isURLSearchParams(r)&&(r=r+""),ye.isString(r))return(yield VQ(r)).byteLength}),HQ=(r,e)=>H(void 0,null,function*(){const t=ye.toFiniteNumber(r.getContentLength());return t==null?GQ(e):t}),KQ=Ng&&(r=>H(void 0,null,function*(){let{url:e,method:t,data:i,signal:n,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:h,withCredentials:f="same-origin",fetchOptions:g}=yS(r);c=c?(c+"").toLowerCase():"text";let p=DQ([n,s&&s.toAbortSignal()],o),m;const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(l&&ZQ&&t!=="get"&&t!=="head"&&(v=yield HQ(h,i))!==0){let T=new Request(e,{method:"POST",body:i,duplex:"half"}),E;if(ye.isFormData(i)&&(E=T.headers.get("content-type"))&&h.setContentType(E),T.body){const[k,z]=jx(v,Yp(Qx(l)));i=Ax(T.body,Tx,k,z)}}ye.isString(f)||(f=f?"include":"omit");const S="credentials"in Request.prototype;m=new Request(e,ur(et({},g),{signal:p,method:t.toUpperCase(),headers:h.normalize().toJSON(),body:i,duplex:"half",credentials:S?f:void 0}));let C=yield fetch(m,g);const P=fm&&(c==="stream"||c==="response");if(fm&&(a||P&&y)){const T={};["status","statusText","headers"].forEach(Q=>{T[Q]=C[Q]});const E=ye.toFiniteNumber(C.headers.get("content-length")),[k,z]=a&&jx(E,Yp(Qx(a),!0))||[];C=new Response(Ax(C.body,Tx,k,()=>{z&&z(),y&&y()}),T)}c=c||"text";let X=yield Dp[ye.findKey(Dp,c)||"text"](C,r);return!P&&y&&y(),yield new Promise((T,E)=>{mS(T,E,{data:X,headers:In.from(C.headers),status:C.status,statusText:C.statusText,config:r,request:m})})}catch(S){throw y&&y(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new $t("Network Error",$t.ERR_NETWORK,r,m),{cause:S.cause||S}):$t.from(S,S&&S.code,r,m)}})),dm={http:uQ,xhr:WQ,fetch:KQ};ye.forEach(dm,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch(t){}Object.defineProperty(r,"adapterName",{value:e})}});const Cx=r=>`- ${r}`,JQ=r=>ye.isFunction(r)||r===null||r===!1,vS={getAdapter:r=>{r=ye.isArray(r)?r:[r];const{length:e}=r;let t,i;const n={};for(let s=0;s<e;s++){t=r[s];let o;if(i=t,!JQ(t)&&(i=dm[(o=String(t)).toLowerCase()],i===void 0))throw new $t(`Unknown adapter '${o}'`);if(i)break;n[o||"#"+s]=i}if(!i){const s=Object.entries(n).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Cx).join(`
`):" "+Cx(s[0]):"as no adapter specified";throw new $t("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:dm};function WO(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new rh(null,r)}function Xx(r){return WO(r),r.headers=In.from(r.headers),r.data=IO.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),vS.getAdapter(r.adapter||wb.adapter)(r).then(function(i){return WO(r),i.data=IO.call(r,r.transformResponse,i),i.headers=In.from(i.headers),i},function(i){return OS(i)||(WO(r),i&&i.response&&(i.response.data=IO.call(r,r.transformResponse,i.response),i.response.headers=In.from(i.response.headers))),Promise.reject(i)})}const SS="1.11.0",Ag={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Ag[r]=function(i){return typeof i===r||"a"+(e<1?"n ":" ")+r}});const Ex={};Ag.transitional=function(e,t,i){function n(s,o){return"[Axios v"+SS+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new $t(n(o," has been removed"+(t?" in "+t:"")),$t.ERR_DEPRECATED);return t&&!Ex[o]&&(Ex[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};Ag.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function eN(r,e,t){if(typeof r!="object")throw new $t("options must be an object",$t.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let n=i.length;for(;n-- >0;){const s=i[n],o=e[s];if(o){const a=r[s],l=a===void 0||o(a,s,r);if(l!==!0)throw new $t("option "+s+" must be "+l,$t.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new $t("Unknown option "+s,$t.ERR_BAD_OPTION)}}const np={assertOptions:eN,validators:Ag},ns=np.validators;class Bp{constructor(e){this.defaults=e||{},this.interceptors={request:new $x,response:new $x}}request(e,t){return H(this,null,function*(){try{return yield this._request(e,t)}catch(i){if(i instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const s=n.stack?n.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch(o){}}throw i}})}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Al(this.defaults,t);const{transitional:i,paramsSerializer:n,headers:s}=t;i!==void 0&&np.assertOptions(i,{silentJSONParsing:ns.transitional(ns.boolean),forcedJSONParsing:ns.transitional(ns.boolean),clarifyTimeoutError:ns.transitional(ns.boolean)},!1),n!=null&&(ye.isFunction(n)?t.paramsSerializer={serialize:n}:np.assertOptions(n,{encode:ns.function,serialize:ns.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),np.assertOptions(t,{baseUrl:ns.spelling("baseURL"),withXsrfToken:ns.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&ye.merge(s.common,s[t.method]);s&&ye.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),t.headers=In.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let h,f=0,g;if(!l){const m=[Xx.bind(this),void 0];for(m.unshift(...a),m.push(...c),g=m.length,h=Promise.resolve(t);f<g;)h=h.then(m[f++],m[f++]);return h}g=a.length;let p=t;for(f=0;f<g;){const m=a[f++],y=a[f++];try{p=m(p)}catch(v){y.call(this,v);break}}try{h=Xx.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,g=c.length;f<g;)h=h.then(c[f++],c[f++]);return h}getUri(e){e=Al(this.defaults,e);const t=bS(e.baseURL,e.url,e.allowAbsoluteUrls);return dS(t,e.params,e.paramsSerializer)}}ye.forEach(["delete","get","head","options"],function(e){Bp.prototype[e]=function(t,i){return this.request(Al(i||{},{method:e,url:t,data:(i||{}).data}))}});ye.forEach(["post","put","patch"],function(e){function t(i){return function(s,o,a){return this.request(Al(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Bp.prototype[e]=t(),Bp.prototype[e+"Form"]=t(!0)});const sp=Bp;class vb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(n=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](n);i._listeners=null}),this.promise.then=n=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(n);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new rh(s,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new vb(function(n){e=n}),cancel:e}}}const tN=vb;function rN(r){return function(t){return r.apply(null,t)}}function iN(r){return ye.isObject(r)&&r.isAxiosError===!0}const pm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pm).forEach(([r,e])=>{pm[e]=r});const nN=pm;function _S(r){const e=new sp(r),t=tS(sp.prototype.request,e);return ye.extend(t,sp.prototype,e,{allOwnKeys:!0}),ye.extend(t,e,null,{allOwnKeys:!0}),t.create=function(n){return _S(Al(r,n))},t}const Dr=_S(wb);Dr.Axios=sp;Dr.CanceledError=rh;Dr.CancelToken=tN;Dr.isCancel=OS;Dr.VERSION=SS;Dr.toFormData=jg;Dr.AxiosError=$t;Dr.Cancel=Dr.CanceledError;Dr.all=function(e){return Promise.all(e)};Dr.spread=rN;Dr.isAxiosError=iN;Dr.mergeConfig=Al;Dr.AxiosHeaders=In;Dr.formToJSON=r=>gS(ye.isHTMLForm(r)?new FormData(r):r);Dr.getAdapter=vS.getAdapter;Dr.HttpStatusCode=nN;Dr.default=Dr;const sN=Dr;class oN{constructor(){Xt(this,"instance");this.instance=sN.create({baseURL:"https://semprepzie.onrender.com/api",timeout:1e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.instance.interceptors.request.use(e=>H(this,null,function*(){try{const t=xs.currentUser;if(t){const i=yield t.getIdToken();e.headers.Authorization=`Bearer ${i}`}}catch(t){console.error("Failed to get auth token:",t)}return e}),e=>Promise.reject(e)),this.instance.interceptors.response.use(e=>e,e=>(this.handleError(e),Promise.reject(e)))}handleError(e){var t;((t=e.response)==null?void 0:t.status)===401?(xs.signOut(),window.location.href="/login"):e.response&&e.response.status>=500&&console.error("Server error:",e)}login(e){return H(this,null,function*(){return(yield this.instance.post("/auth/login",e)).data})}signup(e){return H(this,null,function*(){return(yield this.instance.post("/auth/signup",e)).data})}verifyToken(e){return H(this,null,function*(){return(yield this.instance.post("/auth/verify-token",{token:e})).data})}resetPassword(e){return H(this,null,function*(){return(yield this.instance.post("/auth/reset-password",{email:e})).data})}getProfile(){return H(this,null,function*(){return(yield this.instance.get("/auth/profile")).data})}updateProfile(e){return H(this,null,function*(){return(yield this.instance.put("/auth/profile",e)).data})}getDocuments(e){return H(this,null,function*(){return(yield this.instance.get("/documents",{params:e})).data})}getDocument(e){return H(this,null,function*(){return(yield this.instance.get(`/documents/${e}`)).data})}getDocumentMetadata(e){return H(this,null,function*(){return(yield this.instance.get(`/documents/${e}/metadata`)).data})}uploadDocument(e){return H(this,null,function*(){return(yield this.instance.post("/documents/upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data})}deleteDocument(e){return H(this,null,function*(){return(yield this.instance.delete(`/documents/${e}`)).data})}submitContactForm(e){return H(this,null,function*(){return(yield this.instance.post("/contact/submit",e)).data})}registerDevice(e,t){return H(this,null,function*(){return(yield this.instance.post("/devices/register",{email:e,deviceId:t})).data})}getDevices(){return H(this,null,function*(){return(yield this.instance.get("/devices")).data})}getDeviceCount(e){return H(this,null,function*(){return(yield this.instance.post("/devices/count",{email:e})).data})}logoutOtherDevices(e){return H(this,null,function*(){return(yield this.instance.post("/devices/logout-others",{currentDeviceId:e})).data})}revokeDevice(e){return H(this,null,function*(){return(yield this.instance.delete(`/devices/${e}`)).data})}}const bc=new oN;function kS(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var n=r.length;for(e=0;e<n;e++)r[e]&&(t=kS(r[e]))&&(i&&(i+=" "),i+=t)}else for(t in r)r[t]&&(i&&(i+=" "),i+=t);return i}function aN(){for(var r,e,t=0,i="",n=arguments.length;t<n;t++)(r=arguments[t])&&(e=kS(r))&&(i&&(i+=" "),i+=e);return i}const Sb="-",lN=r=>{const e=hN(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=r;return{getClassGroupId:o=>{const a=o.split(Sb);return a[0]===""&&a.length!==1&&a.shift(),$S(a,e)||cN(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},$S=(r,e)=>{var o;if(r.length===0)return e.classGroupId;const t=r[0],i=e.nextPart.get(t),n=i?$S(r.slice(1),i):void 0;if(n)return n;if(e.validators.length===0)return;const s=r.join(Sb);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Rx=/^\[(.+)\]$/,cN=r=>{if(Rx.test(r)){const e=Rx.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},hN=r=>{const{theme:e,prefix:t}=r,i={nextPart:new Map,validators:[]};return fN(Object.entries(r.classGroups),t).forEach(([s,o])=>{gm(o,i,s,e)}),i},gm=(r,e,t,i)=>{r.forEach(n=>{if(typeof n=="string"){const s=n===""?e:Ux(e,n);s.classGroupId=t;return}if(typeof n=="function"){if(uN(n)){gm(n(i),e,t,i);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([s,o])=>{gm(o,Ux(e,s),t,i)})})},Ux=(r,e)=>{let t=r;return e.split(Sb).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},uN=r=>r.isThemeGetter,fN=(r,e)=>e?r.map(([t,i])=>{const n=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,n]}):r,dN=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const n=(s,o)=>{t.set(s,o),e++,e>r&&(e=0,i=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return n(s,o),o},set(s,o){t.has(s)?t.set(s,o):n(s,o)}}},PS="!",pN=r=>{const{separator:e,experimentalParseClassName:t}=r,i=e.length===1,n=e[0],s=e.length,o=a=>{const l=[];let c=0,h=0,f;for(let v=0;v<a.length;v++){let S=a[v];if(c===0){if(S===n&&(i||a.slice(v,v+s)===e)){l.push(a.slice(h,v)),h=v+s;continue}if(S==="/"){f=v;continue}}S==="["?c++:S==="]"&&c--}const g=l.length===0?a:a.substring(h),p=g.startsWith(PS),m=p?g.substring(1):g,y=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}};return t?a=>t({className:a,parseClassName:o}):o},gN=r=>{if(r.length<=1)return r;const e=[];let t=[];return r.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},ON=r=>et({cache:dN(r.cacheSize),parseClassName:pN(r)},lN(r)),mN=/\s+/,bN=(r,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:n}=e,s=[],o=r.trim().split(mN);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}=t(c);let m=!!p,y=i(m?g.substring(0,p):g);if(!y){if(!m){a=c+(a.length>0?" "+a:a);continue}if(y=i(g),!y){a=c+(a.length>0?" "+a:a);continue}m=!1}const v=gN(h).join(":"),S=f?v+PS:v,C=S+y;if(s.includes(C))continue;s.push(C);const P=n(y,m);for(let X=0;X<P.length;++X){const T=P[X];s.push(S+T)}a=c+(a.length>0?" "+a:a)}return a};function yN(){let r=0,e,t,i="";for(;r<arguments.length;)(e=arguments[r++])&&(t=jS(e))&&(i&&(i+=" "),i+=t);return i}const jS=r=>{if(typeof r=="string")return r;let e,t="";for(let i=0;i<r.length;i++)r[i]&&(e=jS(r[i]))&&(t&&(t+=" "),t+=e);return t};function xN(r,...e){let t,i,n,s=o;function o(l){const c=e.reduce((h,f)=>f(h),r());return t=ON(c),i=t.cache.get,n=t.cache.set,s=a,a(l)}function a(l){const c=i(l);if(c)return c;const h=bN(l,t);return n(l,h),h}return function(){return s(yN.apply(null,arguments))}}const fr=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},QS=/^\[(?:([a-z-]+):)?(.+)\]$/i,wN=/^\d+\/\d+$/,vN=new Set(["px","full","screen"]),SN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_N=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$N=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ks=r=>jc(r)||vN.has(r)||wN.test(r),Io=r=>ih(r,"length",EN),jc=r=>!!r&&!Number.isNaN(Number(r)),YO=r=>ih(r,"number",jc),Yh=r=>!!r&&Number.isInteger(Number(r)),jN=r=>r.endsWith("%")&&jc(r.slice(0,-1)),Qt=r=>QS.test(r),Wo=r=>SN.test(r),QN=new Set(["length","size","percentage"]),NN=r=>ih(r,QN,NS),AN=r=>ih(r,"position",NS),TN=new Set(["image","url"]),CN=r=>ih(r,TN,UN),XN=r=>ih(r,"",RN),Dh=()=>!0,ih=(r,e,t)=>{const i=QS.exec(r);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},EN=r=>_N.test(r)&&!kN.test(r),NS=()=>!1,RN=r=>$N.test(r),UN=r=>PN.test(r),LN=()=>{const r=fr("colors"),e=fr("spacing"),t=fr("blur"),i=fr("brightness"),n=fr("borderColor"),s=fr("borderRadius"),o=fr("borderSpacing"),a=fr("borderWidth"),l=fr("contrast"),c=fr("grayscale"),h=fr("hueRotate"),f=fr("invert"),g=fr("gap"),p=fr("gradientColorStops"),m=fr("gradientColorStopPositions"),y=fr("inset"),v=fr("margin"),S=fr("opacity"),C=fr("padding"),P=fr("saturate"),X=fr("scale"),T=fr("sepia"),E=fr("skew"),k=fr("space"),z=fr("translate"),Q=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",Qt,e],w=()=>[Qt,e],A=()=>["",Ks,Io],j=()=>["auto",jc,Qt],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",Qt],ve=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[jc,Qt];return{cacheSize:500,separator:":",theme:{colors:[Dh],spacing:[Ks,Io],blur:["none","",Wo,Qt],brightness:ae(),borderColor:[r],borderRadius:["none","","full",Wo,Qt],borderSpacing:w(),borderWidth:A(),contrast:ae(),grayscale:oe(),hueRotate:ae(),invert:oe(),gap:w(),gradientColorStops:[r],gradientColorStopPositions:[jN,Io],inset:_(),margin:_(),opacity:ae(),padding:w(),saturate:ae(),scale:ae(),sepia:oe(),skew:ae(),space:w(),translate:w()},classGroups:{aspect:[{aspect:["auto","square","video",Qt]}],container:["container"],columns:[{columns:[Wo]}],"break-after":[{"break-after":ve()}],"break-before":[{"break-before":ve()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),Qt]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yh,Qt]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qt]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",Yh,Qt]}],"grid-cols":[{"grid-cols":[Dh]}],"col-start-end":[{col:["auto",{span:["full",Yh,Qt]},Qt]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Dh]}],"row-start-end":[{row:["auto",{span:[Yh,Qt]},Qt]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qt,e]}],"min-w":[{"min-w":[Qt,e,"min","max","fit"]}],"max-w":[{"max-w":[Qt,e,"none","full","min","max","fit","prose",{screen:[Wo]},Wo]}],h:[{h:[Qt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Wo,Io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",YO]}],"font-family":[{font:[Dh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qt]}],"line-clamp":[{"line-clamp":["none",jc,YO]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ks,Qt]}],"list-image":[{"list-image":["none",Qt]}],"list-style-type":[{list:["none","disc","decimal",Qt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ks,Io]}],"underline-offset":[{"underline-offset":["auto",Ks,Qt]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),AN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CN]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:K()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Ks,Qt]}],"outline-w":[{outline:[Ks,Io]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Ks,Io]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",Wo,XN]}],"shadow-color":[{shadow:[Dh]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Wo,Qt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[P]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qt]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",Qt]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[X]}],"scale-x":[{"scale-x":[X]}],"scale-y":[{"scale-y":[X]}],rotate:[{rotate:[Yh,Qt]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qt]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qt]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qt]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[Ks,Io,YO]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zN=xN(LN),qN="23701a05";function bu(r){return!r||typeof r!="string"||!r.endsWith("@aitsrajampet.ac.in")?!1:r.split("@")[0].toLowerCase().startsWith(qN)}function Om(r){if(!r||typeof r!="string")return"";const e=r.split("@")[0];return e.length>=4?e.slice(-4).toUpperCase():""}function AS(...r){return zN(aN(r))}function IN(){return"device_"+Math.random().toString(36).substr(2,9)+"_"+Date.now()}const WN=()=>({userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,screenResolution:`${screen.width}x${screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}),YN=()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,DN=r=>H(void 0,null,function*(){try{if(!sd){console.warn("[LoginTracking] Firestore not available - skipping login tracking");return}const e=r.email;if(!e)return;const t=WN(),i=YN(),n=UO(sd,"user_logins",r.uid),s=yield dP(n);if(s.exists()){const o=s.data();yield pP(n,{lastLoginAt:rl(),loginCount:(o.loginCount||0)+1,deviceInfo:t,updatedAt:rl()});const a=UO(sd,"user_logins",r.uid,"sessions",i);yield LO(a,{sessionId:i,loginAt:rl(),deviceInfo:t}),console.log(`[LoginTracking] Updated login data for ${e}, session: ${i}`)}else{yield LO(n,{email:e,lastLoginAt:rl(),loginCount:1,deviceInfo:t,createdAt:rl(),updatedAt:rl()});const o=UO(sd,"user_logins",r.uid,"sessions",i);yield LO(o,{sessionId:i,loginAt:rl(),deviceInfo:t}),console.log(`[LoginTracking] Created login data for ${e}, session: ${i}`)}}catch(e){console.error("[LoginTracking] Error tracking user login:",e)}}),TS=ie.createContext(void 0),Fn=()=>{const r=ie.useContext(TS);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},BN=({children:r})=>{const[e,t]=ie.useState(null),[i,n]=ie.useState(!0);ie.useEffect(()=>gP(xs,m=>H(void 0,null,function*(){if(t(m),n(!1),m){try{yield DN(m)}catch(y){console.error("Failed to track login:",y)}try{const y=IN();yield bc.registerDevice(m.email,y)}catch(y){console.error("Failed to register device:",y)}}})),[]);const g={user:e,loading:i,login:(p,m)=>H(void 0,null,function*(){try{if(sessionStorage.removeItem("adminSession"),!bu(p))throw new Error("Only @aitsrajampet.ac.in emails are allowed");yield bc.login({email:p,password:m});const v=(yield Ox(xs,p,m)).user;if(!v.emailVerified)throw Te.error("Please verify your email before logging in"),yield nu(v),yield zO(xs),new Error("Email not verified");Te.success("Login successful!")}catch(y){throw console.error("Login error:",y),y.code==="auth/user-not-found"?new Error("No account found with this email address"):y.code==="auth/wrong-password"?new Error("Incorrect password"):y.code==="auth/too-many-requests"?new Error("Too many failed attempts. Please try again later"):y.code==="auth/invalid-email"?new Error("Invalid email address"):new Error(y.message||"Login failed")}}),adminLogin:(p,m)=>H(void 0,null,function*(){try{console.log("Admin login attempt for:",p);const v=(yield Ox(xs,p,m)).user;if(!v.emailVerified)throw console.log("Admin email not verified, sending verification email..."),yield nu(v),yield zO(xs),new Error("Admin email not verified. Please check your email for verification link and try again.");sessionStorage.setItem("adminSession",v.uid),Te.success("Admin login successful!")}catch(y){throw console.error("Admin login error:",y),y.code==="auth/user-not-found"?new Error("Admin account not found"):y.code==="auth/wrong-password"?new Error("Incorrect admin password"):y.code==="auth/too-many-requests"?new Error("Too many failed attempts. Please try again later"):y.code==="auth/invalid-email"?new Error("Invalid email address"):new Error(y.message||"Admin login failed")}}),signup:(p,m,y)=>H(void 0,null,function*(){try{if(!bu(p))throw new Error("Only @aitsrajampet.ac.in emails are allowed");if(m.length<6)throw new Error("Password must be at least 6 characters long");const S=(yield OP(xs,p,m)).user;y&&(yield mx(S,{displayName:y})),yield nu(S),yield bc.signup({email:p,password:m,displayName:y}),Te.success("Account created! Please check your email for verification")}catch(v){throw console.error("Signup error:",v),v.code==="auth/email-already-in-use"?new Error("An account with this email already exists"):v.code==="auth/weak-password"?new Error("Password is too weak"):v.code==="auth/invalid-email"?new Error("Invalid email address"):new Error(v.message||"Signup failed")}}),logout:()=>H(void 0,null,function*(){try{sessionStorage.removeItem("adminSession"),yield zO(xs),Te.success("Logged out successfully")}catch(p){throw console.error("Logout error:",p),new Error(p.message||"Logout failed")}}),resetPassword:p=>H(void 0,null,function*(){try{if(!bu(p))throw new Error("Only @aitsrajampet.ac.in emails are allowed");yield bc.resetPassword(p),yield mP(xs,p),Te.success("Password reset email sent!")}catch(m){throw console.error("Reset password error:",m),m.code==="auth/user-not-found"?new Error("No account found with this email address"):new Error(m.message||"Failed to send reset email")}}),updateUserProfile:p=>H(void 0,null,function*(){try{if(!e)throw new Error("No user logged in");yield mx(e,p),yield bc.updateProfile(p),Te.success("Profile updated successfully")}catch(m){throw console.error("Update profile error:",m),new Error(m.message||"Failed to update profile")}}),resendVerification:()=>H(void 0,null,function*(){try{if(!e)throw new Error("No user logged in");yield nu(e),Te.success("Verification email sent!")}catch(p){throw console.error("Resend verification error:",p),new Error(p.message||"Failed to send verification email")}})};return u.jsx(TS.Provider,{value:g,children:r})};class CS extends ie.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[u.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto bg-red-100 rounded-full",children:u.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),u.jsxs("div",{className:"mt-4 text-center",children:[u.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Something went wrong"}),u.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),u.jsxs("div",{className:"mt-6 space-y-3",children:[u.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Refresh Page"}),u.jsx("button",{onClick:()=>window.location.href="/",className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Go to Home"})]}),!1]})]})}):this.props.children}}const pl=class pl{constructor(){Xt(this,"serviceWorkerReady",!1);this.initializeServiceWorker()}static getInstance(){return pl.instance||(pl.instance=new pl),pl.instance}initializeServiceWorker(){return H(this,null,function*(){if("serviceWorker"in navigator)try{const e=yield navigator.serviceWorker.register("/sw.js",{scope:"/"});console.log("[CacheManager] Service Worker registered:",e),yield navigator.serviceWorker.ready,this.serviceWorkerReady=!0,e.addEventListener("updatefound",()=>{console.log("[CacheManager] Service Worker update found")}),navigator.serviceWorker.addEventListener("message",t=>{console.log("[CacheManager] Message from SW:",t.data)})}catch(e){console.error("[CacheManager] Service Worker registration failed:",e)}else console.warn("[CacheManager] Service Worker not supported")})}isReady(){return this.serviceWorkerReady&&"serviceWorker"in navigator}cacheDocument(e){return H(this,null,function*(){if(!this.isReady())return console.warn("[CacheManager] Service Worker not ready"),!1;try{const t=new MessageChannel;return new Promise((i,n)=>{var s;t.port1.onmessage=o=>{o.data.success?(console.log("[CacheManager] Document cached successfully:",e),i(!0)):(console.error("[CacheManager] Failed to cache document:",o.data.error),n(new Error(o.data.error)))},(s=navigator.serviceWorker.controller)==null||s.postMessage({type:"CACHE_DOCUMENT",url:e},[t.port2])})}catch(t){return console.error("[CacheManager] Error caching document:",t),!1}})}clearCache(){return H(this,null,function*(){if(!this.isReady())return console.warn("[CacheManager] Service Worker not ready"),!1;try{const e=new MessageChannel;return new Promise((t,i)=>{var n;e.port1.onmessage=s=>{s.data.success?(console.log("[CacheManager] Cache cleared successfully"),t(!0)):(console.error("[CacheManager] Failed to clear cache:",s.data.error),i(new Error(s.data.error)))},(n=navigator.serviceWorker.controller)==null||n.postMessage({type:"CLEAR_CACHE"},[e.port2])})}catch(e){return console.error("[CacheManager] Error clearing cache:",e),!1}})}getCacheStatus(){return H(this,null,function*(){if(!this.isReady())return console.warn("[CacheManager] Service Worker not ready"),null;try{const e=new MessageChannel;return new Promise((t,i)=>{var n;e.port1.onmessage=s=>{s.data.success?t(s.data.data):(console.error("[CacheManager] Failed to get cache status:",s.data.error),i(new Error(s.data.error)))},(n=navigator.serviceWorker.controller)==null||n.postMessage({type:"GET_CACHE_STATUS"},[e.port2])})}catch(e){return console.error("[CacheManager] Error getting cache status:",e),null}})}isDocumentCached(e){return H(this,null,function*(){try{if("caches"in window){const t=yield caches.open("semprepzie-documents-v1"),i=this.generateCacheKey(e);return!!(yield t.match(i))}return!1}catch(t){return console.error("[CacheManager] Error checking cache:",t),!1}})}getCachedDocumentBlob(e){return H(this,null,function*(){try{if("caches"in window){const t=yield caches.open("semprepzie-documents-v1"),i=this.generateCacheKey(e),n=yield t.match(i);if(n){const s=yield n.blob();return URL.createObjectURL(s)}}return null}catch(t){return console.error("[CacheManager] Error getting cached blob:",t),null}})}isOnline(){return navigator.onLine}formatCacheSize(e){if(e===0)return"0 B";const t=1024,i=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(1))+" "+i[n]}generateCacheKey(e){return`doc_${btoa(e).replace(/[^a-zA-Z0-9]/g,"_")}`}preloadDocuments(e){return H(this,null,function*(){console.log("[CacheManager] Preloading documents:",e.length);const t=e.map(i=>H(this,null,function*(){try{(yield this.isDocumentCached(i))||(yield this.cacheDocument(i),console.log("[CacheManager] Preloaded:",i))}catch(n){console.warn("[CacheManager] Failed to preload:",i,n)}}));yield Promise.allSettled(t),console.log("[CacheManager] Preloading completed")})}setupOfflineHandlers(){window.addEventListener("online",()=>{console.log("[CacheManager] Back online")}),window.addEventListener("offline",()=>{console.log("[CacheManager] Gone offline")})}};Xt(pl,"instance");let mm=pl;const yn=mm.getInstance(),ua=a=>{var l=a,{variant:r="primary",size:e="md",loading:t=!1,disabled:i,children:n,className:s}=l,o=XO(l,["variant","size","loading","disabled","children","className"]);const c="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-secondary-100 text-secondary-900 hover:bg-secondary-200 focus:ring-secondary-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500",outline:"border border-primary-300 text-primary-700 hover:bg-primary-50 focus:ring-primary-500"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return u.jsxs("button",ur(et({className:AS(c,h[r],f[e],s),disabled:i||t},o),{children:[t&&u.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]}))},vs=o=>{var a=o,{label:r,error:e,helperText:t,className:i,id:n}=a,s=XO(a,["label","error","helperText","className","id"]);const l=n||`input-${Math.random().toString(36).substr(2,9)}`;return u.jsxs("div",{className:"w-full",children:[r&&u.jsx("label",{htmlFor:l,className:"block text-sm font-medium text-secondary-700 mb-1",children:r}),u.jsx("input",et({id:l,className:AS("block w-full px-3 py-2 border rounded-lg text-sm placeholder-secondary-400 focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-200",e?"border-danger-300 focus:ring-danger-500":"border-secondary-300 focus:ring-primary-500",i)},s)),e&&u.jsx("p",{className:"mt-1 text-sm text-danger-600",children:e}),t&&!e&&u.jsx("p",{className:"mt-1 text-sm text-secondary-500",children:t})]})},XS=()=>window.location.origin+"/api",MN=()=>{const[r,e]=ie.useState(""),[t,i]=ie.useState(""),[n,s]=ie.useState(!1),[o,a]=ie.useState(!1),[l,c]=ie.useState({}),[h,f]=ie.useState(!1),[g,p]=ie.useState({name:"",email:"",issue:""}),[m,y]=ie.useState(!1),{login:v,adminLogin:S}=Fn(),C=()=>{const E={};if(!r)E.email="Email is required";else if(o)r.includes("@")||(E.email="Please enter a valid email address");else if(!r.endsWith("@aitsrajampet.ac.in"))E.email="Must use @aitsrajampet.ac.in email";else if(!bu(r)){const k=Om(r);E.email=`Access denied: Student number "${k}" is not authorized`}return t?t.length<6&&(E.password="Password must be at least 6 characters"):E.password="Password is required",c(E),Object.keys(E).length===0},P=E=>H(void 0,null,function*(){if(E.preventDefault(),!!C()){s(!0);try{o?(yield S(r,t),Te.success("Admin logged in successfully!")):(yield v(r,t),Te.success("Welcome back!"))}catch(k){k.message.includes("not verified")?Te.error(k.message,{duration:6e3}):Te.error(k.message||"Login failed")}finally{s(!1)}}}),X=()=>{a(!o),c({}),e("")},T=E=>H(void 0,null,function*(){if(E.preventDefault(),!g.name||!g.email||!g.issue){Te.error("Please fill in all fields");return}y(!0);try{const k=XS(),Q=yield(yield fetch(`${k}/api/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:g.name,email:g.email,subject:"Login/Signup Issue Report",message:g.issue})})).json();Q.success?(Te.success("Issue reported successfully! We will get back to you soon."),f(!1),p({name:"",email:"",issue:""})):Te.error(Q.message||"Failed to send report")}catch(k){console.error("Failed to report issue:",k),Te.error("Failed to send report. Please try again later.")}finally{y(!1)}});return u.jsxs("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold text-gradient mb-2",children:"Semprepzie"}),u.jsx("h2",{className:"text-2xl font-semibold text-secondary-900 mb-2",children:o?"Admin Access":"Welcome back"}),u.jsx("p",{className:"text-secondary-600",children:o?"Sign in with admin credentials":"Sign in to your account to continue"})]}),u.jsx("div",{className:"text-center",children:u.jsx("button",{type:"button",onClick:X,className:`inline-flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${o?"bg-red-100 text-red-700 hover:bg-red-200":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:o?u.jsx(u.Fragment,{children:"👤 Switch to Student Login"}):u.jsx(u.Fragment,{children:"⚙️ Login as Admin"})})}),u.jsxs("form",{className:`mt-8 space-y-6 ${o?"border-2 border-blue-200 rounded-lg p-6 bg-blue-50":""}`,onSubmit:P,children:[o&&u.jsx("div",{className:"text-center text-sm text-blue-700 bg-blue-100 rounded-md p-2",children:"🔐 Admin Mode Active - Email domain validation disabled"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(vs,{label:"Email address",type:"email",value:r,onChange:E=>e(E.target.value),placeholder:o?"admin@example.com":"your.email@aitsrajampet.ac.in",error:l.email,required:!0}),u.jsx(vs,{label:"Password",type:"password",value:t,onChange:E=>i(E.target.value),placeholder:"Enter your password",error:l.password,required:!0})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(mu,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-500 transition-colors",children:"Forgot your password?"})}),u.jsx(ua,{type:"submit",className:"w-full",loading:n,disabled:n,children:o?"Sign in as Admin":"Sign in"})]}),!o&&u.jsx("div",{className:"text-center",children:u.jsxs("p",{className:"text-sm text-secondary-600",children:["Don't have an account?"," ",u.jsx(mu,{to:"/signup",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",children:"Sign up"})]})}),u.jsx("div",{className:"text-center",children:u.jsx(mu,{to:"/contact",className:"text-sm text-secondary-500 hover:text-secondary-700 transition-colors",children:"Need help? Contact us"})}),u.jsx("div",{className:"text-center",children:u.jsxs("button",{type:"button",onClick:()=>f(!0),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors",children:[u.jsx(z5,{className:"w-4 h-4"}),"Having trouble logging in? Report an issue"]})})]}),h&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Report Login/Signup Issue"}),u.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:u.jsx(wg,{className:"w-6 h-6"})})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Having trouble logging in or signing up? Let us know and we'll help you out!"}),u.jsxs("form",{onSubmit:T,className:"space-y-4",children:[u.jsx(vs,{label:"Your Name",type:"text",value:g.name,onChange:E=>p(ur(et({},g),{name:E.target.value})),placeholder:"Enter your name",required:!0}),u.jsx(vs,{label:"Your Email",type:"email",value:g.email,onChange:E=>p(ur(et({},g),{email:E.target.value})),placeholder:"your.email@aitsrajampet.ac.in",required:!0}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Describe the Issue"}),u.jsx("textarea",{value:g.issue,onChange:E=>p(ur(et({},g),{issue:E.target.value})),placeholder:"Describe the problem you're facing...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",required:!0})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(ua,{type:"button",onClick:()=>f(!1),className:"flex-1 bg-gray-200 text-gray-700 hover:bg-gray-300",disabled:m,children:"Cancel"}),u.jsx(ua,{type:"submit",className:"flex-1",loading:m,disabled:m,children:"Send Report"})]})]})]})})]})},FN=()=>{const[r,e]=ie.useState({email:"",password:"",confirmPassword:"",displayName:""}),[t,i]=ie.useState(!1),[n,s]=ie.useState({}),[o,a]=ie.useState(!1),[l,c]=ie.useState({name:"",email:"",issue:""}),[h,f]=ie.useState(!1),{signup:g}=Fn(),p=()=>{const S={};if(!r.email)S.email="Email is required";else if(!r.email.endsWith("@aitsrajampet.ac.in"))S.email="Must use @aitsrajampet.ac.in email";else if(!bu(r.email)){const C=Om(r.email);S.email=`Access denied: Student number "${C}" is not in the authorized list. Please contact admin if this is an error.`}return r.password?r.password.length<6&&(S.password="Password must be at least 6 characters"):S.password="Password is required",r.confirmPassword?r.password!==r.confirmPassword&&(S.confirmPassword="Passwords do not match"):S.confirmPassword="Please confirm your password",r.displayName||(S.displayName="Display name is required"),s(S),Object.keys(S).length===0},m=S=>{const{name:C,value:P}=S.target;e(X=>ur(et({},X),{[C]:P})),n[C]&&s(X=>ur(et({},X),{[C]:""}))},y=S=>H(void 0,null,function*(){if(S.preventDefault(),!!p()){i(!0);try{yield g(r.email,r.password,r.displayName),Te.success("Account created! Please check your email for verification.")}catch(C){if(C.message.includes("Only @aitsrajampet.ac.in emails are allowed")){const P=Om(r.email);Te.error(`Access denied: Student number "${P}" is not authorized. Contact admin if this is an error.`)}else Te.error(C.message||"Signup failed")}finally{i(!1)}}}),v=S=>H(void 0,null,function*(){if(S.preventDefault(),!l.name||!l.email||!l.issue){Te.error("Please fill in all fields");return}f(!0);try{const C=XS(),X=yield(yield fetch(`${C}/api/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l.name,email:l.email,subject:"Signup Issue Report",message:l.issue})})).json();X.success?(Te.success("Issue reported successfully! We will get back to you soon."),a(!1),c({name:"",email:"",issue:""})):Te.error(X.message||"Failed to send report")}catch(C){console.error("Failed to report issue:",C),Te.error("Failed to send report. Please try again later.")}finally{f(!1)}});return u.jsxs("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold text-gradient mb-2",children:"Semprepzie"}),u.jsx("h2",{className:"text-2xl font-semibold text-secondary-900 mb-2",children:"Create your account"}),u.jsx("p",{className:"text-secondary-600",children:"Join our educational platform"}),u.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Note:"})," Only authorized student numbers can register. Your email format should be: rollnumber@aitsrajampet.ac.in"]})})]}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx(vs,{label:"Display Name",name:"displayName",type:"text",value:r.displayName,onChange:m,placeholder:"Your full name",error:n.displayName,required:!0}),u.jsx(vs,{label:"Email address",name:"email",type:"email",value:r.email,onChange:m,placeholder:"your.email@aitsrajampet.ac.in",error:n.email,helperText:"Use your college roll number format",required:!0}),u.jsx(vs,{label:"Password",name:"password",type:"password",value:r.password,onChange:m,placeholder:"Enter your password",error:n.password,helperText:"Must be at least 6 characters",required:!0}),u.jsx(vs,{label:"Confirm Password",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:m,placeholder:"Confirm your password",error:n.confirmPassword,required:!0})]}),u.jsx(ua,{type:"submit",className:"w-full",loading:t,disabled:t,children:"Create Account"})]}),u.jsx("div",{className:"text-center",children:u.jsxs("p",{className:"text-sm text-secondary-600",children:["Already have an account?"," ",u.jsx(mu,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",children:"Sign in"})]})}),u.jsx("div",{className:"text-center",children:u.jsx(mu,{to:"/contact",className:"text-sm text-secondary-500 hover:text-secondary-700 transition-colors",children:"Need help? Contact us"})}),u.jsx("div",{className:"text-center",children:u.jsxs("button",{type:"button",onClick:()=>a(!0),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors",children:[u.jsx(z5,{className:"w-4 h-4"}),"Can't sign up? Report an issue"]})})]}),o&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Report Signup Issue"}),u.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:u.jsx(wg,{className:"w-6 h-6"})})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Having trouble signing up? Let us know and we'll help you out!"}),u.jsxs("form",{onSubmit:v,className:"space-y-4",children:[u.jsx(vs,{label:"Your Name",type:"text",value:l.name,onChange:S=>c(ur(et({},l),{name:S.target.value})),placeholder:"Enter your name",required:!0}),u.jsx(vs,{label:"Your Email",type:"email",value:l.email,onChange:S=>c(ur(et({},l),{email:S.target.value})),placeholder:"your.email@aitsrajampet.ac.in",required:!0}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Describe the Issue"}),u.jsx("textarea",{value:l.issue,onChange:S=>c(ur(et({},l),{issue:S.target.value})),placeholder:"Describe the problem you're facing...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",required:!0})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(ua,{type:"button",onClick:()=>a(!1),className:"flex-1 bg-gray-200 text-gray-700 hover:bg-gray-300",disabled:h,children:"Cancel"}),u.jsx(ua,{type:"submit",className:"flex-1",loading:h,disabled:h,children:"Send Report"})]})]})]})})]})},VN=()=>{const{user:r,logout:e}=Fn(),[t,i]=ie.useState(!1),[n,s]=ie.useState(0);if(ie.useEffect(()=>{const l=()=>H(void 0,null,function*(){r&&(yield bP(r),r.emailVerified&&(window.location.href="/dashboard"))});l();const c=setInterval(l,3e3);return()=>clearInterval(c)},[r]),ie.useEffect(()=>{if(n>0){const l=setTimeout(()=>s(n-1),1e3);return()=>clearTimeout(l)}},[n]),!r)return u.jsx(Nl,{to:"/login",replace:!0});if(r.emailVerified)return u.jsx(Nl,{to:"/dashboard",replace:!0});const o=()=>H(void 0,null,function*(){if(!(!r||t||n>0)){i(!0);try{yield nu(r),Kt.success("Verification email sent! Check your inbox."),s(60)}catch(l){console.error("Error sending verification email:",l),Kt.error(l.message||"Failed to send verification email")}finally{i(!1)}}}),a=()=>H(void 0,null,function*(){if(window.confirm("Are you sure you want to sign out?"))try{yield e(),Kt.success("Logged out successfully")}catch(c){console.error("Logout error:",c),Kt.error("Failed to logout")}});return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-md w-full",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx("svg",{className:"w-8 h-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verify Your Email"}),u.jsxs("p",{className:"text-gray-600 mb-6",children:["We've sent a verification link to:",u.jsx("br",{}),u.jsx("span",{className:"font-semibold text-primary-600",children:r.email})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 text-left",children:[u.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Next Steps:"}),u.jsxs("ol",{className:"text-sm text-blue-800 space-y-1",children:[u.jsx("li",{children:"1. Check your email inbox"}),u.jsx("li",{children:"2. Click the verification link"}),u.jsx("li",{children:"3. Return to this page - you'll be redirected automatically"})]})]}),u.jsx("button",{onClick:o,disabled:t||n>0,className:`w-full py-2 px-4 rounded-lg font-medium mb-4 transition-all ${t||n>0?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 active:transform active:scale-95"}`,children:t?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):n>0?`Resend in ${n}s`:"Resend Verification Email"}),u.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Didn't receive the email? Check your spam folder or try resending."}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"I've Verified - Refresh Page"}),u.jsx("button",{onClick:a,className:"w-full py-2 px-4 text-gray-500 hover:text-gray-700 transition-colors",children:"Sign Out"})]})]}),u.jsx("div",{className:"text-center mt-6 text-sm text-gray-500",children:u.jsxs("p",{children:["Having trouble? ",u.jsx("a",{href:"/contact",className:"text-primary-600 hover:underline",children:"Contact Support"})]})})]})})},ES=()=>{const{user:r}=Fn(),[e,t]=ie.useState(!1);return ie.useEffect(()=>{const i=sessionStorage.getItem("adminSession"),n=r==null?void 0:r.uid;r&&r.emailVerified&&i===n?t(!0):t(!1)},[r]),{isAdmin:e,currentUser:r}},ZN="modulepreload",GN=function(r){return"/"+r},Lx={},fa=function(e,t,i){if(!t||t.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=GN(s),s in Lx)return;Lx[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!i)for(let h=n.length-1;h>=0;h--){const f=n[h];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":ZN,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},HN=r=>{let e;return r?e=r:typeof fetch=="undefined"?e=(...t)=>fa(()=>Promise.resolve().then(()=>nh),void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class _b extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class KN extends _b{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zx extends _b{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qx extends _b{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var bm;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(bm||(bm={}));var JN=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(i.next(h))}catch(f){o(f)}}function l(h){try{c(i.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):n(h.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};class e6{constructor(e,{headers:t={},customFetch:i,region:n=bm.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=HN(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return JN(this,void 0,void 0,function*(){try{const{headers:n,method:s,body:o}=t;let a={},{region:l}=t;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let h;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob!="undefined"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(a["Content-Type"]="text/plain",h=o):typeof FormData!="undefined"&&o instanceof FormData?h=o:(a["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:h}).catch(y=>{throw new KN(y)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new zx(f);if(!f.ok)throw new qx(f);let p=((i=f.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(n){return{data:null,error:n,response:n instanceof qx||n instanceof zx?n.context:void 0}}})}}var Wi={},kb={},Tg={},uf={},Cg={},Xg={},t6=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},zc=t6();const r6=zc.fetch,RS=zc.fetch.bind(zc),US=zc.Headers,i6=zc.Request,n6=zc.Response,nh=Object.freeze(Object.defineProperty({__proto__:null,Headers:US,Request:i6,Response:n6,default:RS,fetch:r6},Symbol.toStringTag,{value:"Module"})),s6=oP(nh);var Eg={};Object.defineProperty(Eg,"__esModule",{value:!0});let o6=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Eg.default=o6;var LS=kn&&kn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xg,"__esModule",{value:!0});const a6=LS(s6),l6=LS(Eg);let c6=class{constructor(e){var t,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(i=e.isMaybeSingle)!==null&&i!==void 0?i:!1,e.fetch?this.fetch=e.fetch:typeof fetch=="undefined"?this.fetch=a6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let n=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>H(this,null,function*(){var o,a,l,c;let h=null,f=null,g=null,p=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const C=yield s.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=C:f=JSON.parse(C))}const v=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),S=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&S&&S.length>1&&(g=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,g=null,p=406,m="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const v=yield s.text();try{h=JSON.parse(v),Array.isArray(h)&&s.status===404&&(f=[],h=null,p=200,m="OK")}catch(S){s.status===404&&v===""?(p=204,m="No Content"):h={message:v}}if(h&&this.isMaybeSingle&&(!((c=h==null?void 0:h.details)===null||c===void 0)&&c.includes("0 rows"))&&(h=null,p=200,m="OK"),h&&this.shouldThrowOnError)throw new l6.default(h)}return{error:h,data:f,count:g,status:p,statusText:m}}));return this.shouldThrowOnError||(n=n.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}};Xg.default=c6;var h6=kn&&kn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cg,"__esModule",{value:!0});const u6=h6(Xg);let f6=class extends u6.default{select(e){let t=!1;const i=(e!=null?e:"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:i,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:i=t}={}){const n=typeof i=="undefined"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:i,referencedTable:n=i}={}){const s=typeof n=="undefined"?"offset":`${n}.offset`,o=typeof n=="undefined"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:i=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,i?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Cg.default=f6;var d6=kn&&kn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(uf,"__esModule",{value:!0});const p6=d6(Cg);let g6=class extends p6.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const i=Array.from(new Set(t)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:i,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,i])=>{this.url.searchParams.append(t,`eq.${i}`)}),this}not(e,t,i){return this.url.searchParams.append(e,`not.${t}.${i}`),this}or(e,{foreignTable:t,referencedTable:i=t}={}){const n=i?`${i}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,i){return this.url.searchParams.append(e,`${t}.${i}`),this}};uf.default=g6;var O6=kn&&kn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tg,"__esModule",{value:!0});const Bh=O6(uf);let m6=class{constructor(e,{headers:t={},schema:i,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=i,this.fetch=n}select(e,{head:t=!1,count:i}={}){const n=t?"HEAD":"GET";let s=!1;const o=(e!=null?e:"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),i&&this.headers.append("Prefer",`count=${i}`),new Bh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:i=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Bh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:i=!1,count:n,defaultToNull:s=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new Bh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var i;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Bh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:e}={}){var t;const i="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Bh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};Tg.default=m6;var zS=kn&&kn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(kb,"__esModule",{value:!0});const b6=zS(Tg),y6=zS(uf);let x6=class qS{constructor(e,{headers:t={},schema:i,fetch:n}={}){this.url=e,this.headers=new Headers(t),this.schemaName=i,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new b6.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new qS(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,get:n=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;i||n?(a=i?"HEAD":"GET",Object.entries(t).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{l.searchParams.append(f,g)})):(a="POST",c=t);const h=new Headers(this.headers);return s&&h.set("Prefer",`count=${s}`),new y6.default({method:a,url:l,headers:h,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};kb.default=x6;var sh=kn&&kn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.PostgrestError=Wi.PostgrestBuilder=Wi.PostgrestTransformBuilder=Wi.PostgrestFilterBuilder=Wi.PostgrestQueryBuilder=Wi.PostgrestClient=void 0;const IS=sh(kb);Wi.PostgrestClient=IS.default;const WS=sh(Tg);Wi.PostgrestQueryBuilder=WS.default;const YS=sh(uf);Wi.PostgrestFilterBuilder=YS.default;const DS=sh(Cg);Wi.PostgrestTransformBuilder=DS.default;const BS=sh(Xg);Wi.PostgrestBuilder=BS.default;const MS=sh(Eg);Wi.PostgrestError=MS.default;var w6=Wi.default={PostgrestClient:IS.default,PostgrestQueryBuilder:WS.default,PostgrestFilterBuilder:YS.default,PostgrestTransformBuilder:DS.default,PostgrestBuilder:BS.default,PostgrestError:MS.default};const{PostgrestClient:v6,PostgrestQueryBuilder:RW,PostgrestFilterBuilder:UW,PostgrestTransformBuilder:LW,PostgrestBuilder:zW,PostgrestError:qW}=w6;class S6{static detectEnvironment(){var e;if(typeof WebSocket!="undefined")return{type:"native",constructor:WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocket!="undefined")return{type:"native",constructor:globalThis.WebSocket};if(typeof global!="undefined"&&typeof global.WebSocket!="undefined")return{type:"native",constructor:global.WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocketPair!="undefined"&&typeof globalThis.WebSocket=="undefined")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis!="undefined"&&globalThis.EdgeRuntime||typeof navigator!="undefined"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process!="undefined"){const t=process.versions;if(t&&t.node){const i=t.node,n=parseInt(i.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket!="undefined"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch(e){return!1}}}const _6="2.15.5",k6=`realtime-js/${_6}`,$6="1.0.0",ym=1e4,P6=1e3,j6=100;var yu;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(yu||(yu={}));var Hr;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Hr||(Hr={}));var zn;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(zn||(zn={}));var xm;(function(r){r.websocket="websocket"})(xm||(xm={}));var ul;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ul||(ul={}));class Q6{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const n=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=i.decode(e.slice(o,o+n));o=o+n;const l=i.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(i.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class FS{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var cr;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(cr||(cr={}));const Ix=(r,e,t={})=>{var i;const n=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((s,o)=>(s[o]=N6(o,r,e,n),s),{})},N6=(r,e,t,i)=>{const n=e.find(a=>a.name===r),s=n==null?void 0:n.type,o=t[r];return s&&!i.includes(s)?VS(s,o):wm(o)},VS=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return X6(e,t)}switch(r){case cr.bool:return A6(e);case cr.float4:case cr.float8:case cr.int2:case cr.int4:case cr.int8:case cr.numeric:case cr.oid:return T6(e);case cr.json:case cr.jsonb:return C6(e);case cr.timestamp:return E6(e);case cr.abstime:case cr.date:case cr.daterange:case cr.int4range:case cr.int8range:case cr.money:case cr.reltime:case cr.text:case cr.time:case cr.timestamptz:case cr.timetz:case cr.tsrange:case cr.tstzrange:return wm(e);default:return wm(e)}},wm=r=>r,A6=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},T6=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},C6=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},X6=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,i=r[t];if(r[0]==="{"&&i==="}"){let s;const o=r.slice(1,t);try{s=JSON.parse("["+o+"]")}catch(a){s=o?o.split(","):[]}return s.map(a=>VS(e,a))}return r},E6=r=>typeof r=="string"?r.replace(" ","T"):r,ZS=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class DO{constructor(e,t,i={},n=ym){this.channel=e,this.event=t,this.payload=i,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Wx;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Wx||(Wx={}));class xu{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},n=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xu.syncState(this.state,n,s,o),this.pendingDiffs.forEach(l=>{this.state=xu.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},n=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=xu.syncDiff(this.state,n,s,o),a())}),this.onJoin((n,s,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:s,newPresences:o})}),this.onLeave((n,s,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,n){const s=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(s,(c,h)=>{o[c]||(l[c]=h)}),this.map(o,(c,h)=>{const f=s[c];if(f){const g=h.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=h.filter(v=>p.indexOf(v.presence_ref)<0),y=f.filter(v=>g.indexOf(v.presence_ref)<0);m.length>0&&(a[c]=m),y.length>0&&(l[c]=y)}else a[c]=h}),this.syncDiff(s,{joins:a,leaves:l},i,n)}static syncDiff(e,t,i,n){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),n||(n=()=>{}),this.map(s,(a,l)=>{var c;const h=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),h.length>0){const f=e[a].map(p=>p.presence_ref),g=h.filter(p=>f.indexOf(p.presence_ref)<0);e[a].unshift(...g)}i(a,h,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const h=l.map(f=>f.presence_ref);c=c.filter(f=>h.indexOf(f.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const n=e[i];return"metas"in n?t[i]=n.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[i]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yx;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Yx||(Yx={}));var wu;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(wu||(wu={}));var lo;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(lo||(lo={}));class $b{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=Hr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new DO(this,zn.join,this.params,this.timeout),this.rejoinTimer=new FS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Hr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Hr.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Hr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zn.reply,{},(n,s)=>{this._trigger(this._replyEventName(s),n)}),this.presence=new xu(this),this.broadcastEndpointURL=ZS(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var i,n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Hr.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(n=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(p=>p.filter))!==null&&n!==void 0?n:[],h=!!this.bindings[wu.PRESENCE]&&this.bindings[wu.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},g={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:h}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(lo.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(lo.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",m=>H(this,[m],function*({postgres_changes:p}){var y;if(this.socket.setAuth(),p===void 0){e==null||e(lo.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,S=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,C=[];for(let P=0;P<S;P++){const X=v[P],{filter:{event:T,schema:E,table:k,filter:z}}=X,Q=p&&p[P];if(Q&&Q.event===T&&Q.schema===E&&Q.table===k&&Q.filter===z)C.push(Object.assign(Object.assign({},X),{id:Q.id}));else{this.unsubscribe(),this.state=Hr.errored,e==null||e(lo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(lo.SUBSCRIBED);return}})).receive("error",p=>{this.state=Hr.errored,e==null||e(lo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(lo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(i){return H(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return H(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,i){return this.state===Hr.joined&&e===wu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}send(i){return H(this,arguments,function*(e,t={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const h=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return yield(s=h.body)===null||s===void 0?void 0:s.cancel(),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const h=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Hr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(n=>{i=new DO(this,zn.leave,{},e),i.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Hr.closed,this.bindings={}}_fetchWithTimeout(e,t,i){return H(this,null,function*(){const n=new AbortController,s=setTimeout(()=>n.abort(),i),o=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(s),o})}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new DO(this,e,t,i);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>j6){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var n,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:h}=zn;if(i&&[a,l,c,h].indexOf(o)>=0&&i!==this._joinRef())return;let g=this._onMessage(o,t,i);if(t&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var m,y,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(g,i)):(s=this.bindings[o])===null||s===void 0||s.filter(p=>{var m,y,v,S,C,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const X=p.id,T=(m=p.filter)===null||m===void 0?void 0:m.event;return X&&((y=t.ids)===null||y===void 0?void 0:y.includes(X))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((v=t.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const X=(C=(S=p==null?void 0:p.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return X==="*"||X===((P=t==null?void 0:t.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof g=="object"&&"ids"in g){const m=g.data,{schema:y,table:v,commit_timestamp:S,type:C,errors:P}=m;g=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:S,eventType:C,new:{},old:{},errors:P}),this._getPayloadRecords(m))}p.callback(g,i)})}_isClosed(){return this.state===Hr.closed}_isJoined(){return this.state===Hr.joined}_isJoining(){return this.state===Hr.joining}_isLeaving(){return this.state===Hr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const n=e.toLocaleLowerCase(),s={type:n,filter:t,callback:i};return this.bindings[n]?this.bindings[n].push(s):this.bindings[n]=[s],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(n=>{var s;return!(((s=n.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&$b.isEqual(n.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(zn.close,{},e)}_onError(e){this._on(zn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Hr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Ix(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Ix(e.columns,e.old_record)),t}}const BO=()=>{},od={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},R6=[1e3,2e3,5e3,1e4],U6=1e4,L6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class z6{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ym,this.transport=null,this.heartbeatIntervalMs=od.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=BO,this.ref=0,this.reconnectTimer=null,this.logger=BO,this.conn=null,this.sendBuffer=[],this.serializer=new Q6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let s;return n?s=n:typeof fetch=="undefined"?s=(...o)=>fa(()=>Promise.resolve().then(()=>nh),void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((i=t==null?void 0:t.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${xm.websocket}`,this.httpEndpoint=ZS(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=S6.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$6}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,t!=null?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return H(this,null,function*(){const t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return H(this,null,function*(){const e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case yu.connecting:return ul.Connecting;case yu.open:return ul.Open;case yu.closing:return ul.Closing;default:return ul.Closed}}isConnected(){return this.connectionState()===ul.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,n=this.getChannels().find(s=>s.topic===i);if(n)return n;{const s=new $b(`realtime:${e}`,t,this);return this.channels.push(s),s}}push(e){const{topic:t,event:i,payload:n,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${i} (${s})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e=null){return H(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return H(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(P6,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},od.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:n,payload:s,ref:o}=t,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${i} ${n} ${a}`.trim(),s),this.channels.filter(c=>c._isMember(i)).forEach(c=>c._trigger(n,s,o)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(zn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${i}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([L6],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}_performAuth(e=null){return H(this,null,function*(){let t;e?t=e:this.accessToken?t=yield this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const n={access_token:t,version:k6};t&&i.updateJoinPayload(n),i.joinedOnce&&i._isJoined()&&i._push(zn.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return H(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new FS(()=>H(this,null,function*(){setTimeout(()=>H(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),od.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var t,i,n,s,o,a,l,c,h;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:ym,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:od.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:BO,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>R6[f-1]||U6,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(f,g)=>g(JSON.stringify(f)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Pb extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Kr(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class q6 extends Pb{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vm extends Pb{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var I6=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(i.next(h))}catch(f){o(f)}}function l(h){try{c(i.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):n(h.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};const GS=r=>{let e;return r?e=r:typeof fetch=="undefined"?e=(...t)=>fa(()=>Promise.resolve().then(()=>nh),void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},W6=()=>I6(void 0,void 0,void 0,function*(){return typeof Response=="undefined"?(yield fa(()=>Promise.resolve().then(()=>nh),void 0)).Response:Response}),Sm=r=>{if(Array.isArray(r))return r.map(t=>Sm(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,i])=>{const n=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[n]=Sm(i)}),e},Y6=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Bl=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(i.next(h))}catch(f){o(f)}}function l(h){try{c(i.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):n(h.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};const MO=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),D6=(r,e,t)=>Bl(void 0,void 0,void 0,function*(){const i=yield W6();r instanceof i&&!(t!=null&&t.noResolveJson)?r.json().then(n=>{const s=r.status||500,o=(n==null?void 0:n.statusCode)||s+"";e(new q6(MO(n),s,o))}).catch(n=>{e(new vm(MO(n),n))}):e(new vm(MO(r),r))}),B6=(r,e,t,i)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!i?n:(Y6(i)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(i)):n.body=i,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),t))};function ff(r,e,t,i,n,s){return Bl(this,void 0,void 0,function*(){return new Promise((o,a)=>{r(t,B6(e,i,n,s)).then(l=>{if(!l.ok)throw l;return i!=null&&i.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>D6(l,a,i))})})}function Mp(r,e,t,i){return Bl(this,void 0,void 0,function*(){return ff(r,"GET",e,t,i)})}function ws(r,e,t,i,n){return Bl(this,void 0,void 0,function*(){return ff(r,"POST",e,i,n,t)})}function _m(r,e,t,i,n){return Bl(this,void 0,void 0,function*(){return ff(r,"PUT",e,i,n,t)})}function M6(r,e,t,i){return Bl(this,void 0,void 0,function*(){return ff(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function HS(r,e,t,i,n){return Bl(this,void 0,void 0,function*(){return ff(r,"DELETE",e,i,n,t)})}var Xi=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(i.next(h))}catch(f){o(f)}}function l(h){try{c(i.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):n(h.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};const F6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class V6{constructor(e,t={},i,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=GS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,i,n){return Xi(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Dx),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob!="undefined"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",i)):typeof FormData!="undefined"&&i instanceof FormData?(s=i,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=i,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(t),h=this._getFinalPath(c),f=yield(e=="PUT"?_m:ws)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Kr(s))return{data:null,error:s};throw s}})}upload(e,t,i){return Xi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,n){return Xi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:Dx.upsert},n),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob!="undefined"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",i)):typeof FormData!="undefined"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl)):(l=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const f=yield _m(this.fetch,a.toString(),l,{headers:h});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Kr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return Xi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const s=yield ws(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:n}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Pb("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kr(i))return{data:null,error:i};throw i}})}update(e,t,i){return Xi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return Xi(this,void 0,void 0,function*(){try{return{data:yield ws(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}copy(e,t,i){return Xi(this,void 0,void 0,function*(){try{return{data:{path:(yield ws(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,i){return Xi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),s=yield ws(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,i){return Xi(this,void 0,void 0,function*(){try{const n=yield ws(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}download(e,t){return Xi(this,void 0,void 0,function*(){const n=typeof(t==null?void 0:t.transform)!="undefined"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Mp(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Kr(a))return{data:null,error:a};throw a}})}info(e){return Xi(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield Mp(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Sm(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kr(i))return{data:null,error:i};throw i}})}exists(e){return Xi(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield M6(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kr(i)&&i instanceof vm){const n=i.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const a=typeof(t==null?void 0:t.transform)!="undefined"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${i}${c}`)}}}remove(e){return Xi(this,void 0,void 0,function*(){try{return{data:yield HS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Kr(t))return{data:null,error:t};throw t}})}list(e,t,i){return Xi(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},F6),t),{prefix:e||""});return{data:yield ws(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},i),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kr(n))return{data:null,error:n};throw n}})}listV2(e,t){return Xi(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield ws(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kr(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Z6="2.12.0",G6={"X-Client-Info":`storage-js/${Z6}`};var lc=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(i.next(h))}catch(f){o(f)}}function l(h){try{c(i.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):n(h.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};class H6{constructor(e,t={},i,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},G6),t),this.fetch=GS(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return lc(this,void 0,void 0,function*(){try{return{data:yield Mp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Kr(e))return{data:null,error:e};throw e}})}getBucket(e){return lc(this,void 0,void 0,function*(){try{return{data:yield Mp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Kr(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return lc(this,void 0,void 0,function*(){try{return{data:yield ws(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kr(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return lc(this,void 0,void 0,function*(){try{return{data:yield _m(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kr(i))return{data:null,error:i};throw i}})}emptyBucket(e){return lc(this,void 0,void 0,function*(){try{return{data:yield ws(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Kr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return lc(this,void 0,void 0,function*(){try{return{data:yield HS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Kr(t))return{data:null,error:t};throw t}})}}class K6 extends H6{constructor(e,t={},i,n){super(e,t,i,n)}from(e){return new V6(this.url,this.headers,e,this.fetch)}}const J6="2.57.3";let su="";typeof Deno!="undefined"?su="deno":typeof document!="undefined"?su="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?su="react-native":su="node";const eA={"X-Client-Info":`supabase-js-${su}/${J6}`},tA={headers:eA},rA={schema:"public"},iA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nA={};var sA=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(i.next(h))}catch(f){o(f)}}function l(h){try{c(i.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):n(h.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};const oA=r=>{let e;return r?e=r:typeof fetch=="undefined"?e=RS:e=fetch,(...t)=>e(...t)},aA=()=>typeof Headers=="undefined"?US:Headers,lA=(r,e,t)=>{const i=oA(t),n=aA();return(s,o)=>sA(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:r;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),i(s,Object.assign(Object.assign({},o),{headers:c}))})};var cA=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(i.next(h))}catch(f){o(f)}}function l(h){try{c(i.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):n(h.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function hA(r){return r.endsWith("/")?r:r+"/"}function uA(r,e){var t,i;const{db:n,auth:s,realtime:o,global:a}=r,{db:l,auth:c,realtime:h,global:f}=e,g={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(t=f==null?void 0:f.headers)!==null&&t!==void 0?t:{}),(i=a==null?void 0:a.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>cA(this,void 0,void 0,function*(){return""})};return r.accessToken?g.accessToken=r.accessToken:delete g.accessToken,g}function fA(r){const e=r==null?void 0:r.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hA(e))}catch(t){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const KS="2.71.1",yc=30*1e3,km=3,FO=km*yc,dA="http://localhost:9999",pA="supabase.auth.token",gA={"X-Client-Info":`gotrue-js/${KS}`},$m="X-Supabase-Api-Version",JS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},OA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mA=10*60*1e3;class jb extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function kt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class bA extends jb{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function yA(r){return kt(r)&&r.name==="AuthApiError"}class e_ extends jb{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ja extends jb{constructor(e,t,i,n){super(e,i,n),this.name=t,this.status=i}}class Mo extends ja{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xA(r){return kt(r)&&r.name==="AuthSessionMissingError"}class ad extends ja{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ld extends ja{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class cd extends ja{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wA(r){return kt(r)&&r.name==="AuthImplicitGrantRedirectError"}class Bx extends ja{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pm extends ja{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function VO(r){return kt(r)&&r.name==="AuthRetryableFetchError"}class Mx extends ja{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class jm extends ja{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fx=` 	
\r=`.split(""),vA=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Fx.length;e+=1)r[Fx[e].charCodeAt(0)]=-2;for(let e=0;e<Fp.length;e+=1)r[Fp[e].charCodeAt(0)]=e;return r})();function Vx(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Fp[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Fp[i]),e.queuedBits-=6}}function t_(r,e,t){const i=vA[r];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Zx(r){const e=[],t=o=>{e.push(String.fromCodePoint(o))},i={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},s=o=>{kA(o,i,t)};for(let o=0;o<r.length;o+=1)t_(r.charCodeAt(o),n,s);return e.join("")}function SA(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function _A(r,e){for(let t=0;t<r.length;t+=1){let i=r.charCodeAt(t);if(i>55295&&i<=56319){const n=(i-55296)*1024&65535;i=(r.charCodeAt(t+1)-56320&65535|n)+65536,t+=1}SA(i,e)}}function kA(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let i=1;i<6;i+=1)if(!(r>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function $A(r){const e=[],t={queue:0,queuedBits:0},i=n=>{e.push(n)};for(let n=0;n<r.length;n+=1)t_(r.charCodeAt(n),t,i);return new Uint8Array(e)}function PA(r){const e=[];return _A(r,t=>e.push(t)),new Uint8Array(e)}function jA(r){const e=[],t={queue:0,queuedBits:0},i=n=>{e.push(n)};return r.forEach(n=>Vx(n,t,i)),Vx(null,t,i),e.join("")}function QA(r){return Math.round(Date.now()/1e3)+r}function NA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Ln=()=>typeof window!="undefined"&&typeof document!="undefined",il={tested:!1,writable:!1},r_=()=>{if(!Ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(il.tested)return il.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),il.tested=!0,il.writable=!0}catch(e){il.tested=!0,il.writable=!1}return il.writable};function AA(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,s)=>{e[s]=n})}catch(i){}return t.searchParams.forEach((i,n)=>{e[n]=i}),e}const i_=r=>{let e;return r?e=r:typeof fetch=="undefined"?e=(...t)=>fa(()=>Promise.resolve().then(()=>nh),void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},TA=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",xc=(r,e,t)=>H(void 0,null,function*(){yield r.setItem(e,JSON.stringify(t))}),nl=(r,e)=>H(void 0,null,function*(){const t=yield r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(i){return t}}),Yo=(r,e)=>H(void 0,null,function*(){yield r.removeItem(e)});class Rg{constructor(){this.promise=new Rg.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Rg.promiseConstructor=Promise;function ZO(r){const e=r.split(".");if(e.length!==3)throw new jm("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!OA.test(e[i]))throw new jm("JWT not in base64url format");return{header:JSON.parse(Zx(e[0])),payload:JSON.parse(Zx(e[1])),signature:$A(e[2]),raw:{header:e[0],payload:e[1]}}}function CA(r){return H(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),r)})})}function XA(r,e){return new Promise((i,n)=>{H(this,null,function*(){for(let s=0;s<1/0;s++)try{const o=yield r(s);if(!e(s,null,o)){i(o);return}}catch(o){if(!e(s,o)){n(o);return}}})})}function EA(r){return("0"+r.toString(16)).substr(-2)}function RA(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let n="";for(let s=0;s<56;s++)n+=t.charAt(Math.floor(Math.random()*i));return n}return crypto.getRandomValues(e),Array.from(e,EA).join("")}function UA(r){return H(this,null,function*(){const t=new TextEncoder().encode(r),i=yield crypto.subtle.digest("SHA-256",t),n=new Uint8Array(i);return Array.from(n).map(s=>String.fromCharCode(s)).join("")})}function LA(r){return H(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=yield UA(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function cc(r,e,t=!1){return H(this,null,function*(){const i=RA();let n=i;t&&(n+="/PASSWORD_RECOVERY"),yield xc(r,`${e}-code-verifier`,n);const s=yield LA(i);return[s,i===s?"plain":"s256"]})}const zA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qA(r){const e=r.headers.get($m);if(!e||!e.match(zA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(t){return null}}function IA(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function WA(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hc(r){if(!YA.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function GO(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gx(r){return JSON.parse(JSON.stringify(r))}var DA=globalThis&&globalThis.__rest||function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t};const cl=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),BA=[502,503,504];function Hx(r){return H(this,null,function*(){var e;if(!TA(r))throw new Pm(cl(r),0);if(BA.includes(r.status))throw new Pm(cl(r),r.status);let t;try{t=yield r.json()}catch(s){throw new e_(cl(s),s)}let i;const n=qA(r);if(n&&n.getTime()>=JS["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new Mx(cl(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Mo}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Mx(cl(t),r.status,t.weak_password.reasons);throw new bA(cl(t),r.status||500,i)})}const MA=(r,e,t,i)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),t))};function Nt(r,e,t,i){return H(this,null,function*(){var n;const s=Object.assign({},i==null?void 0:i.headers);s[$m]||(s[$m]=JS["2024-01-01"].name),i!=null&&i.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const o=(n=i==null?void 0:i.query)!==null&&n!==void 0?n:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield FA(r,e,t+a,{headers:s,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(l):{data:Object.assign({},l),error:null}})}function FA(r,e,t,i,n,s){return H(this,null,function*(){const o=MA(e,i,n,s);let a;try{a=yield r(t,Object.assign({},o))}catch(l){throw console.error(l),new Pm(cl(l),0)}if(a.ok||(yield Hx(a)),i!=null&&i.noResolveJson)return a;try{return yield a.json()}catch(l){yield Hx(l)}})}function io(r){var e;let t=null;HA(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=QA(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:i},error:null}}function Kx(r){const e=io(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function ra(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function VA(r){return{data:r,error:null}}function ZA(r){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:n,verification_type:s}=r,o=DA(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:i,redirect_to:n,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function GA(r){return r}function HA(r){return r.access_token&&r.refresh_token&&r.expires_in}const HO=["global","local","others"];var KA=globalThis&&globalThis.__rest||function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t};class JA{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=i_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(i){return H(this,arguments,function*(e,t=HO[0]){if(HO.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${HO.join(", ")}`);try{return yield Nt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}inviteUserByEmail(i){return H(this,arguments,function*(e,t={}){try{return yield Nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ra})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}})}generateLink(e){return H(this,null,function*(){try{const{options:t}=e,i=KA(e,["options"]),n=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(n.new_email=i==null?void 0:i.newEmail,delete n.newEmail),yield Nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:ZA,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(kt(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return H(this,null,function*(){try{return yield Nt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ra})}catch(t){if(kt(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return H(this,null,function*(){var t,i,n,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},h=yield Nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(s=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:""},xform:GA});if(h.error)throw h.error;const f=yield h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=y}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(kt(c))return{data:{users:[]},error:c};throw c}})}getUserById(e){return H(this,null,function*(){hc(e);try{return yield Nt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ra})}catch(t){if(kt(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return H(this,null,function*(){hc(e);try{return yield Nt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ra})}catch(i){if(kt(i))return{data:{user:null},error:i};throw i}})}deleteUser(e,t=!1){return H(this,null,function*(){hc(e);try{return yield Nt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ra})}catch(i){if(kt(i))return{data:{user:null},error:i};throw i}})}_listFactors(e){return H(this,null,function*(){hc(e.userId);try{const{data:t,error:i}=yield Nt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:i}}catch(t){if(kt(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return H(this,null,function*(){hc(e.userId),hc(e.id);try{return{data:yield Nt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(kt(t))return{data:null,error:t};throw t}})}}function Jx(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function eT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(r){typeof self!="undefined"&&(self.globalThis=self)}}const uc={debug:!!(globalThis&&r_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class n_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tT extends n_{}function rT(r,e,t){return H(this,null,function*(){uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),uc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},n=>H(this,null,function*(){if(n){uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return yield t()}finally{uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(e===0)throw uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new tT(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(uc.debug)try{const s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}eT();const iT={url:dA,storageKey:pA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function e2(r,e,t){return H(this,null,function*(){return yield t()})}const fc={};class Tu{constructor(e){var t,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Tu.nextInstanceID,Tu.nextInstanceID+=1,this.instanceID>0&&Ln()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},iT),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new JA({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=i_(n.fetch),this.lock=n.lock||e2,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ln()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=rT:this.lock=e2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:r_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jx(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Jx(this.memoryStorage)),Ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>H(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var e,t;return(t=(e=fc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){fc[this.storageKey]=Object.assign(Object.assign({},fc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=fc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fc[this.storageKey]=Object.assign(Object.assign({},fc[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${KS}) ${new Date().toISOString()}`,...e),this}initialize(){return H(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=(()=>H(this,null,function*(){return yield this._acquireLock(-1,()=>H(this,null,function*(){return yield this._initialize()}))}))(),yield this.initializePromise)})}_initialize(){return H(this,null,function*(){var e;try{const t=AA(window.location.href);let i="none";if(this._isImplicitGrantCallback(t)?i="implicit":(yield this._isPKCECallback(t))&&(i="pkce"),Ln()&&this.detectSessionInUrl&&i!=="none"){const{data:n,error:s}=yield this._getSessionFromURL(t,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),wA(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),yield this._saveSession(o),setTimeout(()=>H(this,null,function*(){a==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",o):yield this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return kt(t)?{error:t}:{error:new e_("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return H(this,null,function*(){var t,i,n;try{const s=yield Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:io}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return H(this,null,function*(){var t,i,n;try{let s;if("email"in e){const{email:h,password:f,options:g}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=yield cc(this.storage,this.storageKey)),s=yield Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:f,data:(t=g==null?void 0:g.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:m},xform:io})}else if("phone"in e){const{phone:h,password:f,options:g}=e;s=yield Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},channel:(n=g==null?void 0:g.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:io})}else throw new ld("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return H(this,null,function*(){try{let t;if("email"in e){const{email:s,password:o,options:a}=e;t=yield Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Kx})}else if("phone"in e){const{phone:s,password:o,options:a}=e;t=yield Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Kx})}else throw new ld("You must provide either an email or phone number and a password");const{data:i,error:n}=t;return n?{data:{user:null,session:null},error:n}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ad}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:n})}catch(t){if(kt(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOAuth(e){return H(this,null,function*(){var t,i,n,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return H(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>H(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return H(this,null,function*(){const{chain:t}=e;if(t==="solana")return yield this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)})}signInWithSolana(e){return H(this,null,function*(){var t,i,n,s,o,a,l,c,h,f,g,p;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:v,wallet:S,statement:C,options:P}=e;let X;if(Ln())if(typeof S=="object")X=S;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))X=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=S}const T=new URL((t=P==null?void 0:P.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in X&&X.signIn){const E=yield X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),C?{statement:C}:null));let k;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")k=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)k=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)m=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${T.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(n=(i=P==null?void 0:P.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((s=P==null?void 0:P.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((o=P==null?void 0:P.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((a=P==null?void 0:P.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((l=P==null?void 0:P.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((f=(h=P==null?void 0:P.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...P.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const E=yield X.signMessage(new TextEncoder().encode(m),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:v,error:S}=yield Nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:jA(y)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:io});if(S)throw S;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new ad}:(v.session&&(yield this._saveSession(v.session),yield this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:S})}catch(v){if(kt(v))return{data:{user:null,session:null},error:v};throw v}})}_exchangeCodeForSession(e){return H(this,null,function*(){const t=yield nl(this.storage,`${this.storageKey}-code-verifier`),[i,n]=(t!=null?t:"").split("/");try{const{data:s,error:o}=yield Nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:io});if(yield Yo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ad}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:n!=null?n:null}),error:o})}catch(s){if(kt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return H(this,null,function*(){try{const{options:t,provider:i,token:n,access_token:s,nonce:o}=e,a=yield Nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:n,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:io}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ad}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(kt(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOtp(e){return H(this,null,function*(){var t,i,n,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=yield cc(this.storage,this.storageKey));const{error:f}=yield Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:h}=yield Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new ld("You must provide either an email or phone number.")}catch(a){if(kt(a))return{data:{user:null,session:null},error:a};throw a}})}verifyOtp(e){return H(this,null,function*(){var t,i;try{let n,s;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:a}=yield Nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:n,xform:io});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithSSO(e){return H(this,null,function*(){var t,i,n;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=yield cc(this.storage,this.storageKey)),yield Nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:VA})}catch(s){if(kt(s))return{data:null,error:s};throw s}})}reauthenticate(){return H(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>H(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return H(this,null,function*(){try{return yield this._useSession(e=>H(this,null,function*(){const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new Mo;const{error:n}=yield Nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}}))}catch(e){if(kt(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return H(this,null,function*(){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:n,options:s}=e,{error:o}=yield Nt(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:n,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:i,type:n,options:s}=e,{data:o,error:a}=yield Nt(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:n,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ld("You must provide either an email or phone number and a type")}catch(t){if(kt(t))return{data:{user:null,session:null},error:t};throw t}})}getSession(){return H(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>H(this,null,function*(){return this._useSession(t=>H(this,null,function*(){return t}))}))})}_acquireLock(e,t){return H(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(()=>H(this,null,function*(){return yield i,yield t()}))();return this.pendingInLock.push((()=>H(this,null,function*(){try{yield n}catch(s){}}))()),n}return yield this.lock(`lock:${this.storageKey}`,e,()=>H(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((()=>H(this,null,function*(){try{yield i}catch(n){}}))()),yield i;this.pendingInLock.length;){const n=[...this.pendingInLock];yield Promise.all(n),this.pendingInLock.splice(0,n.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return H(this,null,function*(){this._debug("#_useSession","begin");try{const t=yield this.__loadSession();return yield e(t)}finally{this._debug("#_useSession","end")}})}__loadSession(){return H(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=yield nl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<FO:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const o=yield nl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=GO()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,h)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,h))})}return{data:{session:e},error:null}}const{session:n,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return H(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>H(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return H(this,null,function*(){try{return e?yield Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ra}):yield this._useSession(t=>H(this,null,function*(){var i,n,s;const{data:o,error:a}=t;if(a)throw a;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mo}:yield Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0,xform:ra})}))}catch(t){if(kt(t))return xA(t)&&(yield this._removeSession(),yield Yo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}})}updateUser(i){return H(this,arguments,function*(e,t={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>H(this,null,function*(){return yield this._updateUser(e,t)}))})}_updateUser(i){return H(this,arguments,function*(e,t={}){try{return yield this._useSession(n=>H(this,null,function*(){const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Mo;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=yield cc(this.storage,this.storageKey));const{data:h,error:f}=yield Nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:ra});if(f)throw f;return a.user=h.user,yield this._saveSession(a),yield this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}}))}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}})}setSession(e){return H(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>H(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return H(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new Mo;const t=Date.now()/1e3;let i=t,n=!0,s=null;const{payload:o}=ZO(e.access_token);if(o.exp&&(i=o.exp,n=i<=t),n){const{session:a,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=yield this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:i-t,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(kt(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){return H(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>H(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return H(this,null,function*(){try{return yield this._useSession(t=>H(this,null,function*(){var i;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Mo;const{session:n,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(kt(t))return{data:{user:null,session:null},error:t};throw t}})}_getSessionFromURL(e,t){return H(this,null,function*(){try{if(!Ln())throw new cd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new cd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Bx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cd("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Bx("No code detected.");const{data:C,error:P}=yield this._exchangeCodeForSession(e.code);if(P)throw P;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:n,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!o||!c)throw new cd("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(a);let g=h+f;l&&(g=parseInt(l));const p=g-h;p*1e3<=yc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=g-f;h-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,g,h):h-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,g,h);const{data:y,error:v}=yield this._getUser(s);if(v)throw v;const S={provider_token:i,provider_refresh_token:n,access_token:s,expires_in:f,expires_at:g,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(i){if(kt(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return H(this,null,function*(){const t=yield nl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)})}signOut(){return H(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>H(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return H(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(t=>H(this,null,function*(){var i;const{data:n,error:s}=t;if(s)return{error:s};const o=(i=n.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:a}=yield this.admin.signOut(o,e);if(a&&!(yA(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(yield this._removeSession(),yield Yo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){const t=NA(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),H(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>H(this,null,function*(){this._emitInitialSession(t)}))}),{data:{subscription:i}}}_emitInitialSession(e){return H(this,null,function*(){return yield this._useSession(t=>H(this,null,function*(){var i,n;try{const{data:{session:s},error:o}=t;if(o)throw o;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return H(this,arguments,function*(e,t={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=yield cc(this.storage,this.storageKey,!0));try{return yield Nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(kt(o))return{data:null,error:o};throw o}})}getUserIdentities(){return H(this,null,function*(){var e;try{const{data:t,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(kt(t))return{data:null,error:t};throw t}})}linkIdentity(e){return H(this,null,function*(){var t;try{const{data:i,error:n}=yield this._useSession(s=>H(this,null,function*(){var o,a,l,c,h;const{data:f,error:g}=s;if(g)throw g;const p=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield Nt(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})}));if(n)throw n;return Ln()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(kt(i))return{data:{provider:e.provider,url:null},error:i};throw i}})}unlinkIdentity(e){return H(this,null,function*(){try{return yield this._useSession(t=>H(this,null,function*(){var i,n;const{data:s,error:o}=t;if(o)throw o;return yield Nt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0})}))}catch(t){if(kt(t))return{data:null,error:t};throw t}})}_refreshAccessToken(e){return H(this,null,function*(){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return yield XA(n=>H(this,null,function*(){return n>0&&(yield CA(200*Math.pow(2,n-1))),this._debug(t,"refreshing attempt",n),yield Nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:io})}),(n,s)=>{const o=200*Math.pow(2,n);return s&&VO(s)&&Date.now()+o-i<yc})}catch(i){if(this._debug(t,"error",i),kt(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return H(this,null,function*(){const i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),Ln()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return H(this,null,function*(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const n=yield nl(this.storage,this.storageKey);if(n&&this.userStorage){let o=yield nl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},yield xc(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:GO()}else if(n&&!n.user&&!n.user){const o=yield nl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,yield Yo(this.storage,this.storageKey+"-user"),yield xc(this.storage,this.storageKey,n)):n.user=GO()}if(this._debug(i,"session from storage",n),!this._isValidSession(n)){this._debug(i,"session is not valid"),n!==null&&(yield this._removeSession());return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<FO;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${FO}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=yield this._callRefreshToken(n.refresh_token);o&&(console.error(o),VO(o)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",o),yield this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=yield this._getUser(n.access_token);!a&&(o!=null&&o.user)?(n.user=o.user,yield this._saveSession(n),yield this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(i,"error getting user data, skipping SIGNED_IN notification",o)}else yield this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(i,"error",n),console.error(n);return}finally{this._debug(i,"end")}})}_callRefreshToken(e){return H(this,null,function*(){var t,i;if(!e)throw new Mo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Rg;const{data:s,error:o}=yield this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Mo;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(n,"error",s),kt(s)){const o={session:null,error:s};return VO(s)||(yield this._removeSession()),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(n,"end")}})}_notifyAllSubscribers(e,t,i=!0){return H(this,null,function*(){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(a=>H(this,null,function*(){try{yield a.callback(e,t)}catch(l){s.push(l)}}));if(yield Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(n,"end")}})}_saveSession(e){return H(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&(yield xc(this.userStorage,this.storageKey+"-user",{user:t.user}));const n=Object.assign({},t);delete n.user;const s=Gx(n);yield xc(this.storage,this.storageKey,s)}else{const n=Gx(t);yield xc(this.storage,this.storageKey,n)}})}_removeSession(){return H(this,null,function*(){this._debug("#_removeSession()"),yield Yo(this.storage,this.storageKey),yield Yo(this.storage,this.storageKey+"-code-verifier"),yield Yo(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Yo(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}_startAutoRefresh(){return H(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>H(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return H(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return H(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return H(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return H(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>H(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(t=>H(this,null,function*(){const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((i.expires_at*1e3-e)/yc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${yc}ms, refresh threshold is ${km} ticks`),n<=km&&(yield this._callRefreshToken(i.refresh_token))}))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof n_)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return H(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>H(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return H(this,null,function*(){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>H(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t,i){return H(this,null,function*(){const n=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&n.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&n.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,o]=yield cc(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(i!=null&&i.queryParams){const s=new URLSearchParams(i.queryParams);n.push(s.toString())}return i!=null&&i.skipBrowserRedirect&&n.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${n.join("&")}`})}_unenroll(e){return H(this,null,function*(){try{return yield this._useSession(t=>H(this,null,function*(){var i;const{data:n,error:s}=t;return s?{data:null,error:s}:yield Nt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token})}))}catch(t){if(kt(t))return{data:null,error:t};throw t}})}_enroll(e){return H(this,null,function*(){try{return yield this._useSession(t=>H(this,null,function*(){var i,n;const{data:s,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=yield Nt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(t){if(kt(t))return{data:null,error:t};throw t}})}_verify(e){return H(this,null,function*(){return this._acquireLock(-1,()=>H(this,null,function*(){try{return yield this._useSession(t=>H(this,null,function*(){var i;const{data:n,error:s}=t;if(s)return{data:null,error:s};const{data:o,error:a}=yield Nt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token});return a?{data:null,error:a}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})}))}catch(t){if(kt(t))return{data:null,error:t};throw t}}))})}_challenge(e){return H(this,null,function*(){return this._acquireLock(-1,()=>H(this,null,function*(){try{return yield this._useSession(t=>H(this,null,function*(){var i;const{data:n,error:s}=t;return s?{data:null,error:s}:yield Nt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token})}))}catch(t){if(kt(t))return{data:null,error:t};throw t}}))})}_challengeAndVerify(e){return H(this,null,function*(){const{data:t,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return H(this,null,function*(){const{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};const i=(e==null?void 0:e.factors)||[],n=i.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=i.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:i,totp:n,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return H(this,null,function*(){return this._acquireLock(-1,()=>H(this,null,function*(){return yield this._useSession(e=>H(this,null,function*(){var t,i;const{data:{session:n},error:s}=e;if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ZO(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((i=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}))})}fetchJwk(i){return H(this,arguments,function*(e,t={keys:[]}){let n=t.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+mA>s)return n;const{data:o,error:a}=yield Nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(l=>l.kid===e),!n)?null:n})}getClaims(i){return H(this,arguments,function*(e,t={}){try{let n=e;if(!n){const{data:m,error:y}=yield this.getSession();if(y||!m.session)return{data:null,error:y};n=m.session.access_token}const{header:s,payload:o,signature:a,raw:{header:l,payload:c}}=ZO(n);t!=null&&t.allowExpired||IA(o.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!h){const{error:m}=yield this.getUser(n);if(m)throw m;return{data:{claims:o,header:s,signature:a},error:null}}const f=WA(s.alg),g=yield crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!(yield crypto.subtle.verify(f,g,a,PA(`${l}.${c}`))))throw new jm("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}}Tu.nextInstanceID=0;const nT=Tu;class sT extends nT{constructor(e){super(e)}}var oT=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(i.next(h))}catch(f){o(f)}}function l(h){try{c(i.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):n(h.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};class aT{constructor(e,t,i){var n,s,o;this.supabaseUrl=e,this.supabaseKey=t;const a=fA(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:rA,realtime:nA,auth:Object.assign(Object.assign({},iA),{storageKey:l}),global:tA},h=uA(i!=null?i:{},c);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=lA(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new v6(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new K6(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new e6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return oT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:n,userStorage:s,storageKey:o,flowType:a,lock:l,debug:c},h,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sT({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),h),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:n,userStorage:s,flowType:a,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new z6(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lT=(r,e,t)=>new aT(r,e,t);function cT(){if(typeof window!="undefined"||typeof process=="undefined")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}cT()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const s_="https://lnbjkowlhordgyhzhpgi.supabase.co",o_={}.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxuYmprb3dsaG9yZGd5aHpocGdpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwMjU4NzksImV4cCI6MjA3MTYwMTg3OX0.Lz0q_S-5SNZwakaahWVGCwGesaGhK9SLoTBFRqUdgLY",wt=lT(s_,o_);console.log("Supabase initialized:",{url:s_,keyPrefix:o_.substring(0,20)+"...",isConnected:!!wt});const a_=()=>{const[r,e]=ie.useState([]),[t,i]=ie.useState(!0),[n,s]=ie.useState(null),o=()=>H(void 0,null,function*(){try{i(!0),s(null);const{data:l,error:c}=yield wt.from("subjects").select(`
          id,
          name,
          icon,
          units (
            id,
            name,
            documents (
              id,
              title,
              type,
              url,
              original_url,
              uploaded_at
            )
          )
        `).order("name",{ascending:!0});if(c)throw new Error(`Failed to fetch subjects: ${c.message}`);if(!l)throw new Error("No subjects data received");const h=l.map(f=>{var g;return{id:f.id,name:f.name,icon:f.icon,units:((g=f.units)==null?void 0:g.map(p=>{var m;return{id:p.id,name:p.name,documents:((m=p.documents)==null?void 0:m.map(y=>({id:y.id,title:y.title,type:y.type,url:y.url,originalUrl:y.original_url,lastModified:y.uploaded_at?new Date(y.uploaded_at).getTime():void 0})))||[]}}))||[]}});h.forEach(f=>{f.units.sort((g,p)=>g.name.localeCompare(p.name))}),e(h)}catch(l){console.error("Error fetching subjects data:",l),s(l instanceof Error?l.message:"Failed to fetch subjects data"),e([])}finally{i(!1)}}),a=()=>{o()};return ie.useEffect(()=>{o()},[]),{subjects:r,loading:t,error:n,refetch:a}},hd=r=>{try{return hT(r)==="pdf"?{embedUrl:r,viewerType:"pdf"}:{embedUrl:`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(r)}`,viewerType:"office"}}catch(e){return console.error("Error converting Supabase URL:",e),{embedUrl:r,viewerType:"pdf"}}},hT=r=>{const e=r.toLowerCase();return e.includes(".pdf")?"pdf":e.includes(".doc")&&!e.includes(".docx")?"doc":e.includes(".docx")?"docx":e.includes(".ppt")&&!e.includes(".pptx")?"ppt":e.includes(".pptx")?"pptx":e.includes(".xls")&&!e.includes(".xlsx")?"xls":e.includes(".xlsx")?"xlsx":"pdf"},KO=[{id:"ooad",name:"Object Oriented Analysis & Design",icon:"🏗️",units:[{id:"ooad-unit1",name:"Unit 1",documents:[{id:"ooad-unit1-doc1",title:"OOAD Unit 1",type:"pdf",url:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/ooadunit-1.pdf",originalUrl:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/ooadunit-1.pdf"}]},{id:"ooad-unit2",name:"Unit 2",documents:[{id:"ooad-unit2-part1",title:"OOAD Unit 2 Part 1",type:"pdf",url:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/ooadunit2-1.pdf",originalUrl:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/ooadunit2-1.pdf"},{id:"ooad-unit2-part1-2",title:"OOAD Unit 2 Part 1-2",type:"pdf",url:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/ooadunit2-1-2.pdf",originalUrl:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/ooadunit2-1-2.pdf"},{id:"ooad-unit2-part2",title:"OOAD Unit 2 Part 2",type:"pdf",url:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/ooadunit2-2.pdf",originalUrl:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/ooadunit2-2.pdf"}]}]},{id:"ai",name:"Artificial Intelligence",icon:"🤖",units:[{id:"ai-unit1",name:"Unit 1",documents:[{id:"ai-unit1-doc1",title:"AI Unit 1",type:"pdf",url:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/AI%20Unit%201.pdf",originalUrl:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/AI%20Unit%201.pdf"}]},{id:"ai-unit2",name:"Unit 2",documents:[{id:"ai-unit2-doc1",title:"Artificial Intelligence I & II Units",type:"pdf",url:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/Artificial%20Intelligence%20I%20&%20II%20UNITS.pdf",originalUrl:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/Artificial%20Intelligence%20I%20&%20II%20UNITS.pdf"}]}]},{id:"atcd",name:"Automata Theory & Compiler Design",icon:"⚙️",units:[]},{id:"cn",name:"Computer Networks",icon:"🌐",units:[{id:"cn-unit1",name:"Unit 1",documents:[{id:"cn-unit1-doc1",title:"Computer Networks Unit 1",type:"pdf",url:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/cnunit1.pdf",originalUrl:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/cnunit1.pdf"},{id:"cn-unit1-handwritten",title:"CN Unit 1 - Handwritten",type:"pdf",url:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/CN-Unit-1-handwritten.pdf",originalUrl:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/CN-Unit-1-handwritten.pdf"}]},{id:"cn-unit2",name:"Unit 2",documents:[{id:"cn-unit2-part1",title:"Computer Networks Unit 2 Part 1",type:"pdf",url:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/cnunit2.pdf",originalUrl:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/cnunit2.pdf"},{id:"cn-unit2-part1-handwritten",title:"CN Unit 2 Part 1 - Handwritten",type:"pdf",url:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/cnunit2-handwritten.pdf",originalUrl:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/cnunit2-handwritten.pdf"},{id:"cn-unit2-part2",title:"Computer Networks Unit 2 Part 2",type:"pdf",url:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/cnunit2-2.pdf",originalUrl:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/cnunit2-2.pdf"},{id:"cn-unit2-part2-handwritten",title:"CN Unit 2 Part 2 - Handwritten",type:"pdf",url:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/cnunit2-2-handwritten.pdf",originalUrl:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/cnunit2-2-handwritten.pdf"}]}]},{id:"english",name:"English for Competitive Exam",icon:"📖",units:[{id:"english-part1",name:"Part 1",documents:[{id:"english-part1-doc1",title:"English for Competitive Exam",type:"pdf",url:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/english.pdf",originalUrl:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/english.pdf"}]}]},{id:"qp",name:"Quantum Physics",icon:"⚛️",units:[{id:"qp-unit1",name:"Unit 1",documents:[{id:"qp-unit1-doc1",title:"Quantum Physics Unit 1",type:"pdf",url:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/quantumunit1.pdf",originalUrl:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/quantumunit1.pdf"}]},{id:"qp-unit2",name:"Unit 2",documents:[{id:"qp-unit2-doc1",title:"Quantum Physics Unit 2",type:"pdf",url:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/quantumunit2.pdf",originalUrl:"https://lnbjkowlhordgyhzhpgi.supabase.co/storage/v1/object/public/pdfs/quantumunit2.pdf"}]}]}];function uT({url:r,title:e,onBack:t,className:i=""}){const[n,s]=ie.useState(!0),[o,a]=ie.useState(null);console.log("PDFViewer received URL:",r),console.log("PDFViewer title:",e);const l=ie.useCallback(()=>{console.log("PDF loaded successfully"),s(!1),a(null)},[]),c=ie.useCallback(()=>{console.error("PDF failed to load"),a("Failed to load PDF document"),s(!1)},[]);return o?u.jsxs("div",{className:`fixed inset-0 bg-gray-100 z-50 ${i}`,children:[u.jsx("div",{className:"fixed top-4 left-4 z-50",children:u.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-4 py-2 bg-white text-gray-700 rounded-lg shadow-lg hover:bg-gray-50 transition-colors border",title:"Go Back",children:[u.jsx(Lc,{size:20}),u.jsx("span",{className:"font-medium",children:"Back"})]})}),u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-red-500 text-4xl mb-4",children:"📄"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"PDF Loading Error"}),u.jsx("p",{className:"text-gray-600 mb-4",children:o})]})})]}):u.jsxs("div",{className:`fixed inset-0 bg-gray-100 z-50 ${i}`,children:[u.jsx("div",{className:"fixed top-4 left-4 z-50",children:u.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-4 py-2 bg-white text-gray-700 rounded-lg shadow-lg hover:bg-gray-50 transition-colors border",title:"Go Back",children:[u.jsx(Lc,{size:20}),u.jsx("span",{className:"font-medium",children:"Back"})]})}),u.jsxs("div",{className:"w-full h-full",children:[(n||!r)&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-40",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:r?"Loading PDF...":"Preparing PDF..."})]})}),r&&u.jsx("iframe",{src:`${r}#view=FitH&toolbar=1&navpanes=0&scrollbar=1`,className:"w-full h-full border-0",title:e||"PDF Document",onLoad:l,onError:c,style:{width:"100vw",height:"100vh",border:"none"}})]})]})}function fT({documentItem:r,onClose:e}){const[t,i]=ie.useState(!0),[n,s]=ie.useState(null),[o,a]=ie.useState(!1),[l,c]=ie.useState(!1),[h,f]=ie.useState(navigator.onLine),[g,p]=ie.useState(!1),[m,y]=ie.useState("checking"),[v,S]=ie.useState(""),[C,P]=ie.useState(""),X=ie.useRef(null),T=r.url.toLowerCase().includes(".pdf"),E=/\.(docx?|xlsx?|pptx?)$/i.test(r.url);if(ie.useEffect(()=>{T&&H(this,null,function*(){try{const L=hd(r.url);P(L.embedUrl)}catch(L){console.error("Error loading PDF URL:",L),P(r.url)}})},[r.url,T]),T)return u.jsx(uT,{url:C||r.url,title:r.title,onBack:e});ie.useEffect(()=>{(()=>H(this,null,function*(){try{const re=yield yn.isDocumentCached(r.url);p(re),y(re?"cached":"not-cached")}catch(re){console.error("Error checking cache status:",re),y("not-cached")}}))();const L=()=>f(!0),K=()=>f(!1);return window.addEventListener("online",L),window.addEventListener("offline",K),()=>{window.removeEventListener("online",L),window.removeEventListener("offline",K)}},[r.url]);const k=()=>H(this,null,function*(){try{if(!h&&g){const L=yield yn.getCachedDocumentBlob(r.url);if(L)return L}const j=hd(r.url);return E?`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(j.embedUrl)}`:j.embedUrl}catch(j){return console.error("Error generating viewer URL:",j),r.url}}),z=()=>H(this,null,function*(){if(m!=="caching"){y("caching");try{yield yn.cacheDocument(r.url),p(!0),y("cached")}catch(j){console.error("Error caching document:",j),y("not-cached")}}});ie.useEffect(()=>{const j=L=>{L.key==="Escape"&&e()};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[e]),ie.useEffect(()=>{l||(()=>H(this,null,function*(){i(!0),s(null);try{const L=yield k();S(L),i(!1)}catch(L){console.error("Error loading viewer:",L),s("Failed to load document viewer"),i(!1)}}))()},[r.url,g,h,l]);const Q=()=>{!o&&X.current?(X.current.requestFullscreen(),a(!0)):window.document.fullscreenElement&&(window.document.exitFullscreen(),a(!1))},W=()=>H(this,null,function*(){try{let j=r.url;if(g){const K=yield yn.getCachedDocumentBlob(r.url);K&&(j=K)}j===r.url&&(j=hd(r.url).embedUrl);const L=window.document.createElement("a");L.href=j,L.download=r.title,L.target="_blank",window.document.body.appendChild(L),L.click(),window.document.body.removeChild(L)}catch(j){console.error("Error downloading document:",j);const L=window.document.createElement("a");L.href=r.url,L.download=r.title,L.target="_blank",window.document.body.appendChild(L),L.click(),window.document.body.removeChild(L)}}),_=()=>{const j=hd(r.url);window.open(j.embedUrl,"_blank","noopener,noreferrer")},w=()=>h?"Online":g?"Offline - Cached":"Offline - Not Available",A=()=>h?u.jsx(Y5,{size:16,className:"text-green-500"}):g?u.jsx(nm,{size:16,className:"text-yellow-500"}):u.jsx(W5,{size:16,className:"text-red-500"});return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex flex-col",children:[u.jsxs("div",{className:"bg-gray-900 text-white p-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("h2",{className:"text-lg font-semibold truncate max-w-md",children:r.title}),u.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-300",children:[u.jsx("span",{children:E?"Office Document":"Document"}),u.jsxs("div",{className:"flex items-center space-x-1",children:[A(),u.jsx("span",{children:w()})]}),m==="cached"&&u.jsxs("div",{className:"flex items-center space-x-1 text-green-400",children:[u.jsx(nm,{size:16}),u.jsx("span",{children:"Cached"})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[!g&&h&&m!=="caching"&&u.jsx("button",{onClick:z,className:"px-3 py-1 text-xs bg-blue-600 hover:bg-blue-700 rounded transition-colors",title:"Cache for offline access",children:"Cache"}),m==="caching"&&u.jsx("div",{className:"px-3 py-1 text-xs bg-yellow-600 rounded",children:"Caching..."}),u.jsx("button",{onClick:()=>c(!l),className:"p-2 hover:bg-gray-700 rounded transition-colors",title:l?"Restore":"Minimize",children:u.jsx(Nu,{size:18})}),u.jsx("button",{onClick:_,className:"p-2 hover:bg-gray-700 rounded transition-colors",title:"Open in new tab",children:u.jsx(q5,{size:18})}),u.jsx("button",{onClick:W,className:"p-2 hover:bg-gray-700 rounded transition-colors",title:"Download",children:u.jsx(I5,{size:18})}),!l&&u.jsx("button",{onClick:Q,className:"p-2 hover:bg-gray-700 rounded transition-colors",title:o?"Exit Fullscreen":"Fullscreen",children:o?u.jsx(Nu,{size:18}):u.jsx(yP,{size:18})}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-700 rounded transition-colors",title:"Close",children:u.jsx(wg,{size:18})})]})]}),!l&&u.jsxs("div",{ref:X,className:"flex-1 relative bg-gray-100",children:[t&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading document..."}),!h&&!g&&u.jsx("p",{className:"text-red-600 text-sm mt-2",children:"You're offline and this document isn't cached"})]})}),n&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Failed to load document"}),u.jsx("p",{className:"text-gray-600 mb-4",children:n}),!h&&!g&&u.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"This document is not available offline. Please connect to the internet to view it."}),u.jsxs("div",{className:"space-x-2",children:[u.jsx("button",{onClick:W,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",disabled:!h&&!g,children:"Download"}),u.jsx("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",disabled:!h,children:"Open Original"}),u.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Close"})]})]})}),!t&&!n&&u.jsx("iframe",{src:v,className:"w-full h-full border-0",title:r.title,onLoad:()=>i(!1),onError:()=>{s("Unable to load this document. Please try downloading it instead."),i(!1)}})]}),l&&u.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl mb-4",children:"📄"}),u.jsx("p",{className:"text-gray-600",children:"Document minimized"}),u.jsx("button",{onClick:()=>c(!1),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Restore"})]})})]})}const dT=(r=10)=>{const[e,t]=ie.useState([]),[i,n]=ie.useState(!0),[s,o]=ie.useState(null),a=()=>H(void 0,null,function*(){try{n(!0),o(null);const{data:c,error:h}=yield wt.from("documents").select(`
          id,
          title,
          type,
          url,
          original_url,
          uploaded_at,
          units (
            name,
            subjects (
              name,
              icon
            )
          )
        `).order("uploaded_at",{ascending:!1}).limit(r);if(h)throw new Error(`Failed to fetch latest updates: ${h.message}`);if(!c){t([]);return}const f=c.map(g=>{var p,m,y,v,S;return{id:g.id,title:g.title,type:g.type,url:g.url,original_url:g.original_url,uploaded_at:g.uploaded_at,unit_name:((p=g.units)==null?void 0:p.name)||"Unknown Unit",subject_name:((y=(m=g.units)==null?void 0:m.subjects)==null?void 0:y.name)||"Unknown Subject",subject_icon:((S=(v=g.units)==null?void 0:v.subjects)==null?void 0:S.icon)||"📄"}});t(f)}catch(c){console.error("Error fetching latest updates:",c),o(c instanceof Error?c.message:"Failed to fetch latest updates"),t([])}finally{n(!1)}}),l=()=>{a()};return ie.useEffect(()=>{a()},[r]),{updates:e,loading:i,error:s,refetch:l}},l_=({limit:r=8,onDocumentClick:e,darkMode:t=!1})=>{const{updates:i,loading:n,error:s,refetch:o}=dT(r),a=h=>{const f=new Date(h),g=new Date,p=Math.abs(g.getTime()-f.getTime()),m=Math.ceil(p/(1e3*60*60*24));return m===1?"Today":m===2?"Yesterday":m<=7?`${m-1} days ago`:f.toLocaleDateString("en-US",{month:"short",day:"numeric",year:f.getFullYear()!==g.getFullYear()?"numeric":void 0})},l=h=>{e?e(h):window.open(h.url,"_blank","noopener,noreferrer")},c=h=>{switch(h.toLowerCase()){case"pdf":return"📄";case"doc":case"docx":return"📝";case"ppt":case"pptx":return"📊";case"xls":case"xlsx":return"📈";default:return"📄"}};return n?u.jsx("div",{className:`latest-updates-section ${t?"bg-gray-900":"bg-white"}`,children:u.jsxs("div",{className:"container",children:[u.jsxs("h2",{className:`section-title ${t?"text-white":"text-gray-900"}`,children:[u.jsx(Ih,{className:"w-6 h-6 inline-block mr-2"}),"Latest Updates"]}),u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"spinner w-8 h-8 mx-auto mb-4"}),u.jsx("p",{className:`${t?"text-gray-300":"text-secondary-600"}`,children:"Loading latest updates..."})]})]})}):s?u.jsx("div",{className:`latest-updates-section ${t?"bg-gray-900":"bg-white"}`,children:u.jsxs("div",{className:"container",children:[u.jsxs("h2",{className:`section-title ${t?"text-white":"text-gray-900"}`,children:[u.jsx(Ih,{className:"w-6 h-6 inline-block mr-2"}),"Latest Updates"]}),u.jsxs("div",{className:"text-center py-8",children:[u.jsxs("div",{className:"text-red-600 mb-4",children:[u.jsx(Lp,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),u.jsx("p",{className:"font-semibold",children:"Failed to load updates"}),u.jsx("p",{className:"text-sm mt-1",children:s})]}),u.jsx("button",{onClick:o,className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Try Again"})]})]})}):i.length===0?u.jsx("div",{className:`latest-updates-section ${t?"bg-gray-900":"bg-white"}`,children:u.jsxs("div",{className:"container",children:[u.jsxs("h2",{className:`section-title ${t?"text-white":"text-gray-900"}`,children:[u.jsx(Ih,{className:"w-6 h-6 inline-block mr-2"}),"Latest Updates"]}),u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Lp,{className:`w-12 h-12 mx-auto mb-4 ${t?"text-gray-600":"text-secondary-400"}`}),u.jsx("p",{className:`${t?"text-gray-300":"text-secondary-600"}`,children:"No updates available yet"})]})]})}):u.jsxs("div",{className:`latest-updates-section py-16 ${t?"bg-gray-900":"bg-white"}`,children:[u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("h2",{className:`section-title flex items-center ${t?"text-white":"text-gray-900"}`,children:[u.jsx(Ih,{className:"w-6 h-6 mr-2 text-primary-600"}),"Latest Updates"]}),u.jsxs("button",{onClick:o,className:"text-primary-600 hover:text-primary-700 transition-colors flex items-center gap-2",title:"Refresh updates",children:[u.jsx(zp,{className:"w-4 h-4"}),"Refresh"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(h=>u.jsxs("div",{className:`update-card rounded-lg p-4 hover:shadow-lg transition-all duration-300 cursor-pointer group border ${t?"bg-gray-800 border-gray-700 hover:border-primary-400 hover:bg-gray-750":"bg-secondary-50 border-secondary-200 hover:border-primary-300"}`,onClick:()=>l(h),children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",title:h.subject_name,children:h.subject_icon}),u.jsx("span",{className:"text-lg",title:h.type.toUpperCase(),children:c(h.type)})]}),u.jsx(q5,{className:`w-4 h-4 transition-colors ${t?"text-gray-500 group-hover:text-primary-400":"text-secondary-400 group-hover:text-primary-600"}`})]}),u.jsx("h3",{className:`font-semibold mb-2 line-clamp-2 transition-colors ${t?"text-gray-100 group-hover:text-primary-300":"text-secondary-900 group-hover:text-primary-700"}`,children:h.title}),u.jsxs("div",{className:`text-sm mb-3 ${t?"text-gray-300":"text-secondary-600"}`,children:[u.jsx("p",{className:"font-medium",children:h.subject_name}),u.jsx("p",{className:`${t?"text-gray-400":"text-secondary-500"}`,children:h.unit_name})]}),u.jsxs("div",{className:`flex items-center justify-between text-xs ${t?"text-gray-400":"text-secondary-500"}`,children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Ih,{className:"w-3 h-3"}),a(h.uploaded_at)]}),u.jsx("span",{className:"uppercase font-medium",children:h.type})]}),u.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-20 transition-opacity rounded-lg pointer-events-none ${t?"bg-primary-400":"bg-primary-50"}`})]},h.id))}),i.length===r&&u.jsx("div",{className:"text-center mt-8",children:u.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-secondary-500"}`,children:["Showing latest ",r," updates"]})})]}),u.jsx("style",{children:`
        .latest-updates-section .update-card {
          position: relative;
          overflow: hidden;
        }
        
        .latest-updates-section .line-clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
      `})]})},pT=({onPDFViewingChange:r,darkMode:e=!1})=>{const{subjects:t,loading:i,error:n}=a_(),[s,o]=ie.useState(null),[a,l]=ie.useState(null),[c,h]=ie.useState(new Set);ie.useEffect(()=>{const v=(a==null?void 0:a.url.toLowerCase().includes(".pdf"))||!1;r&&r(v&&a!==null)},[a,r]);const f=v=>{(s==null?void 0:s.id)===v.id?o(null):(o(v),h(new Set))},g=v=>{const S=new Set(c);S.has(v)?S.delete(v):S.add(v),h(S)},p=v=>{l(v)},m=()=>{l(null)},y=()=>{o(null),h(new Set)};return u.jsxs("div",{className:"theory-section",children:[a&&u.jsx(fT,{documentItem:a,onClose:m}),u.jsx("div",{className:"container",children:i?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"spinner w-12 h-12 mx-auto mb-4"}),u.jsx("p",{className:"text-secondary-600",children:"Loading subjects..."})]}):n?u.jsxs("div",{className:"text-center py-12",children:[u.jsxs("div",{className:"text-red-600 mb-4",children:[u.jsx("p",{className:"text-lg font-semibold",children:"Failed to load subjects"}),u.jsx("p",{className:"text-sm",children:n})]}),u.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary-600 text-white px-4 py-2 rounded hover:bg-primary-700",children:"Retry"})]}):s?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"subject-header",children:[u.jsx("button",{className:"back-btn",onClick:y,children:"← Back to Subjects"}),u.jsxs("h2",{className:"section-title",children:[s.icon," ",s.name]})]}),u.jsx("div",{className:"units-container",children:s.units.length===0?u.jsxs("div",{className:"no-content",children:[u.jsx("div",{className:"no-content-icon",children:"📚"}),u.jsx("h3",{children:"Coming Soon"}),u.jsx("p",{children:"Materials for this subject will be available soon."})]}):s.units.map(v=>u.jsxs("div",{className:"unit-card",children:[u.jsxs("div",{className:"unit-header",onClick:()=>g(v.id),children:[u.jsxs("div",{className:"unit-header-left",children:[u.jsx("span",{className:"unit-icon",children:"📖"}),u.jsx("h3",{children:v.name}),u.jsxs("span",{className:"document-count-badge",children:[v.documents.length," docs"]})]}),u.jsx("div",{className:"unit-header-buttons",children:u.jsx("button",{className:"expand-btn",children:c.has(v.id)?"▲":"▼"})})]}),c.has(v.id)&&u.jsx("div",{className:"unit-content",children:v.documents.length===0?u.jsx("div",{className:"no-documents",children:u.jsx("p",{children:"No documents available for this unit yet."})}):u.jsx("div",{className:"documents-grid",children:v.documents.map(S=>u.jsxs("div",{className:"document-card",onClick:()=>p(S),children:[u.jsxs("div",{className:"document-icon",children:[S.type==="pdf"&&"📄",S.type==="docx"&&"📝",S.type==="doc"&&"📝",S.type==="pptx"&&"📊",S.type==="ppt"&&"📊",S.type==="xlsx"&&"📋",S.type==="xls"&&"📋"]}),u.jsxs("div",{className:"document-info",children:[u.jsx("h4",{children:S.title}),u.jsx("span",{className:"document-type",children:S.type.toUpperCase()})]}),u.jsx("button",{className:"document-view-btn",children:"View Document"})]},S.id))})})]},v.id))})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-12",children:u.jsx(l_,{limit:8,onDocumentClick:v=>{const S={id:v.id,title:v.title,url:v.url,type:v.type,originalUrl:v.url};l(S)},darkMode:e})}),u.jsx("h2",{className:"section-title",children:"Theory & Concepts"}),u.jsx("div",{className:"subjects-grid",children:t.map(v=>u.jsxs("div",{className:"subject-card",onClick:()=>f(v),children:[u.jsx("div",{className:"subject-glow"}),u.jsxs("div",{className:"subject-content",children:[u.jsx("span",{className:"subject-icon",children:v.icon}),u.jsx("h3",{children:v.name}),u.jsxs("p",{children:[v.units.length," units available"]}),u.jsxs("div",{className:"document-count",children:[v.units.reduce((S,C)=>S+C.documents.length,0)," documents"]}),u.jsx("button",{className:"view-btn",children:"View Materials"})]})]},v.id))})]})})]})};function gT({isOpen:r,onClose:e}){const{subjects:t}=a_(),[i,n]=ie.useState(null),[s,o]=ie.useState(!1),[a,l]=ie.useState(navigator.onLine),[c,h]=ie.useState(0),[f,g]=ie.useState(!1);ie.useEffect(()=>{const v=()=>l(!0),S=()=>l(!1);return window.addEventListener("online",v),window.addEventListener("offline",S),()=>{window.removeEventListener("online",v),window.removeEventListener("offline",S)}},[]),ie.useEffect(()=>{r&&p()},[r]);const p=()=>H(this,null,function*(){o(!0);try{const v=yield yn.getCacheStatus();n(v)}catch(v){console.error("Error loading cache status:",v)}finally{o(!1)}}),m=()=>H(this,null,function*(){if(confirm("Are you sure you want to clear all cached documents? This will remove offline access to all documents.")){o(!0);try{yield yn.clearCache(),yield p()}catch(v){console.error("Error clearing cache:",v),alert("Failed to clear cache. Please try again.")}finally{o(!1)}}}),y=()=>H(this,null,function*(){if(!a){alert("You need to be online to preload documents.");return}g(!0),h(0);try{const v=[];t.forEach(P=>{P.units.forEach(X=>{X.documents.forEach(T=>{v.push(T.url)})})});let S=0;const C=v.length;for(const P of v)try{(yield yn.isDocumentCached(P))||(yield yn.cacheDocument(P)),S++,h(S/C*100)}catch(X){console.warn("Failed to preload document:",P,X),S++,h(S/C*100)}yield p(),alert(`Preloading completed! ${S} documents processed.`)}catch(v){console.error("Error preloading documents:",v),alert("Failed to preload documents. Please check your connection and try again.")}finally{g(!1),h(0)}});return r?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsx("div",{className:"p-6 border-b border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(xP,{className:"text-blue-600",size:24}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Cache Management"})]}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:"✕"})]})}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a?u.jsx(Y5,{className:"text-green-500",size:20}):u.jsx(W5,{className:"text-red-500",size:20}),u.jsx("span",{className:"font-medium",children:a?"Online":"Offline"})]}),u.jsx("p",{className:"text-sm text-gray-600",children:a?"You can download and cache documents for offline access.":"You can only access previously cached documents while offline."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center space-x-2",children:[u.jsx(nm,{size:20}),u.jsx("span",{children:"Cache Status"})]}),s?u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[u.jsx(zp,{className:"animate-spin",size:16}),u.jsx("span",{children:"Loading cache information..."})]}):i?u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-700",children:"Documents Cached:"}),u.jsx("div",{className:"text-blue-600 font-semibold",children:i.totalDocuments})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-700",children:"Total Cache Size:"}),u.jsx("div",{className:"text-blue-600 font-semibold",children:yn.formatCacheSize(i.cacheSize)})]})]}),i.documents.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Cached Documents:"}),u.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:i.documents.map((v,S)=>u.jsxs("div",{className:"text-xs text-gray-600 bg-white p-2 rounded flex justify-between",children:[u.jsx("span",{className:"truncate",children:v.url.split("/").pop()||v.url}),u.jsx("span",{className:"ml-2 text-gray-500",children:yn.formatCacheSize(v.size)})]},S))})]})]}):u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 text-center text-gray-600",children:"Unable to load cache information"})]}),f&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"font-medium text-gray-700",children:"Preloading Documents..."}),u.jsxs("span",{className:"text-blue-600",children:[Math.round(c),"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${c}%`}})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Actions"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.jsxs("button",{onClick:y,disabled:!a||f,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:[u.jsx(I5,{size:18}),u.jsx("span",{children:f?"Preloading...":"Preload All Documents"})]}),u.jsxs("button",{onClick:p,disabled:s,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:[u.jsx(zp,{className:s?"animate-spin":"",size:18}),u.jsx("span",{children:"Refresh Status"})]}),u.jsxs("button",{onClick:m,disabled:s,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:[u.jsx(ha,{size:18}),u.jsx("span",{children:"Clear All Cache"})]})]})]}),u.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"About Document Caching"}),u.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[u.jsx("li",{children:"• Cached documents are available offline"}),u.jsx("li",{children:"• Cache updates automatically when online"}),u.jsx("li",{children:"• Documents are cached for 24 hours before checking for updates"}),u.jsx("li",{children:"• Preloading all documents ensures full offline access"}),u.jsx("li",{children:"• Cache is cleared when you clear browser data"})]})]})]})]})}):null}const t2=()=>{const[r,e]=ie.useState({name:"",email:"",subject:"",message:""}),[t,i]=ie.useState(!1),n=o=>{const{name:a,value:l}=o.target;e(c=>ur(et({},c),{[a]:l}))},s=o=>H(void 0,null,function*(){var a,l;if(o.preventDefault(),!r.name.trim()||!r.email.trim()||!r.message.trim()){Kt.error("Please fill in all required fields");return}i(!0);try{yield bc.submitContactForm({name:r.name.trim(),email:r.email.trim(),subject:r.subject.trim()||void 0,message:r.message.trim()}),Kt.success("Message sent successfully! We will get back to you soon."),e({name:"",email:"",subject:"",message:""})}catch(c){console.error("Contact form error:",c),Kt.error(((l=(a=c.response)==null?void 0:a.data)==null?void 0:l.error)||"Failed to send message. Please try again.")}finally{i(!1)}});return u.jsxs("form",{onSubmit:s,children:[u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"text",name:"name",value:r.name,onChange:n,placeholder:"Your Name *",required:!0,disabled:t})}),u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"email",name:"email",value:r.email,onChange:n,placeholder:"Your Email *",required:!0,disabled:t})}),u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"text",name:"subject",value:r.subject,onChange:n,placeholder:"Subject (optional)",disabled:t})}),u.jsx("div",{className:"form-group",children:u.jsx("textarea",{name:"message",value:r.message,onChange:n,placeholder:"Your Message *",rows:5,required:!0,disabled:t})}),u.jsx("button",{type:"submit",disabled:t,children:t?"Sending...":"Send Message"})]})},OT=({show:r,onClose:e})=>{const[t,i]=ie.useState(!1),{user:n,resendVerification:s}=Fn();if(!r||!n||n.emailVerified)return null;const o=()=>H(void 0,null,function*(){i(!0);try{yield s(),Te.success("Verification email sent! Please check your inbox.")}catch(a){Te.error(a.message||"Failed to send verification email")}finally{i(!1)}});return u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(bx,{className:"w-5 h-5 text-yellow-600 mr-3"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Email Verification Required"}),u.jsxs("p",{className:"text-sm text-yellow-700",children:["Please verify your email address (",n.email,") to access all features."]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:o,disabled:t,className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-md text-sm font-medium hover:bg-yellow-200 transition-colors disabled:opacity-50 flex items-center",children:t?u.jsxs(u.Fragment,{children:[u.jsx(zp,{className:"w-4 h-4 mr-1 animate-spin"}),"Sending..."]}):u.jsxs(u.Fragment,{children:[u.jsx(bx,{className:"w-4 h-4 mr-1"}),"Resend Email"]})}),e&&u.jsx("button",{onClick:e,className:"text-yellow-600 hover:text-yellow-800 text-sm",children:"✕"})]})]})})},gl=class gl{constructor(){Xt(this,"executionCount",0)}static getInstance(){return gl.instance||(gl.instance=new gl),gl.instance}executeCode(n){return H(this,arguments,function*({language:e,code:t,stdin:i=""}){try{this.executionCount++,console.log(`[Execution #${this.executionCount}] Language: ${e}, Input length: ${i.length}`);const s=yield fetch("/api/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({language:e,code:t,stdin:i})});if(!s.ok){const a=yield s.json().catch(()=>({}));throw new Error(a.error||`HTTP ${s.status}: ${s.statusText}`)}const o=yield s.json();return console.log(`[Execution #${this.executionCount}] Provider used: ${o.provider}`),o}catch(s){return console.error(`[Execution #${this.executionCount}] Failed:`,s.message),{success:!1,output:"",error:s.message||"Execution failed. Please try again."}}})}getStats(){return{totalExecutions:this.executionCount}}resetStats(){this.executionCount=0}};Xt(gl,"instance");let Qm=gl;const Qb=Qm.getInstance();function Gt(r){"@babel/helpers - typeof";return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(r)}var Yn=Uint8Array,an=Uint16Array,Nb=Int32Array,Ab=new Yn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Tb=new Yn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),r2=new Yn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c_=function(r,e){for(var t=new an(31),i=0;i<31;++i)t[i]=e+=1<<r[i-1];for(var n=new Nb(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)n[s]=s-t[i]<<5|i;return{b:t,r:n}},h_=c_(Ab,2),mT=h_.b,Nm=h_.r;mT[28]=258,Nm[258]=28;var bT=c_(Tb,0),i2=bT.r,Am=new an(32768);for(var pr=0;pr<32768;++pr){var Do=(pr&43690)>>1|(pr&21845)<<1;Do=(Do&52428)>>2|(Do&13107)<<2,Do=(Do&61680)>>4|(Do&3855)<<4,Am[pr]=((Do&65280)>>8|(Do&255)<<8)>>1}var vu=function(r,e,t){for(var i=r.length,n=0,s=new an(e);n<i;++n)r[n]&&++s[r[n]-1];var o=new an(e);for(n=1;n<e;++n)o[n]=o[n-1]+s[n-1]<<1;var a;if(t){a=new an(1<<e);var l=15-e;for(n=0;n<i;++n)if(r[n])for(var c=n<<4|r[n],h=e-r[n],f=o[r[n]-1]++<<h,g=f|(1<<h)-1;f<=g;++f)a[Am[f]>>l]=c}else for(a=new an(i),n=0;n<i;++n)r[n]&&(a[n]=Am[o[r[n]-1]++]>>15-r[n]);return a},Tl=new Yn(288);for(var pr=0;pr<144;++pr)Tl[pr]=8;for(var pr=144;pr<256;++pr)Tl[pr]=9;for(var pr=256;pr<280;++pr)Tl[pr]=7;for(var pr=280;pr<288;++pr)Tl[pr]=8;var Vp=new Yn(32);for(var pr=0;pr<32;++pr)Vp[pr]=5;var yT=vu(Tl,9,0),xT=vu(Vp,5,0),u_=function(r){return(r+7)/8|0},wT=function(r,e,t){return(e==null||e<0)&&(e=0),(t==null||t>r.length)&&(t=r.length),new Yn(r.subarray(e,t))},Js=function(r,e,t){t<<=e&7;var i=e/8|0;r[i]|=t,r[i+1]|=t>>8},Mh=function(r,e,t){t<<=e&7;var i=e/8|0;r[i]|=t,r[i+1]|=t>>8,r[i+2]|=t>>16},JO=function(r,e){for(var t=[],i=0;i<r.length;++i)r[i]&&t.push({s:i,f:r[i]});var n=t.length,s=t.slice();if(!n)return{t:d_,l:0};if(n==1){var o=new Yn(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(T,E){return T.f-E.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,h=1,f=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=n-1;)a=t[t[c].f<t[f].f?c++:f++],l=t[c!=h&&t[c].f<t[f].f?c++:f++],t[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,i=1;i<n;++i)s[i].s>g&&(g=s[i].s);var p=new an(g+1),m=Tm(t[h-1],p,0);if(m>e){var i=0,y=0,v=m-e,S=1<<v;for(s.sort(function(E,k){return p[k.s]-p[E.s]||E.f-k.f});i<n;++i){var C=s[i].s;if(p[C]>e)y+=S-(1<<m-p[C]),p[C]=e;else break}for(y>>=v;y>0;){var P=s[i].s;p[P]<e?y-=1<<e-p[P]++-1:++i}for(;i>=0&&y;--i){var X=s[i].s;p[X]==e&&(--p[X],++y)}m=e}return{t:new Yn(p),l:m}},Tm=function(r,e,t){return r.s==-1?Math.max(Tm(r.l,e,t+1),Tm(r.r,e,t+1)):e[r.s]=t},n2=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new an(++e),i=0,n=r[0],s=1,o=function(l){t[i++]=l},a=1;a<=e;++a)if(r[a]==n&&a!=e)++s;else{if(!n&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(n),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(n);s=1,n=r[a]}return{c:t.subarray(0,i),n:e}},Fh=function(r,e){for(var t=0,i=0;i<e.length;++i)t+=r[i]*e[i];return t},f_=function(r,e,t){var i=t.length,n=u_(e+2);r[n]=i&255,r[n+1]=i>>8,r[n+2]=r[n]^255,r[n+3]=r[n+1]^255;for(var s=0;s<i;++s)r[n+s+4]=t[s];return(n+4+i)*8},s2=function(r,e,t,i,n,s,o,a,l,c,h){Js(e,h++,t),++n[256];for(var f=JO(n,15),g=f.t,p=f.l,m=JO(s,15),y=m.t,v=m.l,S=n2(g),C=S.c,P=S.n,X=n2(y),T=X.c,E=X.n,k=new an(19),z=0;z<C.length;++z)++k[C[z]&31];for(var z=0;z<T.length;++z)++k[T[z]&31];for(var Q=JO(k,7),W=Q.t,_=Q.l,w=19;w>4&&!W[r2[w-1]];--w);var A=c+5<<3,j=Fh(n,Tl)+Fh(s,Vp)+o,L=Fh(n,g)+Fh(s,y)+o+14+3*w+Fh(k,W)+2*k[16]+3*k[17]+7*k[18];if(l>=0&&A<=j&&A<=L)return f_(e,h,r.subarray(l,l+c));var K,re,te,oe;if(Js(e,h,1+(L<j)),h+=2,L<j){K=vu(g,p,0),re=g,te=vu(y,v,0),oe=y;var ve=vu(W,_,0);Js(e,h,P-257),Js(e,h+5,E-1),Js(e,h+10,w-4),h+=14;for(var z=0;z<w;++z)Js(e,h+3*z,W[r2[z]]);h+=3*w;for(var ae=[C,T],N=0;N<2;++N)for(var Y=ae[N],z=0;z<Y.length;++z){var F=Y[z]&31;Js(e,h,ve[F]),h+=W[F],F>15&&(Js(e,h,Y[z]>>5&127),h+=Y[z]>>12)}}else K=yT,re=Tl,te=xT,oe=Vp;for(var z=0;z<a;++z){var B=i[z];if(B>255){var F=B>>18&31;Mh(e,h,K[F+257]),h+=re[F+257],F>7&&(Js(e,h,B>>23&31),h+=Ab[F]);var ee=B&31;Mh(e,h,te[ee]),h+=oe[ee],ee>3&&(Mh(e,h,B>>5&8191),h+=Tb[ee])}else Mh(e,h,K[B]),h+=re[B]}return Mh(e,h,K[256]),h+re[256]},vT=new Nb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),d_=new Yn(0),ST=function(r,e,t,i,n,s){var o=s.z||r.length,a=new Yn(i+o+5*(1+Math.ceil(o/7e3))+n),l=a.subarray(i,a.length-n),c=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var f=vT[e-1],g=f>>13,p=f&8191,m=(1<<t)-1,y=s.p||new an(32768),v=s.h||new an(m+1),S=Math.ceil(t/3),C=2*S,P=function(Oe){return(r[Oe]^r[Oe+1]<<S^r[Oe+2]<<C)&m},X=new Nb(25e3),T=new an(288),E=new an(32),k=0,z=0,Q=s.i||0,W=0,_=s.w||0,w=0;Q+2<o;++Q){var A=P(Q),j=Q&32767,L=v[A];if(y[j]=L,v[A]=j,_<=Q){var K=o-Q;if((k>7e3||W>24576)&&(K>423||!c)){h=s2(r,l,0,X,T,E,z,W,w,Q-w,h),W=k=z=0,w=Q;for(var re=0;re<286;++re)T[re]=0;for(var re=0;re<30;++re)E[re]=0}var te=2,oe=0,ve=p,ae=j-L&32767;if(K>2&&A==P(Q-ae))for(var N=Math.min(g,K)-1,Y=Math.min(32767,Q),F=Math.min(258,K);ae<=Y&&--ve&&j!=L;){if(r[Q+te]==r[Q+te-ae]){for(var B=0;B<F&&r[Q+B]==r[Q+B-ae];++B);if(B>te){if(te=B,oe=ae,B>N)break;for(var ee=Math.min(ae,B-2),le=0,re=0;re<ee;++re){var be=Q-ae+re&32767,me=y[be],_e=be-me&32767;_e>le&&(le=_e,L=be)}}}j=L,L=y[j],ae+=j-L&32767}if(oe){X[W++]=268435456|Nm[te]<<18|i2[oe];var he=Nm[te]&31,je=i2[oe]&31;z+=Ab[he]+Tb[je],++T[257+he],++E[je],_=Q+te,++k}else X[W++]=r[Q],++T[r[Q]]}}for(Q=Math.max(Q,_);Q<o;++Q)X[W++]=r[Q],++T[r[Q]];h=s2(r,l,c,X,T,E,z,W,w,Q-w,h),c||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=v,s.p=y,s.i=Q,s.w=_)}else{for(var Q=s.w||0;Q<o+c;Q+=65535){var pe=Q+65535;pe>=o&&(l[h/8|0]=c,pe=o),h=f_(l,h+1,r.subarray(Q,pe))}s.i=o}return wT(a,0,i+u_(h)+n)},p_=function(){var r=1,e=0;return{p:function(t){for(var i=r,n=e,s=t.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)n+=i+=t[o];i=(i&65535)+15*(i>>16),n=(n&65535)+15*(n>>16)}r=i,e=n},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},_T=function(r,e,t,i,n){if(!n&&(n={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Yn(s.length+r.length);o.set(s),o.set(r,s.length),r=o,n.w=s.length}return ST(r,e.level==null?6:e.level,e.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,i,n)},g_=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},kT=function(r,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=i<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var n=p_();n.p(e.dictionary),g_(r,2,n.d())}};function Cm(r,e){e||(e={});var t=p_();t.p(r);var i=_T(r,e,e.dictionary?6:2,4);return kT(i,e),g_(i,i.length-4,t.d()),i}var $T=typeof TextDecoder!="undefined"&&new TextDecoder,PT=0;try{$T.decode(d_,{stream:!0}),PT=1}catch(r){}function jT(r){if(Array.isArray(r))return r}function QT(r,e){var t=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var i,n,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(h){c=!0,n=h}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw n}}return a}}function o2(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=Array(e);t<e;t++)i[t]=r[t];return i}function NT(r,e){if(r){if(typeof r=="string")return o2(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o2(r,e):void 0}}function AT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a2(r,e){return jT(r)||QT(r,e)||NT(r,e)||AT()}function l2(r,e="utf8"){return new TextDecoder(e).decode(r)}const TT=new TextEncoder;function CT(r){return TT.encode(r)}const XT=1024*8,ET=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),e0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Cb{constructor(e=XT,t={}){Xt(this,"buffer");Xt(this,"byteLength");Xt(this,"byteOffset");Xt(this,"length");Xt(this,"offset");Xt(this,"lastWrittenByte");Xt(this,"littleEndian");Xt(this,"_data");Xt(this,"_mark");Xt(this,"_marks");let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const n=t.offset?t.offset>>>0:0,s=e.byteLength-n;let o=n;(ArrayBuffer.isView(e)||e instanceof Cb)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+n),e=e.buffer),i?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,n=new Uint8Array(i);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=e0[t].BYTES_PER_ELEMENT*e,n=this.byteOffset+this.offset,s=this.buffer.slice(n,n+i);if(this.littleEndian===ET&&t!=="uint8"&&t!=="int8"){const a=new Uint8Array(this.buffer.slice(n,n+i));a.reverse();const l=new e0[t](a.buffer);return this.offset+=i,l.reverse(),l}const o=new e0[t](s);return this.offset+=i,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return l2(this.readBytes(e))}decodeText(e=1,t="utf8"){return l2(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(CT(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const RT=4,c2=0,h2=1,UT=2;function oh(r){let e=r.length;for(;--e>=0;)r[e]=0}const LT=0,O_=1,zT=2,qT=3,IT=258,Xb=29,df=256,Cu=df+1+Xb,Qc=30,Eb=19,m_=2*Cu+1,ml=15,t0=16,WT=7,Rb=256,b_=16,y_=17,x_=18,Xm=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),op=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),YT=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),w_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DT=512,co=new Array((Cu+2)*2);oh(co);const Su=new Array(Qc*2);oh(Su);const Xu=new Array(DT);oh(Xu);const Eu=new Array(IT-qT+1);oh(Eu);const Ub=new Array(Xb);oh(Ub);const Zp=new Array(Qc);oh(Zp);function r0(r,e,t,i,n){this.static_tree=r,this.extra_bits=e,this.extra_base=t,this.elems=i,this.max_length=n,this.has_stree=r&&r.length}let v_,S_,__;function i0(r,e){this.dyn_tree=r,this.max_code=0,this.stat_desc=e}const k_=r=>r<256?Xu[r]:Xu[256+(r>>>7)],Ru=(r,e)=>{r.pending_buf[r.pending++]=e&255,r.pending_buf[r.pending++]=e>>>8&255},Di=(r,e,t)=>{r.bi_valid>t0-t?(r.bi_buf|=e<<r.bi_valid&65535,Ru(r,r.bi_buf),r.bi_buf=e>>t0-r.bi_valid,r.bi_valid+=t-t0):(r.bi_buf|=e<<r.bi_valid&65535,r.bi_valid+=t)},Ss=(r,e,t)=>{Di(r,t[e*2],t[e*2+1])},$_=(r,e)=>{let t=0;do t|=r&1,r>>>=1,t<<=1;while(--e>0);return t>>>1},BT=r=>{r.bi_valid===16?(Ru(r,r.bi_buf),r.bi_buf=0,r.bi_valid=0):r.bi_valid>=8&&(r.pending_buf[r.pending++]=r.bi_buf&255,r.bi_buf>>=8,r.bi_valid-=8)},MT=(r,e)=>{const t=e.dyn_tree,i=e.max_code,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,h,f,g,p,m,y=0;for(g=0;g<=ml;g++)r.bl_count[g]=0;for(t[r.heap[r.heap_max]*2+1]=0,c=r.heap_max+1;c<m_;c++)h=r.heap[c],g=t[t[h*2+1]*2+1]+1,g>l&&(g=l,y++),t[h*2+1]=g,!(h>i)&&(r.bl_count[g]++,p=0,h>=a&&(p=o[h-a]),m=t[h*2],r.opt_len+=m*(g+p),s&&(r.static_len+=m*(n[h*2+1]+p)));if(y!==0){do{for(g=l-1;r.bl_count[g]===0;)g--;r.bl_count[g]--,r.bl_count[g+1]+=2,r.bl_count[l]--,y-=2}while(y>0);for(g=l;g!==0;g--)for(h=r.bl_count[g];h!==0;)f=r.heap[--c],!(f>i)&&(t[f*2+1]!==g&&(r.opt_len+=(g-t[f*2+1])*t[f*2],t[f*2+1]=g),h--)}},P_=(r,e,t)=>{const i=new Array(ml+1);let n=0,s,o;for(s=1;s<=ml;s++)n=n+t[s-1]<<1,i[s]=n;for(o=0;o<=e;o++){let a=r[o*2+1];a!==0&&(r[o*2]=$_(i[a]++,a))}},FT=()=>{let r,e,t,i,n;const s=new Array(ml+1);for(t=0,i=0;i<Xb-1;i++)for(Ub[i]=t,r=0;r<1<<Xm[i];r++)Eu[t++]=i;for(Eu[t-1]=i,n=0,i=0;i<16;i++)for(Zp[i]=n,r=0;r<1<<op[i];r++)Xu[n++]=i;for(n>>=7;i<Qc;i++)for(Zp[i]=n<<7,r=0;r<1<<op[i]-7;r++)Xu[256+n++]=i;for(e=0;e<=ml;e++)s[e]=0;for(r=0;r<=143;)co[r*2+1]=8,r++,s[8]++;for(;r<=255;)co[r*2+1]=9,r++,s[9]++;for(;r<=279;)co[r*2+1]=7,r++,s[7]++;for(;r<=287;)co[r*2+1]=8,r++,s[8]++;for(P_(co,Cu+1,s),r=0;r<Qc;r++)Su[r*2+1]=5,Su[r*2]=$_(r,5);v_=new r0(co,Xm,df+1,Cu,ml),S_=new r0(Su,op,0,Qc,ml),__=new r0(new Array(0),YT,0,Eb,WT)},j_=r=>{let e;for(e=0;e<Cu;e++)r.dyn_ltree[e*2]=0;for(e=0;e<Qc;e++)r.dyn_dtree[e*2]=0;for(e=0;e<Eb;e++)r.bl_tree[e*2]=0;r.dyn_ltree[Rb*2]=1,r.opt_len=r.static_len=0,r.sym_next=r.matches=0},Q_=r=>{r.bi_valid>8?Ru(r,r.bi_buf):r.bi_valid>0&&(r.pending_buf[r.pending++]=r.bi_buf),r.bi_buf=0,r.bi_valid=0},u2=(r,e,t,i)=>{const n=e*2,s=t*2;return r[n]<r[s]||r[n]===r[s]&&i[e]<=i[t]},n0=(r,e,t)=>{const i=r.heap[t];let n=t<<1;for(;n<=r.heap_len&&(n<r.heap_len&&u2(e,r.heap[n+1],r.heap[n],r.depth)&&n++,!u2(e,i,r.heap[n],r.depth));)r.heap[t]=r.heap[n],t=n,n<<=1;r.heap[t]=i},f2=(r,e,t)=>{let i,n,s=0,o,a;if(r.sym_next!==0)do i=r.pending_buf[r.sym_buf+s++]&255,i+=(r.pending_buf[r.sym_buf+s++]&255)<<8,n=r.pending_buf[r.sym_buf+s++],i===0?Ss(r,n,e):(o=Eu[n],Ss(r,o+df+1,e),a=Xm[o],a!==0&&(n-=Ub[o],Di(r,n,a)),i--,o=k_(i),Ss(r,o,t),a=op[o],a!==0&&(i-=Zp[o],Di(r,i,a)));while(s<r.sym_next);Ss(r,Rb,e)},Em=(r,e)=>{const t=e.dyn_tree,i=e.stat_desc.static_tree,n=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,l=-1,c;for(r.heap_len=0,r.heap_max=m_,o=0;o<s;o++)t[o*2]!==0?(r.heap[++r.heap_len]=l=o,r.depth[o]=0):t[o*2+1]=0;for(;r.heap_len<2;)c=r.heap[++r.heap_len]=l<2?++l:0,t[c*2]=1,r.depth[c]=0,r.opt_len--,n&&(r.static_len-=i[c*2+1]);for(e.max_code=l,o=r.heap_len>>1;o>=1;o--)n0(r,t,o);c=s;do o=r.heap[1],r.heap[1]=r.heap[r.heap_len--],n0(r,t,1),a=r.heap[1],r.heap[--r.heap_max]=o,r.heap[--r.heap_max]=a,t[c*2]=t[o*2]+t[a*2],r.depth[c]=(r.depth[o]>=r.depth[a]?r.depth[o]:r.depth[a])+1,t[o*2+1]=t[a*2+1]=c,r.heap[1]=c++,n0(r,t,1);while(r.heap_len>=2);r.heap[--r.heap_max]=r.heap[1],MT(r,e),P_(t,l,r.bl_count)},d2=(r,e,t)=>{let i,n=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),e[(t+1)*2+1]=65535,i=0;i<=t;i++)s=o,o=e[(i+1)*2+1],!(++a<l&&s===o)&&(a<c?r.bl_tree[s*2]+=a:s!==0?(s!==n&&r.bl_tree[s*2]++,r.bl_tree[b_*2]++):a<=10?r.bl_tree[y_*2]++:r.bl_tree[x_*2]++,a=0,n=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))},p2=(r,e,t)=>{let i,n=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),i=0;i<=t;i++)if(s=o,o=e[(i+1)*2+1],!(++a<l&&s===o)){if(a<c)do Ss(r,s,r.bl_tree);while(--a!==0);else s!==0?(s!==n&&(Ss(r,s,r.bl_tree),a--),Ss(r,b_,r.bl_tree),Di(r,a-3,2)):a<=10?(Ss(r,y_,r.bl_tree),Di(r,a-3,3)):(Ss(r,x_,r.bl_tree),Di(r,a-11,7));a=0,n=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}},VT=r=>{let e;for(d2(r,r.dyn_ltree,r.l_desc.max_code),d2(r,r.dyn_dtree,r.d_desc.max_code),Em(r,r.bl_desc),e=Eb-1;e>=3&&r.bl_tree[w_[e]*2+1]===0;e--);return r.opt_len+=3*(e+1)+5+5+4,e},ZT=(r,e,t,i)=>{let n;for(Di(r,e-257,5),Di(r,t-1,5),Di(r,i-4,4),n=0;n<i;n++)Di(r,r.bl_tree[w_[n]*2+1],3);p2(r,r.dyn_ltree,e-1),p2(r,r.dyn_dtree,t-1)},GT=r=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&r.dyn_ltree[t*2]!==0)return c2;if(r.dyn_ltree[9*2]!==0||r.dyn_ltree[10*2]!==0||r.dyn_ltree[13*2]!==0)return h2;for(t=32;t<df;t++)if(r.dyn_ltree[t*2]!==0)return h2;return c2};let g2=!1;const HT=r=>{g2||(FT(),g2=!0),r.l_desc=new i0(r.dyn_ltree,v_),r.d_desc=new i0(r.dyn_dtree,S_),r.bl_desc=new i0(r.bl_tree,__),r.bi_buf=0,r.bi_valid=0,j_(r)},N_=(r,e,t,i)=>{Di(r,(LT<<1)+(i?1:0),3),Q_(r),Ru(r,t),Ru(r,~t),t&&r.pending_buf.set(r.window.subarray(e,e+t),r.pending),r.pending+=t},KT=r=>{Di(r,O_<<1,3),Ss(r,Rb,co),BT(r)},JT=(r,e,t,i)=>{let n,s,o=0;r.level>0?(r.strm.data_type===UT&&(r.strm.data_type=GT(r)),Em(r,r.l_desc),Em(r,r.d_desc),o=VT(r),n=r.opt_len+3+7>>>3,s=r.static_len+3+7>>>3,s<=n&&(n=s)):n=s=t+5,t+4<=n&&e!==-1?N_(r,e,t,i):r.strategy===RT||s===n?(Di(r,(O_<<1)+(i?1:0),3),f2(r,co,Su)):(Di(r,(zT<<1)+(i?1:0),3),ZT(r,r.l_desc.max_code+1,r.d_desc.max_code+1,o+1),f2(r,r.dyn_ltree,r.dyn_dtree)),j_(r),i&&Q_(r)},eC=(r,e,t)=>(r.pending_buf[r.sym_buf+r.sym_next++]=e,r.pending_buf[r.sym_buf+r.sym_next++]=e>>8,r.pending_buf[r.sym_buf+r.sym_next++]=t,e===0?r.dyn_ltree[t*2]++:(r.matches++,e--,r.dyn_ltree[(Eu[t]+df+1)*2]++,r.dyn_dtree[k_(e)*2]++),r.sym_next===r.sym_end);var tC=HT,rC=N_,iC=JT,nC=eC,sC=KT,oC={_tr_init:tC,_tr_stored_block:rC,_tr_flush_block:iC,_tr_tally:nC,_tr_align:sC};const aC=(r,e,t,i)=>{let n=r&65535|0,s=r>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do n=n+e[i++]|0,s=s+n|0;while(--o);n%=65521,s%=65521}return n|s<<16|0};var Uu=aC;const lC=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var i=0;i<8;i++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},cC=new Uint32Array(lC()),hC=(r,e,t,i)=>{const n=cC,s=i+t;r^=-1;for(let o=i;o<s;o++)r=r>>>8^n[(r^e[o])&255];return r^-1};var ti=hC,qc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pf={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:uC,_tr_stored_block:Rm,_tr_flush_block:fC,_tr_tally:da,_tr_align:dC}=oC,{Z_NO_FLUSH:pa,Z_PARTIAL_FLUSH:pC,Z_FULL_FLUSH:gC,Z_FINISH:wn,Z_BLOCK:O2,Z_OK:ci,Z_STREAM_END:m2,Z_STREAM_ERROR:Qs,Z_DATA_ERROR:OC,Z_BUF_ERROR:s0,Z_DEFAULT_COMPRESSION:mC,Z_FILTERED:bC,Z_HUFFMAN_ONLY:ud,Z_RLE:yC,Z_FIXED:xC,Z_DEFAULT_STRATEGY:wC,Z_UNKNOWN:vC,Z_DEFLATED:Ug}=pf,SC=9,_C=15,kC=8,$C=29,PC=256,Um=PC+1+$C,jC=30,QC=19,NC=2*Um+1,AC=15,Et=3,sa=258,Ns=sa+Et+1,TC=32,Ic=42,Lb=57,Lm=69,zm=73,qm=91,Im=103,bl=113,ou=666,Ri=1,ah=2,Cl=3,lh=4,CC=3,yl=(r,e)=>(r.msg=qc[e],e),b2=r=>r*2-(r>4?9:0),ia=r=>{let e=r.length;for(;--e>=0;)r[e]=0},XC=r=>{let e,t,i,n=r.w_size;e=r.hash_size,i=e;do t=r.head[--i],r.head[i]=t>=n?t-n:0;while(--e);e=n,i=e;do t=r.prev[--i],r.prev[i]=t>=n?t-n:0;while(--e)};let EC=(r,e,t)=>(e<<r.hash_shift^t)&r.hash_mask,ga=EC;const sn=r=>{const e=r.state;let t=e.pending;t>r.avail_out&&(t=r.avail_out),t!==0&&(r.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),r.next_out),r.next_out+=t,e.pending_out+=t,r.total_out+=t,r.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},ln=(r,e)=>{fC(r,r.block_start>=0?r.block_start:-1,r.strstart-r.block_start,e),r.block_start=r.strstart,sn(r.strm)},Yt=(r,e)=>{r.pending_buf[r.pending++]=e},Vh=(r,e)=>{r.pending_buf[r.pending++]=e>>>8&255,r.pending_buf[r.pending++]=e&255},Wm=(r,e,t,i)=>{let n=r.avail_in;return n>i&&(n=i),n===0?0:(r.avail_in-=n,e.set(r.input.subarray(r.next_in,r.next_in+n),t),r.state.wrap===1?r.adler=Uu(r.adler,e,n,t):r.state.wrap===2&&(r.adler=ti(r.adler,e,n,t)),r.next_in+=n,r.total_in+=n,n)},A_=(r,e)=>{let t=r.max_chain_length,i=r.strstart,n,s,o=r.prev_length,a=r.nice_match;const l=r.strstart>r.w_size-Ns?r.strstart-(r.w_size-Ns):0,c=r.window,h=r.w_mask,f=r.prev,g=r.strstart+sa;let p=c[i+o-1],m=c[i+o];r.prev_length>=r.good_match&&(t>>=2),a>r.lookahead&&(a=r.lookahead);do if(n=e,!(c[n+o]!==m||c[n+o-1]!==p||c[n]!==c[i]||c[++n]!==c[i+1])){i+=2,n++;do;while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<g);if(s=sa-(g-i),i=g-sa,s>o){if(r.match_start=e,o=s,s>=a)break;p=c[i+o-1],m=c[i+o]}}while((e=f[e&h])>l&&--t!==0);return o<=r.lookahead?o:r.lookahead},Wc=r=>{const e=r.w_size;let t,i,n;do{if(i=r.window_size-r.lookahead-r.strstart,r.strstart>=e+(e-Ns)&&(r.window.set(r.window.subarray(e,e+e-i),0),r.match_start-=e,r.strstart-=e,r.block_start-=e,r.insert>r.strstart&&(r.insert=r.strstart),XC(r),i+=e),r.strm.avail_in===0)break;if(t=Wm(r.strm,r.window,r.strstart+r.lookahead,i),r.lookahead+=t,r.lookahead+r.insert>=Et)for(n=r.strstart-r.insert,r.ins_h=r.window[n],r.ins_h=ga(r,r.ins_h,r.window[n+1]);r.insert&&(r.ins_h=ga(r,r.ins_h,r.window[n+Et-1]),r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,r.insert--,!(r.lookahead+r.insert<Et)););}while(r.lookahead<Ns&&r.strm.avail_in!==0)},T_=(r,e)=>{let t=r.pending_buf_size-5>r.w_size?r.w_size:r.pending_buf_size-5,i,n,s,o=0,a=r.strm.avail_in;do{if(i=65535,s=r.bi_valid+42>>3,r.strm.avail_out<s||(s=r.strm.avail_out-s,n=r.strstart-r.block_start,i>n+r.strm.avail_in&&(i=n+r.strm.avail_in),i>s&&(i=s),i<t&&(i===0&&e!==wn||e===pa||i!==n+r.strm.avail_in)))break;o=e===wn&&i===n+r.strm.avail_in?1:0,Rm(r,0,0,o),r.pending_buf[r.pending-4]=i,r.pending_buf[r.pending-3]=i>>8,r.pending_buf[r.pending-2]=~i,r.pending_buf[r.pending-1]=~i>>8,sn(r.strm),n&&(n>i&&(n=i),r.strm.output.set(r.window.subarray(r.block_start,r.block_start+n),r.strm.next_out),r.strm.next_out+=n,r.strm.avail_out-=n,r.strm.total_out+=n,r.block_start+=n,i-=n),i&&(Wm(r.strm,r.strm.output,r.strm.next_out,i),r.strm.next_out+=i,r.strm.avail_out-=i,r.strm.total_out+=i)}while(o===0);return a-=r.strm.avail_in,a&&(a>=r.w_size?(r.matches=2,r.window.set(r.strm.input.subarray(r.strm.next_in-r.w_size,r.strm.next_in),0),r.strstart=r.w_size,r.insert=r.strstart):(r.window_size-r.strstart<=a&&(r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,r.insert>r.strstart&&(r.insert=r.strstart)),r.window.set(r.strm.input.subarray(r.strm.next_in-a,r.strm.next_in),r.strstart),r.strstart+=a,r.insert+=a>r.w_size-r.insert?r.w_size-r.insert:a),r.block_start=r.strstart),r.high_water<r.strstart&&(r.high_water=r.strstart),o?lh:e!==pa&&e!==wn&&r.strm.avail_in===0&&r.strstart===r.block_start?ah:(s=r.window_size-r.strstart,r.strm.avail_in>s&&r.block_start>=r.w_size&&(r.block_start-=r.w_size,r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,s+=r.w_size,r.insert>r.strstart&&(r.insert=r.strstart)),s>r.strm.avail_in&&(s=r.strm.avail_in),s&&(Wm(r.strm,r.window,r.strstart,s),r.strstart+=s,r.insert+=s>r.w_size-r.insert?r.w_size-r.insert:s),r.high_water<r.strstart&&(r.high_water=r.strstart),s=r.bi_valid+42>>3,s=r.pending_buf_size-s>65535?65535:r.pending_buf_size-s,t=s>r.w_size?r.w_size:s,n=r.strstart-r.block_start,(n>=t||(n||e===wn)&&e!==pa&&r.strm.avail_in===0&&n<=s)&&(i=n>s?s:n,o=e===wn&&r.strm.avail_in===0&&i===n?1:0,Rm(r,r.block_start,i,o),r.block_start+=i,sn(r.strm)),o?Cl:Ri)},o0=(r,e)=>{let t,i;for(;;){if(r.lookahead<Ns){if(Wc(r),r.lookahead<Ns&&e===pa)return Ri;if(r.lookahead===0)break}if(t=0,r.lookahead>=Et&&(r.ins_h=ga(r,r.ins_h,r.window[r.strstart+Et-1]),t=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),t!==0&&r.strstart-t<=r.w_size-Ns&&(r.match_length=A_(r,t)),r.match_length>=Et)if(i=da(r,r.strstart-r.match_start,r.match_length-Et),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=Et){r.match_length--;do r.strstart++,r.ins_h=ga(r,r.ins_h,r.window[r.strstart+Et-1]),t=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;while(--r.match_length!==0);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=ga(r,r.ins_h,r.window[r.strstart+1]);else i=da(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(i&&(ln(r,!1),r.strm.avail_out===0))return Ri}return r.insert=r.strstart<Et-1?r.strstart:Et-1,e===wn?(ln(r,!0),r.strm.avail_out===0?Cl:lh):r.sym_next&&(ln(r,!1),r.strm.avail_out===0)?Ri:ah},dc=(r,e)=>{let t,i,n;for(;;){if(r.lookahead<Ns){if(Wc(r),r.lookahead<Ns&&e===pa)return Ri;if(r.lookahead===0)break}if(t=0,r.lookahead>=Et&&(r.ins_h=ga(r,r.ins_h,r.window[r.strstart+Et-1]),t=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=Et-1,t!==0&&r.prev_length<r.max_lazy_match&&r.strstart-t<=r.w_size-Ns&&(r.match_length=A_(r,t),r.match_length<=5&&(r.strategy===bC||r.match_length===Et&&r.strstart-r.match_start>4096)&&(r.match_length=Et-1)),r.prev_length>=Et&&r.match_length<=r.prev_length){n=r.strstart+r.lookahead-Et,i=da(r,r.strstart-1-r.prev_match,r.prev_length-Et),r.lookahead-=r.prev_length-1,r.prev_length-=2;do++r.strstart<=n&&(r.ins_h=ga(r,r.ins_h,r.window[r.strstart+Et-1]),t=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart);while(--r.prev_length!==0);if(r.match_available=0,r.match_length=Et-1,r.strstart++,i&&(ln(r,!1),r.strm.avail_out===0))return Ri}else if(r.match_available){if(i=da(r,0,r.window[r.strstart-1]),i&&ln(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return Ri}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(i=da(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<Et-1?r.strstart:Et-1,e===wn?(ln(r,!0),r.strm.avail_out===0?Cl:lh):r.sym_next&&(ln(r,!1),r.strm.avail_out===0)?Ri:ah},RC=(r,e)=>{let t,i,n,s;const o=r.window;for(;;){if(r.lookahead<=sa){if(Wc(r),r.lookahead<=sa&&e===pa)return Ri;if(r.lookahead===0)break}if(r.match_length=0,r.lookahead>=Et&&r.strstart>0&&(n=r.strstart-1,i=o[n],i===o[++n]&&i===o[++n]&&i===o[++n])){s=r.strstart+sa;do;while(i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&n<s);r.match_length=sa-(s-n),r.match_length>r.lookahead&&(r.match_length=r.lookahead)}if(r.match_length>=Et?(t=da(r,1,r.match_length-Et),r.lookahead-=r.match_length,r.strstart+=r.match_length,r.match_length=0):(t=da(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++),t&&(ln(r,!1),r.strm.avail_out===0))return Ri}return r.insert=0,e===wn?(ln(r,!0),r.strm.avail_out===0?Cl:lh):r.sym_next&&(ln(r,!1),r.strm.avail_out===0)?Ri:ah},UC=(r,e)=>{let t;for(;;){if(r.lookahead===0&&(Wc(r),r.lookahead===0)){if(e===pa)return Ri;break}if(r.match_length=0,t=da(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++,t&&(ln(r,!1),r.strm.avail_out===0))return Ri}return r.insert=0,e===wn?(ln(r,!0),r.strm.avail_out===0?Cl:lh):r.sym_next&&(ln(r,!1),r.strm.avail_out===0)?Ri:ah};function ss(r,e,t,i,n){this.good_length=r,this.max_lazy=e,this.nice_length=t,this.max_chain=i,this.func=n}const au=[new ss(0,0,0,0,T_),new ss(4,4,8,4,o0),new ss(4,5,16,8,o0),new ss(4,6,32,32,o0),new ss(4,4,16,16,dc),new ss(8,16,32,32,dc),new ss(8,16,128,128,dc),new ss(8,32,128,256,dc),new ss(32,128,258,1024,dc),new ss(32,258,258,4096,dc)],LC=r=>{r.window_size=2*r.w_size,ia(r.head),r.max_lazy_match=au[r.level].max_lazy,r.good_match=au[r.level].good_length,r.nice_match=au[r.level].nice_length,r.max_chain_length=au[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=Et-1,r.match_available=0,r.ins_h=0};function zC(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ug,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(NC*2),this.dyn_dtree=new Uint16Array((2*jC+1)*2),this.bl_tree=new Uint16Array((2*QC+1)*2),ia(this.dyn_ltree),ia(this.dyn_dtree),ia(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(AC+1),this.heap=new Uint16Array(2*Um+1),ia(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Um+1),ia(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const gf=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.status!==Ic&&e.status!==Lb&&e.status!==Lm&&e.status!==zm&&e.status!==qm&&e.status!==Im&&e.status!==bl&&e.status!==ou?1:0},C_=r=>{if(gf(r))return yl(r,Qs);r.total_in=r.total_out=0,r.data_type=vC;const e=r.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?Lb:e.wrap?Ic:bl,r.adler=e.wrap===2?0:1,e.last_flush=-2,uC(e),ci},X_=r=>{const e=C_(r);return e===ci&&LC(r.state),e},qC=(r,e)=>gf(r)||r.state.wrap!==2?Qs:(r.state.gzhead=e,ci),E_=(r,e,t,i,n,s)=>{if(!r)return Qs;let o=1;if(e===mC&&(e=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),n<1||n>SC||t!==Ug||i<8||i>15||e<0||e>9||s<0||s>xC||i===8&&o!==1)return yl(r,Qs);i===8&&(i=9);const a=new zC;return r.state=a,a.strm=r,a.status=Ic,a.wrap=o,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=n+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Et-1)/Et),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<n+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=t,X_(r)},IC=(r,e)=>E_(r,e,Ug,_C,kC,wC),WC=(r,e)=>{if(gf(r)||e>O2||e<0)return r?yl(r,Qs):Qs;const t=r.state;if(!r.output||r.avail_in!==0&&!r.input||t.status===ou&&e!==wn)return yl(r,r.avail_out===0?s0:Qs);const i=t.last_flush;if(t.last_flush=e,t.pending!==0){if(sn(r),r.avail_out===0)return t.last_flush=-1,ci}else if(r.avail_in===0&&b2(e)<=b2(i)&&e!==wn)return yl(r,s0);if(t.status===ou&&r.avail_in!==0)return yl(r,s0);if(t.status===Ic&&t.wrap===0&&(t.status=bl),t.status===Ic){let n=Ug+(t.w_bits-8<<4)<<8,s=-1;if(t.strategy>=ud||t.level<2?s=0:t.level<6?s=1:t.level===6?s=2:s=3,n|=s<<6,t.strstart!==0&&(n|=TC),n+=31-n%31,Vh(t,n),t.strstart!==0&&(Vh(t,r.adler>>>16),Vh(t,r.adler&65535)),r.adler=1,t.status=bl,sn(r),t.pending!==0)return t.last_flush=-1,ci}if(t.status===Lb){if(r.adler=0,Yt(t,31),Yt(t,139),Yt(t,8),t.gzhead)Yt(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Yt(t,t.gzhead.time&255),Yt(t,t.gzhead.time>>8&255),Yt(t,t.gzhead.time>>16&255),Yt(t,t.gzhead.time>>24&255),Yt(t,t.level===9?2:t.strategy>=ud||t.level<2?4:0),Yt(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(Yt(t,t.gzhead.extra.length&255),Yt(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(r.adler=ti(r.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=Lm;else if(Yt(t,0),Yt(t,0),Yt(t,0),Yt(t,0),Yt(t,0),Yt(t,t.level===9?2:t.strategy>=ud||t.level<2?4:0),Yt(t,CC),t.status=bl,sn(r),t.pending!==0)return t.last_flush=-1,ci}if(t.status===Lm){if(t.gzhead.extra){let n=t.pending,s=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+s>t.pending_buf_size;){let a=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>n&&(r.adler=ti(r.adler,t.pending_buf,t.pending-n,n)),t.gzindex+=a,sn(r),t.pending!==0)return t.last_flush=-1,ci;n=0,s-=a}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending+=s,t.gzhead.hcrc&&t.pending>n&&(r.adler=ti(r.adler,t.pending_buf,t.pending-n,n)),t.gzindex=0}t.status=zm}if(t.status===zm){if(t.gzhead.name){let n=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>n&&(r.adler=ti(r.adler,t.pending_buf,t.pending-n,n)),sn(r),t.pending!==0)return t.last_flush=-1,ci;n=0}t.gzindex<t.gzhead.name.length?s=t.gzhead.name.charCodeAt(t.gzindex++)&255:s=0,Yt(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>n&&(r.adler=ti(r.adler,t.pending_buf,t.pending-n,n)),t.gzindex=0}t.status=qm}if(t.status===qm){if(t.gzhead.comment){let n=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>n&&(r.adler=ti(r.adler,t.pending_buf,t.pending-n,n)),sn(r),t.pending!==0)return t.last_flush=-1,ci;n=0}t.gzindex<t.gzhead.comment.length?s=t.gzhead.comment.charCodeAt(t.gzindex++)&255:s=0,Yt(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>n&&(r.adler=ti(r.adler,t.pending_buf,t.pending-n,n))}t.status=Im}if(t.status===Im){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(sn(r),t.pending!==0))return t.last_flush=-1,ci;Yt(t,r.adler&255),Yt(t,r.adler>>8&255),r.adler=0}if(t.status=bl,sn(r),t.pending!==0)return t.last_flush=-1,ci}if(r.avail_in!==0||t.lookahead!==0||e!==pa&&t.status!==ou){let n=t.level===0?T_(t,e):t.strategy===ud?UC(t,e):t.strategy===yC?RC(t,e):au[t.level].func(t,e);if((n===Cl||n===lh)&&(t.status=ou),n===Ri||n===Cl)return r.avail_out===0&&(t.last_flush=-1),ci;if(n===ah&&(e===pC?dC(t):e!==O2&&(Rm(t,0,0,!1),e===gC&&(ia(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),sn(r),r.avail_out===0))return t.last_flush=-1,ci}return e!==wn?ci:t.wrap<=0?m2:(t.wrap===2?(Yt(t,r.adler&255),Yt(t,r.adler>>8&255),Yt(t,r.adler>>16&255),Yt(t,r.adler>>24&255),Yt(t,r.total_in&255),Yt(t,r.total_in>>8&255),Yt(t,r.total_in>>16&255),Yt(t,r.total_in>>24&255)):(Vh(t,r.adler>>>16),Vh(t,r.adler&65535)),sn(r),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?ci:m2)},YC=r=>{if(gf(r))return Qs;const e=r.state.status;return r.state=null,e===bl?yl(r,OC):ci},DC=(r,e)=>{let t=e.length;if(gf(r))return Qs;const i=r.state,n=i.wrap;if(n===2||n===1&&i.status!==Ic||i.lookahead)return Qs;if(n===1&&(r.adler=Uu(r.adler,e,t,0)),i.wrap=0,t>=i.w_size){n===0&&(ia(i.head),i.strstart=0,i.block_start=0,i.insert=0);let l=new Uint8Array(i.w_size);l.set(e.subarray(t-i.w_size,t),0),e=l,t=i.w_size}const s=r.avail_in,o=r.next_in,a=r.input;for(r.avail_in=t,r.next_in=0,r.input=e,Wc(i);i.lookahead>=Et;){let l=i.strstart,c=i.lookahead-(Et-1);do i.ins_h=ga(i,i.ins_h,i.window[l+Et-1]),i.prev[l&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=l,l++;while(--c);i.strstart=l,i.lookahead=Et-1,Wc(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=Et-1,i.match_available=0,r.next_in=o,r.input=a,r.avail_in=s,i.wrap=n,ci};var BC=IC,MC=E_,FC=X_,VC=C_,ZC=qC,GC=WC,HC=YC,KC=DC,JC="pako deflate (from Nodeca project)",_u={deflateInit:BC,deflateInit2:MC,deflateReset:FC,deflateResetKeep:VC,deflateSetHeader:ZC,deflate:GC,deflateEnd:HC,deflateSetDictionary:KC,deflateInfo:JC};const eX=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var tX=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)eX(t,i)&&(r[i]=t[i])}}return r},rX=r=>{let e=0;for(let i=0,n=r.length;i<n;i++)e+=r[i].length;const t=new Uint8Array(e);for(let i=0,n=0,s=r.length;i<s;i++){let o=r[i];t.set(o,n),n+=o.length}return t},Lg={assign:tX,flattenChunks:rX};let R_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(r){R_=!1}const Lu=new Uint8Array(256);for(let r=0;r<256;r++)Lu[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Lu[254]=Lu[254]=1;var iX=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,i,n,s,o=r.length,a=0;for(n=0;n<o;n++)t=r.charCodeAt(n),(t&64512)===55296&&n+1<o&&(i=r.charCodeAt(n+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),n++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),s=0,n=0;s<a;n++)t=r.charCodeAt(n),(t&64512)===55296&&n+1<o&&(i=r.charCodeAt(n+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),n++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const nX=(r,e)=>{if(e<65534&&r.subarray&&R_)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(r[i]);return t};var sX=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let i,n;const s=new Array(t*2);for(n=0,i=0;i<t;){let o=r[i++];if(o<128){s[n++]=o;continue}let a=Lu[o];if(a>4){s[n++]=65533,i+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&i<t;)o=o<<6|r[i++]&63,a--;if(a>1){s[n++]=65533;continue}o<65536?s[n++]=o:(o-=65536,s[n++]=55296|o>>10&1023,s[n++]=56320|o&1023)}return nX(s,n)},oX=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Lu[r[t]]>e?t:e},zu={string2buf:iX,buf2string:sX,utf8border:oX};function aX(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var U_=aX;const L_=Object.prototype.toString,{Z_NO_FLUSH:lX,Z_SYNC_FLUSH:cX,Z_FULL_FLUSH:hX,Z_FINISH:uX,Z_OK:Gp,Z_STREAM_END:fX,Z_DEFAULT_COMPRESSION:dX,Z_DEFAULT_STRATEGY:pX,Z_DEFLATED:gX}=pf;function zb(r){this.options=Lg.assign({level:dX,method:gX,chunkSize:16384,windowBits:15,memLevel:8,strategy:pX},r||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new U_,this.strm.avail_out=0;let t=_u.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==Gp)throw new Error(qc[t]);if(e.header&&_u.deflateSetHeader(this.strm,e.header),e.dictionary){let i;if(typeof e.dictionary=="string"?i=zu.string2buf(e.dictionary):L_.call(e.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(e.dictionary):i=e.dictionary,t=_u.deflateSetDictionary(this.strm,i),t!==Gp)throw new Error(qc[t]);this._dict_set=!0}}zb.prototype.push=function(r,e){const t=this.strm,i=this.options.chunkSize;let n,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?uX:lX,typeof r=="string"?t.input=zu.string2buf(r):L_.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(s===cX||s===hX)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(n=_u.deflate(t,s),n===fX)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),n=_u.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Gp;if(t.avail_out===0){this.onData(t.output);continue}if(s>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};zb.prototype.onData=function(r){this.chunks.push(r)};zb.prototype.onEnd=function(r){r===Gp&&(this.result=Lg.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};const fd=16209,OX=16191;var mX=function(e,t){let i,n,s,o,a,l,c,h,f,g,p,m,y,v,S,C,P,X,T,E,k,z,Q,W;const _=e.state;i=e.next_in,Q=e.input,n=i+(e.avail_in-5),s=e.next_out,W=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),l=_.dmax,c=_.wsize,h=_.whave,f=_.wnext,g=_.window,p=_.hold,m=_.bits,y=_.lencode,v=_.distcode,S=(1<<_.lenbits)-1,C=(1<<_.distbits)-1;e:do{m<15&&(p+=Q[i++]<<m,m+=8,p+=Q[i++]<<m,m+=8),P=y[p&S];t:for(;;){if(X=P>>>24,p>>>=X,m-=X,X=P>>>16&255,X===0)W[s++]=P&65535;else if(X&16){T=P&65535,X&=15,X&&(m<X&&(p+=Q[i++]<<m,m+=8),T+=p&(1<<X)-1,p>>>=X,m-=X),m<15&&(p+=Q[i++]<<m,m+=8,p+=Q[i++]<<m,m+=8),P=v[p&C];r:for(;;){if(X=P>>>24,p>>>=X,m-=X,X=P>>>16&255,X&16){if(E=P&65535,X&=15,m<X&&(p+=Q[i++]<<m,m+=8,m<X&&(p+=Q[i++]<<m,m+=8)),E+=p&(1<<X)-1,E>l){e.msg="invalid distance too far back",_.mode=fd;break e}if(p>>>=X,m-=X,X=s-o,E>X){if(X=E-X,X>h&&_.sane){e.msg="invalid distance too far back",_.mode=fd;break e}if(k=0,z=g,f===0){if(k+=c-X,X<T){T-=X;do W[s++]=g[k++];while(--X);k=s-E,z=W}}else if(f<X){if(k+=c+f-X,X-=f,X<T){T-=X;do W[s++]=g[k++];while(--X);if(k=0,f<T){X=f,T-=X;do W[s++]=g[k++];while(--X);k=s-E,z=W}}}else if(k+=f-X,X<T){T-=X;do W[s++]=g[k++];while(--X);k=s-E,z=W}for(;T>2;)W[s++]=z[k++],W[s++]=z[k++],W[s++]=z[k++],T-=3;T&&(W[s++]=z[k++],T>1&&(W[s++]=z[k++]))}else{k=s-E;do W[s++]=W[k++],W[s++]=W[k++],W[s++]=W[k++],T-=3;while(T>2);T&&(W[s++]=W[k++],T>1&&(W[s++]=W[k++]))}}else if(X&64){e.msg="invalid distance code",_.mode=fd;break e}else{P=v[(P&65535)+(p&(1<<X)-1)];continue r}break}}else if(X&64)if(X&32){_.mode=OX;break e}else{e.msg="invalid literal/length code",_.mode=fd;break e}else{P=y[(P&65535)+(p&(1<<X)-1)];continue t}break}}while(i<n&&s<a);T=m>>3,i-=T,m-=T<<3,p&=(1<<m)-1,e.next_in=i,e.next_out=s,e.avail_in=i<n?5+(n-i):5-(i-n),e.avail_out=s<a?257+(a-s):257-(s-a),_.hold=p,_.bits=m};const pc=15,y2=852,x2=592,w2=0,a0=1,v2=2,bX=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yX=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),xX=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),wX=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),vX=(r,e,t,i,n,s,o,a)=>{const l=a.bits;let c=0,h=0,f=0,g=0,p=0,m=0,y=0,v=0,S=0,C=0,P,X,T,E,k,z=null,Q;const W=new Uint16Array(pc+1),_=new Uint16Array(pc+1);let w=null,A,j,L;for(c=0;c<=pc;c++)W[c]=0;for(h=0;h<i;h++)W[e[t+h]]++;for(p=l,g=pc;g>=1&&W[g]===0;g--);if(p>g&&(p=g),g===0)return n[s++]=1<<24|64<<16|0,n[s++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<g&&W[f]===0;f++);for(p<f&&(p=f),v=1,c=1;c<=pc;c++)if(v<<=1,v-=W[c],v<0)return-1;if(v>0&&(r===w2||g!==1))return-1;for(_[1]=0,c=1;c<pc;c++)_[c+1]=_[c]+W[c];for(h=0;h<i;h++)e[t+h]!==0&&(o[_[e[t+h]]++]=h);if(r===w2?(z=w=o,Q=20):r===a0?(z=bX,w=yX,Q=257):(z=xX,w=wX,Q=0),C=0,h=0,c=f,k=s,m=p,y=0,T=-1,S=1<<p,E=S-1,r===a0&&S>y2||r===v2&&S>x2)return 1;for(;;){A=c-y,o[h]+1<Q?(j=0,L=o[h]):o[h]>=Q?(j=w[o[h]-Q],L=z[o[h]-Q]):(j=32+64,L=0),P=1<<c-y,X=1<<m,f=X;do X-=P,n[k+(C>>y)+X]=A<<24|j<<16|L|0;while(X!==0);for(P=1<<c-1;C&P;)P>>=1;if(P!==0?(C&=P-1,C+=P):C=0,h++,--W[c]===0){if(c===g)break;c=e[t+o[h]]}if(c>p&&(C&E)!==T){for(y===0&&(y=p),k+=f,m=c-y,v=1<<m;m+y<g&&(v-=W[m+y],!(v<=0));)m++,v<<=1;if(S+=1<<m,r===a0&&S>y2||r===v2&&S>x2)return 1;T=C&E,n[T]=p<<24|m<<16|k-s|0}}return C!==0&&(n[k+C]=c-y<<24|64<<16|0),a.bits=p,0};var ku=vX;const SX=0,z_=1,q_=2,{Z_FINISH:S2,Z_BLOCK:_X,Z_TREES:dd,Z_OK:Xl,Z_STREAM_END:kX,Z_NEED_DICT:$X,Z_STREAM_ERROR:$n,Z_DATA_ERROR:I_,Z_MEM_ERROR:W_,Z_BUF_ERROR:PX,Z_DEFLATED:_2}=pf,zg=16180,k2=16181,$2=16182,P2=16183,j2=16184,Q2=16185,N2=16186,A2=16187,T2=16188,C2=16189,Hp=16190,eo=16191,l0=16192,X2=16193,c0=16194,E2=16195,R2=16196,U2=16197,L2=16198,pd=16199,gd=16200,z2=16201,q2=16202,I2=16203,W2=16204,Y2=16205,h0=16206,D2=16207,B2=16208,gr=16209,Y_=16210,D_=16211,jX=852,QX=592,NX=15,AX=NX,M2=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function TX(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ml=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<zg||e.mode>D_?1:0},B_=r=>{if(Ml(r))return $n;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=zg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(jX),e.distcode=e.distdyn=new Int32Array(QX),e.sane=1,e.back=-1,Xl},M_=r=>{if(Ml(r))return $n;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,B_(r)},F_=(r,e)=>{let t;if(Ml(r))return $n;const i=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?$n:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,M_(r))},V_=(r,e)=>{if(!r)return $n;const t=new TX;r.state=t,t.strm=r,t.window=null,t.mode=zg;const i=F_(r,e);return i!==Xl&&(r.state=null),i},CX=r=>V_(r,AX);let F2=!0,u0,f0;const XX=r=>{if(F2){u0=new Int32Array(512),f0=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(ku(z_,r.lens,0,288,u0,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;ku(q_,r.lens,0,32,f0,0,r.work,{bits:5}),F2=!1}r.lencode=u0,r.lenbits=9,r.distcode=f0,r.distbits=5},Z_=(r,e,t,i)=>{let n;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>i&&(n=i),s.window.set(e.subarray(t-i,t-i+n),s.wnext),i-=n,i?(s.window.set(e.subarray(t-i,t),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0},EX=(r,e)=>{let t,i,n,s,o,a,l,c,h,f,g,p,m,y,v=0,S,C,P,X,T,E,k,z;const Q=new Uint8Array(4);let W,_;const w=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ml(r)||!r.output||!r.input&&r.avail_in!==0)return $n;t=r.state,t.mode===eo&&(t.mode=l0),o=r.next_out,n=r.output,l=r.avail_out,s=r.next_in,i=r.input,a=r.avail_in,c=t.hold,h=t.bits,f=a,g=l,z=Xl;e:for(;;)switch(t.mode){case zg:if(t.wrap===0){t.mode=l0;break}for(;h<16;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,Q[0]=c&255,Q[1]=c>>>8&255,t.check=ti(t.check,Q,2,0),c=0,h=0,t.mode=k2;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){r.msg="incorrect header check",t.mode=gr;break}if((c&15)!==_2){r.msg="unknown compression method",t.mode=gr;break}if(c>>>=4,h-=4,k=(c&15)+8,t.wbits===0&&(t.wbits=k),k>15||k>t.wbits){r.msg="invalid window size",t.mode=gr;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=c&512?C2:eo,c=0,h=0;break;case k2:for(;h<16;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(t.flags=c,(t.flags&255)!==_2){r.msg="unknown compression method",t.mode=gr;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=gr;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(Q[0]=c&255,Q[1]=c>>>8&255,t.check=ti(t.check,Q,2,0)),c=0,h=0,t.mode=$2;case $2:for(;h<32;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(Q[0]=c&255,Q[1]=c>>>8&255,Q[2]=c>>>16&255,Q[3]=c>>>24&255,t.check=ti(t.check,Q,4,0)),c=0,h=0,t.mode=P2;case P2:for(;h<16;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(Q[0]=c&255,Q[1]=c>>>8&255,t.check=ti(t.check,Q,2,0)),c=0,h=0,t.mode=j2;case j2:if(t.flags&1024){for(;h<16;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(Q[0]=c&255,Q[1]=c>>>8&255,t.check=ti(t.check,Q,2,0)),c=0,h=0}else t.head&&(t.head.extra=null);t.mode=Q2;case Q2:if(t.flags&1024&&(p=t.length,p>a&&(p=a),p&&(t.head&&(k=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(s,s+p),k)),t.flags&512&&t.wrap&4&&(t.check=ti(t.check,i,p,s)),a-=p,s+=p,t.length-=p),t.length))break e;t.length=0,t.mode=N2;case N2:if(t.flags&2048){if(a===0)break e;p=0;do k=i[s+p++],t.head&&k&&t.length<65536&&(t.head.name+=String.fromCharCode(k));while(k&&p<a);if(t.flags&512&&t.wrap&4&&(t.check=ti(t.check,i,p,s)),a-=p,s+=p,k)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=A2;case A2:if(t.flags&4096){if(a===0)break e;p=0;do k=i[s+p++],t.head&&k&&t.length<65536&&(t.head.comment+=String.fromCharCode(k));while(k&&p<a);if(t.flags&512&&t.wrap&4&&(t.check=ti(t.check,i,p,s)),a-=p,s+=p,k)break e}else t.head&&(t.head.comment=null);t.mode=T2;case T2:if(t.flags&512){for(;h<16;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(t.wrap&4&&c!==(t.check&65535)){r.msg="header crc mismatch",t.mode=gr;break}c=0,h=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=eo;break;case C2:for(;h<32;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}r.adler=t.check=M2(c),c=0,h=0,t.mode=Hp;case Hp:if(t.havedict===0)return r.next_out=o,r.avail_out=l,r.next_in=s,r.avail_in=a,t.hold=c,t.bits=h,$X;r.adler=t.check=1,t.mode=eo;case eo:if(e===_X||e===dd)break e;case l0:if(t.last){c>>>=h&7,h-=h&7,t.mode=h0;break}for(;h<3;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}switch(t.last=c&1,c>>>=1,h-=1,c&3){case 0:t.mode=X2;break;case 1:if(XX(t),t.mode=pd,e===dd){c>>>=2,h-=2;break e}break;case 2:t.mode=R2;break;case 3:r.msg="invalid block type",t.mode=gr}c>>>=2,h-=2;break;case X2:for(c>>>=h&7,h-=h&7;h<32;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){r.msg="invalid stored block lengths",t.mode=gr;break}if(t.length=c&65535,c=0,h=0,t.mode=c0,e===dd)break e;case c0:t.mode=E2;case E2:if(p=t.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break e;n.set(i.subarray(s,s+p),o),a-=p,s+=p,l-=p,o+=p,t.length-=p;break}t.mode=eo;break;case R2:for(;h<14;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(t.nlen=(c&31)+257,c>>>=5,h-=5,t.ndist=(c&31)+1,c>>>=5,h-=5,t.ncode=(c&15)+4,c>>>=4,h-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=gr;break}t.have=0,t.mode=U2;case U2:for(;t.have<t.ncode;){for(;h<3;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.lens[w[t.have++]]=c&7,c>>>=3,h-=3}for(;t.have<19;)t.lens[w[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,W={bits:t.lenbits},z=ku(SX,t.lens,0,19,t.lencode,0,t.work,W),t.lenbits=W.bits,z){r.msg="invalid code lengths set",t.mode=gr;break}t.have=0,t.mode=L2;case L2:for(;t.have<t.nlen+t.ndist;){for(;v=t.lencode[c&(1<<t.lenbits)-1],S=v>>>24,C=v>>>16&255,P=v&65535,!(S<=h);){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(P<16)c>>>=S,h-=S,t.lens[t.have++]=P;else{if(P===16){for(_=S+2;h<_;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(c>>>=S,h-=S,t.have===0){r.msg="invalid bit length repeat",t.mode=gr;break}k=t.lens[t.have-1],p=3+(c&3),c>>>=2,h-=2}else if(P===17){for(_=S+3;h<_;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}c>>>=S,h-=S,k=0,p=3+(c&7),c>>>=3,h-=3}else{for(_=S+7;h<_;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}c>>>=S,h-=S,k=0,p=11+(c&127),c>>>=7,h-=7}if(t.have+p>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=gr;break}for(;p--;)t.lens[t.have++]=k}}if(t.mode===gr)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=gr;break}if(t.lenbits=9,W={bits:t.lenbits},z=ku(z_,t.lens,0,t.nlen,t.lencode,0,t.work,W),t.lenbits=W.bits,z){r.msg="invalid literal/lengths set",t.mode=gr;break}if(t.distbits=6,t.distcode=t.distdyn,W={bits:t.distbits},z=ku(q_,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,W),t.distbits=W.bits,z){r.msg="invalid distances set",t.mode=gr;break}if(t.mode=pd,e===dd)break e;case pd:t.mode=gd;case gd:if(a>=6&&l>=258){r.next_out=o,r.avail_out=l,r.next_in=s,r.avail_in=a,t.hold=c,t.bits=h,mX(r,g),o=r.next_out,n=r.output,l=r.avail_out,s=r.next_in,i=r.input,a=r.avail_in,c=t.hold,h=t.bits,t.mode===eo&&(t.back=-1);break}for(t.back=0;v=t.lencode[c&(1<<t.lenbits)-1],S=v>>>24,C=v>>>16&255,P=v&65535,!(S<=h);){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(C&&!(C&240)){for(X=S,T=C,E=P;v=t.lencode[E+((c&(1<<X+T)-1)>>X)],S=v>>>24,C=v>>>16&255,P=v&65535,!(X+S<=h);){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}c>>>=X,h-=X,t.back+=X}if(c>>>=S,h-=S,t.back+=S,t.length=P,C===0){t.mode=Y2;break}if(C&32){t.back=-1,t.mode=eo;break}if(C&64){r.msg="invalid literal/length code",t.mode=gr;break}t.extra=C&15,t.mode=z2;case z2:if(t.extra){for(_=t.extra;h<_;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,h-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=q2;case q2:for(;v=t.distcode[c&(1<<t.distbits)-1],S=v>>>24,C=v>>>16&255,P=v&65535,!(S<=h);){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(!(C&240)){for(X=S,T=C,E=P;v=t.distcode[E+((c&(1<<X+T)-1)>>X)],S=v>>>24,C=v>>>16&255,P=v&65535,!(X+S<=h);){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}c>>>=X,h-=X,t.back+=X}if(c>>>=S,h-=S,t.back+=S,C&64){r.msg="invalid distance code",t.mode=gr;break}t.offset=P,t.extra=C&15,t.mode=I2;case I2:if(t.extra){for(_=t.extra;h<_;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,h-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=gr;break}t.mode=W2;case W2:if(l===0)break e;if(p=g-l,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=gr;break}p>t.wnext?(p-=t.wnext,m=t.wsize-p):m=t.wnext-p,p>t.length&&(p=t.length),y=t.window}else y=n,m=o-t.offset,p=t.length;p>l&&(p=l),l-=p,t.length-=p;do n[o++]=y[m++];while(--p);t.length===0&&(t.mode=gd);break;case Y2:if(l===0)break e;n[o++]=t.length,l--,t.mode=gd;break;case h0:if(t.wrap){for(;h<32;){if(a===0)break e;a--,c|=i[s++]<<h,h+=8}if(g-=l,r.total_out+=g,t.total+=g,t.wrap&4&&g&&(r.adler=t.check=t.flags?ti(t.check,n,g,o-g):Uu(t.check,n,g,o-g)),g=l,t.wrap&4&&(t.flags?c:M2(c))!==t.check){r.msg="incorrect data check",t.mode=gr;break}c=0,h=0}t.mode=D2;case D2:if(t.wrap&&t.flags){for(;h<32;){if(a===0)break e;a--,c+=i[s++]<<h,h+=8}if(t.wrap&4&&c!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=gr;break}c=0,h=0}t.mode=B2;case B2:z=kX;break e;case gr:z=I_;break e;case Y_:return W_;case D_:default:return $n}return r.next_out=o,r.avail_out=l,r.next_in=s,r.avail_in=a,t.hold=c,t.bits=h,(t.wsize||g!==r.avail_out&&t.mode<gr&&(t.mode<h0||e!==S2))&&Z_(r,r.output,r.next_out,g-r.avail_out),f-=r.avail_in,g-=r.avail_out,r.total_in+=f,r.total_out+=g,t.total+=g,t.wrap&4&&g&&(r.adler=t.check=t.flags?ti(t.check,n,g,r.next_out-g):Uu(t.check,n,g,r.next_out-g)),r.data_type=t.bits+(t.last?64:0)+(t.mode===eo?128:0)+(t.mode===pd||t.mode===c0?256:0),(f===0&&g===0||e===S2)&&z===Xl&&(z=PX),z},RX=r=>{if(Ml(r))return $n;let e=r.state;return e.window&&(e.window=null),r.state=null,Xl},UX=(r,e)=>{if(Ml(r))return $n;const t=r.state;return t.wrap&2?(t.head=e,e.done=!1,Xl):$n},LX=(r,e)=>{const t=e.length;let i,n,s;return Ml(r)||(i=r.state,i.wrap!==0&&i.mode!==Hp)?$n:i.mode===Hp&&(n=1,n=Uu(n,e,t,0),n!==i.check)?I_:(s=Z_(r,e,t,t),s?(i.mode=Y_,W_):(i.havedict=1,Xl))};var zX=M_,qX=F_,IX=B_,WX=CX,YX=V_,DX=EX,BX=RX,MX=UX,FX=LX,VX="pako inflate (from Nodeca project)",ho={inflateReset:zX,inflateReset2:qX,inflateResetKeep:IX,inflateInit:WX,inflateInit2:YX,inflate:DX,inflateEnd:BX,inflateGetHeader:MX,inflateSetDictionary:FX,inflateInfo:VX};function ZX(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var GX=ZX;const G_=Object.prototype.toString,{Z_NO_FLUSH:HX,Z_FINISH:KX,Z_OK:qu,Z_STREAM_END:d0,Z_NEED_DICT:p0,Z_STREAM_ERROR:JX,Z_DATA_ERROR:V2,Z_MEM_ERROR:e8}=pf;function Of(r){this.options=Lg.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new U_,this.strm.avail_out=0;let t=ho.inflateInit2(this.strm,e.windowBits);if(t!==qu)throw new Error(qc[t]);if(this.header=new GX,ho.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=zu.string2buf(e.dictionary):G_.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=ho.inflateSetDictionary(this.strm,e.dictionary),t!==qu)))throw new Error(qc[t])}Of.prototype.push=function(r,e){const t=this.strm,i=this.options.chunkSize,n=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?KX:HX,G_.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),s=ho.inflate(t,o),s===p0&&n&&(s=ho.inflateSetDictionary(t,n),s===qu?s=ho.inflate(t,o):s===V2&&(s=p0));t.avail_in>0&&s===d0&&t.state.wrap>0&&r[t.next_in]!==0;)ho.inflateReset(t),s=ho.inflate(t,o);switch(s){case JX:case V2:case p0:case e8:return this.onEnd(s),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||s===d0))if(this.options.to==="string"){let l=zu.utf8border(t.output,t.next_out),c=t.next_out-l,h=zu.buf2string(t.output,l);t.next_out=c,t.avail_out=i-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(h)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===qu&&a===0)){if(s===d0)return s=ho.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Of.prototype.onData=function(r){this.chunks.push(r)};Of.prototype.onEnd=function(r){r===qu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Lg.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function qb(r,e){const t=new Of(e);if(t.push(r),t.err)throw t.msg||qc[t.err];return t.result}function t8(r,e){return e=e||{},e.raw=!0,qb(r,e)}var r8=Of,i8=qb,n8=t8,s8=qb,o8=pf,a8={Inflate:r8,inflate:i8,inflateRaw:n8,ungzip:s8,constants:o8};const{Inflate:l8,inflate:c8,inflateRaw:IW,ungzip:WW}=a8;var Z2=l8,h8=c8;const H_=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;H_[r]=e}const G2=4294967295;function u8(r,e,t){let i=r;for(let n=0;n<t;n++)i=H_[(i^e[n])&255]^i>>>8;return i}function f8(r,e){return(u8(G2,r,e)^G2)>>>0}function H2(r,e,t){const i=r.readUint32(),n=f8(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(n!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${n}`)}function K_(r,e,t){for(let i=0;i<t;i++)e[i]=r[i]}function J_(r,e,t,i){let n=0;for(;n<i;n++)e[n]=r[n];for(;n<t;n++)e[n]=r[n]+e[n-i]&255}function ek(r,e,t,i){let n=0;if(t.length===0)for(;n<i;n++)e[n]=r[n];else for(;n<i;n++)e[n]=r[n]+t[n]&255}function tk(r,e,t,i,n){let s=0;if(t.length===0){for(;s<n;s++)e[s]=r[s];for(;s<i;s++)e[s]=r[s]+(e[s-n]>>1)&255}else{for(;s<n;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<i;s++)e[s]=r[s]+(e[s-n]+t[s]>>1)&255}}function rk(r,e,t,i,n){let s=0;if(t.length===0){for(;s<n;s++)e[s]=r[s];for(;s<i;s++)e[s]=r[s]+e[s-n]&255}else{for(;s<n;s++)e[s]=r[s]+t[s]&255;for(;s<i;s++)e[s]=r[s]+d8(e[s-n],t[s],t[s-n])&255}}function d8(r,e,t){const i=r+e-t,n=Math.abs(i-r),s=Math.abs(i-e),o=Math.abs(i-t);return n<=s&&n<=o?r:s<=o?e:t}function p8(r,e,t,i,n,s){switch(r){case 0:K_(e,t,n);break;case 1:J_(e,t,n,s);break;case 2:ek(e,t,i,n);break;case 3:tk(e,t,i,n,s);break;case 4:rk(e,t,i,n,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const g8=new Uint16Array([255]),O8=new Uint8Array(g8.buffer),m8=O8[0]===255;function b8(r){const{data:e,width:t,height:i,channels:n,depth:s}=r,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*n,l=new Uint8Array(i*t*a);let c=0;for(let h=0;h<7;h++){const f=o[h],g=Math.ceil((t-f.x)/f.xStep),p=Math.ceil((i-f.y)/f.yStep);if(g<=0||p<=0)continue;const m=g*a,y=new Uint8Array(m);for(let v=0;v<p;v++){const S=e[c++],C=e.subarray(c,c+m);c+=m;const P=new Uint8Array(m);p8(S,C,P,y,m,a),y.set(P);for(let X=0;X<g;X++){const T=f.x+X*f.xStep,E=f.y+v*f.yStep;if(!(T>=t||E>=i))for(let k=0;k<a;k++)l[(E*t+T)*a+k]=P[X*a+k]}}}if(s===16){const h=new Uint16Array(l.buffer);if(m8)for(let f=0;f<h.length;f++)h[f]=y8(h[f]);return h}else return l}function y8(r){return(r&255)<<8|r>>8&255}const x8=new Uint16Array([255]),w8=new Uint8Array(x8.buffer),v8=w8[0]===255,S8=new Uint8Array(0);function K2(r){const{data:e,width:t,height:i,channels:n,depth:s}=r,o=Math.ceil(s/8)*n,a=Math.ceil(s/8*n*t),l=new Uint8Array(i*a);let c=S8,h=0,f,g;for(let p=0;p<i;p++){switch(f=e.subarray(h+1,h+1+a),g=l.subarray(p*a,(p+1)*a),e[h]){case 0:K_(f,g,a);break;case 1:J_(f,g,a,o);break;case 2:ek(f,g,c,a);break;case 3:tk(f,g,c,a,o);break;case 4:rk(f,g,c,a,o);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}c=g,h+=a+1}if(s===16){const p=new Uint16Array(l.buffer);if(v8)for(let m=0;m<p.length;m++)p[m]=_8(p[m]);return p}else return l}function _8(r){return(r&255)<<8|r>>8&255}const ap=Uint8Array.of(137,80,78,71,13,10,26,10);function J2(r){if(!k8(r.readBytes(ap.length)))throw new Error("wrong PNG signature")}function k8(r){if(r.length<ap.length)return!1;for(let e=0;e<ap.length;e++)if(r[e]!==ap[e])return!1;return!0}const $8="tEXt",P8=0,ik=new TextDecoder("latin1");function j8(r){if(N8(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const Q8=/^[\u0000-\u00FF]*$/;function N8(r){if(!Q8.test(r))throw new Error("invalid latin1 text")}function A8(r,e,t){const i=nk(e);r[i]=T8(e,t-i.length-1)}function nk(r){for(r.mark();r.readByte()!==P8;);const e=r.offset;r.reset();const t=ik.decode(r.readBytes(e-r.offset-1));return r.skip(1),j8(t),t}function T8(r,e){return ik.decode(r.readBytes(e))}const rn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},g0={UNKNOWN:-1,DEFLATE:0},ew={UNKNOWN:-1,ADAPTIVE:0},O0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Od={NONE:0,BACKGROUND:1,PREVIOUS:2},m0={SOURCE:0,OVER:1};class C8 extends Cb{constructor(t,i={}){super(t);Xt(this,"_checkCrc");Xt(this,"_inflator");Xt(this,"_png");Xt(this,"_apng");Xt(this,"_end");Xt(this,"_hasPalette");Xt(this,"_palette");Xt(this,"_hasTransparency");Xt(this,"_transparency");Xt(this,"_compressionMethod");Xt(this,"_filterMethod");Xt(this,"_interlaceMethod");Xt(this,"_colorType");Xt(this,"_isAnimated");Xt(this,"_numberOfFrames");Xt(this,"_numberOfPlays");Xt(this,"_frames");Xt(this,"_writingDataChunks");const{checkCrc:n=!1}=i;this._checkCrc=n,this._inflator=new Z2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=g0.UNKNOWN,this._filterMethod=ew.UNKNOWN,this._interlaceMethod=O0.UNKNOWN,this._colorType=rn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(J2(this);!this._end;){const t=this.readUint32(),i=this.readChars(4);this.decodeChunk(t,i)}return this.decodeImage(),this._png}decodeApng(){for(J2(this);!this._end;){const t=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(t,i)}return this.decodeApngImage(),this._apng}decodeChunk(t,i){const n=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case $8:A8(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?H2(this,t+4,i):this.skip(4)}decodeApngChunk(t,i){const n=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,i),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?H2(this,t+4,i):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=X8(this.readUint8());const i=this.readUint8();this._colorType=i;let n;switch(i){case rn.GREYSCALE:n=1;break;case rn.TRUECOLOUR:n=3;break;case rn.INDEXED_COLOUR:n=1;break;case rn.GREYSCALE_ALPHA:n=2;break;case rn.TRUECOLOUR_ALPHA:n=4;break;case rn.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==g0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const i=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let s=0;s<i;s++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const i=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let i=t,n=this.offset+this.byteOffset;if(n+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,n,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case rn.GREYSCALE:case rn.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let i=0;i<t/2;i++)this._transparency[i]=this.readUint16();break}case rn.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let i=0;for(;i<t;i++){const n=this.readByte();this._palette[i].push(n)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case rn.UNKNOWN:case rn.GREYSCALE_ALPHA:case rn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const i=nk(this),n=this.readUint8();if(n!==g0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const s=this.readBytes(t-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:h8(s)}}decodepHYs(){const t=this.readUint32(),i=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:i,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const i={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=K2({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)i.data=n.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(n,s,i),this.addFrameDataToCanvas(i,n)}this._apng.frames.push(i)}}return this._apng}disposeFrame(t,i,n){switch(t.disposeOp){case Od.NONE:break;case Od.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*t.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[a+l]=0}break;case Od.PREVIOUS:n.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,i){const n=1<<this._png.depth,s=(o,a)=>{const l=((o+i.yOffset)*this._png.width+i.xOffset+a)*this._png.channels,c=(o*i.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(i.blendOp){case m0.SOURCE:for(let o=0;o<i.height;o++)for(let a=0;a<i.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let h=0;h<this._png.channels;h++)t.data[l+h]=i.data[c+h]}break;case m0.OVER:for(let o=0;o<i.height;o++)for(let a=0;a<i.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let h=0;h<this._png.channels;h++){const f=i.data[c+this._png.channels-1]/n,g=h%(this._png.channels-1)===0?1:i.data[c+h],p=Math.floor(f*g+(1-f)*t.data[l+h]);t.data[l+h]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==ew.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===O0.NO_INTERLACE)this._png.data=K2({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===O0.ADAM7)this._png.data=b8({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,i=this._frames.at(-1);i?i.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Od.NONE,blendOp:m0.SOURCE,data:t}),this._inflator=new Z2,this._writingDataChunks=!1}}function X8(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var tw;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(tw||(tw={}));function E8(r,e){return new C8(r,e).decode()}var ht=function(){return typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this}();function b0(){ht.console&&typeof ht.console.log=="function"&&ht.console.log.apply(ht.console,arguments)}var ir={log:b0,warn:function(r){ht.console&&(typeof ht.console.warn=="function"?ht.console.warn.apply(ht.console,arguments):b0.call(null,arguments))},error:function(r){ht.console&&(typeof ht.console.error=="function"?ht.console.error.apply(ht.console,arguments):b0(r))}};function y0(r,e,t){var i=new XMLHttpRequest;i.open("GET",r),i.responseType="blob",i.onload=function(){hl(i.response,e,t)},i.onerror=function(){ir.error("could not download file")},i.send()}function rw(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function md(r){try{r.dispatchEvent(new MouseEvent("click"))}catch(t){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var hl=ht.saveAs||((typeof window=="undefined"?"undefined":Gt(window))!=="object"||window!==ht?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var i=ht.URL||ht.webkitURL,n=document.createElement("a");e=e||r.name||"download",n.download=e,n.rel="noopener",typeof r=="string"?(n.href=r,n.origin!==location.origin?rw(n.href)?y0(r,e,t):md(n,n.target="_blank"):md(n)):(n.href=i.createObjectURL(r),setTimeout(function(){i.revokeObjectURL(n.href)},4e4),setTimeout(function(){md(n)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(rw(r))y0(r,e,t);else{var i=document.createElement("a");i.href=r,i.target="_blank",setTimeout(function(){md(i)})}else navigator.msSaveOrOpenBlob(function(n,s){return s===void 0?s={autoBom:!1}:Gt(s)!=="object"&&(ir.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob([String.fromCharCode(65279),n],{type:n.type}):n}(r,t),e)}:function(r,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof r=="string")return y0(r,e,t);var n=r.type==="application/octet-stream",s=/constructor/i.test(ht.HTMLElement)||ht.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||n&&s)&&(typeof FileReader=="undefined"?"undefined":Gt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=h:location=h,i=null},a.readAsDataURL(r)}else{var l=ht.URL||ht.webkitURL,c=l.createObjectURL(r);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function sk(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<t.length;i++){var n=t[i].re,s=t[i].process,o=n.exec(r);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var lp=ht.atob.bind(ht),iw=ht.btoa.bind(ht);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function x0(r,e){var t=r[0],i=r[1],n=r[2],s=r[3];t=yi(t,i,n,s,e[0],7,-680876936),s=yi(s,t,i,n,e[1],12,-389564586),n=yi(n,s,t,i,e[2],17,606105819),i=yi(i,n,s,t,e[3],22,-1044525330),t=yi(t,i,n,s,e[4],7,-176418897),s=yi(s,t,i,n,e[5],12,1200080426),n=yi(n,s,t,i,e[6],17,-1473231341),i=yi(i,n,s,t,e[7],22,-45705983),t=yi(t,i,n,s,e[8],7,1770035416),s=yi(s,t,i,n,e[9],12,-1958414417),n=yi(n,s,t,i,e[10],17,-42063),i=yi(i,n,s,t,e[11],22,-1990404162),t=yi(t,i,n,s,e[12],7,1804603682),s=yi(s,t,i,n,e[13],12,-40341101),n=yi(n,s,t,i,e[14],17,-1502002290),t=xi(t,i=yi(i,n,s,t,e[15],22,1236535329),n,s,e[1],5,-165796510),s=xi(s,t,i,n,e[6],9,-1069501632),n=xi(n,s,t,i,e[11],14,643717713),i=xi(i,n,s,t,e[0],20,-373897302),t=xi(t,i,n,s,e[5],5,-701558691),s=xi(s,t,i,n,e[10],9,38016083),n=xi(n,s,t,i,e[15],14,-660478335),i=xi(i,n,s,t,e[4],20,-405537848),t=xi(t,i,n,s,e[9],5,568446438),s=xi(s,t,i,n,e[14],9,-1019803690),n=xi(n,s,t,i,e[3],14,-187363961),i=xi(i,n,s,t,e[8],20,1163531501),t=xi(t,i,n,s,e[13],5,-1444681467),s=xi(s,t,i,n,e[2],9,-51403784),n=xi(n,s,t,i,e[7],14,1735328473),t=wi(t,i=xi(i,n,s,t,e[12],20,-1926607734),n,s,e[5],4,-378558),s=wi(s,t,i,n,e[8],11,-2022574463),n=wi(n,s,t,i,e[11],16,1839030562),i=wi(i,n,s,t,e[14],23,-35309556),t=wi(t,i,n,s,e[1],4,-1530992060),s=wi(s,t,i,n,e[4],11,1272893353),n=wi(n,s,t,i,e[7],16,-155497632),i=wi(i,n,s,t,e[10],23,-1094730640),t=wi(t,i,n,s,e[13],4,681279174),s=wi(s,t,i,n,e[0],11,-358537222),n=wi(n,s,t,i,e[3],16,-722521979),i=wi(i,n,s,t,e[6],23,76029189),t=wi(t,i,n,s,e[9],4,-640364487),s=wi(s,t,i,n,e[12],11,-421815835),n=wi(n,s,t,i,e[15],16,530742520),t=vi(t,i=wi(i,n,s,t,e[2],23,-995338651),n,s,e[0],6,-198630844),s=vi(s,t,i,n,e[7],10,1126891415),n=vi(n,s,t,i,e[14],15,-1416354905),i=vi(i,n,s,t,e[5],21,-57434055),t=vi(t,i,n,s,e[12],6,1700485571),s=vi(s,t,i,n,e[3],10,-1894986606),n=vi(n,s,t,i,e[10],15,-1051523),i=vi(i,n,s,t,e[1],21,-2054922799),t=vi(t,i,n,s,e[8],6,1873313359),s=vi(s,t,i,n,e[15],10,-30611744),n=vi(n,s,t,i,e[6],15,-1560198380),i=vi(i,n,s,t,e[13],21,1309151649),t=vi(t,i,n,s,e[4],6,-145523070),s=vi(s,t,i,n,e[11],10,-1120210379),n=vi(n,s,t,i,e[2],15,718787259),i=vi(i,n,s,t,e[9],21,-343485551),r[0]=oa(t,r[0]),r[1]=oa(i,r[1]),r[2]=oa(n,r[2]),r[3]=oa(s,r[3])}function qg(r,e,t,i,n,s){return e=oa(oa(e,r),oa(i,s)),oa(e<<n|e>>>32-n,t)}function yi(r,e,t,i,n,s,o){return qg(e&t|~e&i,r,e,n,s,o)}function xi(r,e,t,i,n,s,o){return qg(e&i|t&~i,r,e,n,s,o)}function wi(r,e,t,i,n,s,o){return qg(e^t^i,r,e,n,s,o)}function vi(r,e,t,i,n,s,o){return qg(t^(e|~i),r,e,n,s,o)}function ok(r){var e,t=r.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)x0(i,R8(r.substring(e-64,e)));r=r.substring(e-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)n[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(n[e>>2]|=128<<(e%4<<3),e>55)for(x0(i,n),e=0;e<16;e++)n[e]=0;return n[14]=8*t,x0(i,n),i}function R8(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var nw="0123456789abcdef".split("");function U8(r){for(var e="",t=0;t<4;t++)e+=nw[r>>8*t+4&15]+nw[r>>8*t&15];return e}function L8(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function Ym(r){return ok(r).map(L8).join("")}var z8=function(r){for(var e=0;e<r.length;e++)r[e]=U8(r[e]);return r.join("")}(ok("hello"))!="5d41402abc4b2a76b9719d911017c592";function oa(r,e){if(z8){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Dm(r,e){var t,i,n,s;if(r!==t){for(var o=(n=r,s=1+(256/r.length|0),new Array(s+1).join(n)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var h=a[l];c=(c+h+o.charCodeAt(l))%256,a[l]=a[c],a[c]=h}t=r,i=a}else a=i;var f=e.length,g=0,p=0,m="";for(l=0;l<f;l++)p=(p+(h=a[g=(g+1)%256]))%256,a[g]=a[p],a[p]=h,o=a[(a[g]+a[p])%256],m+=String.fromCharCode(e.charCodeAt(l)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var sw={print:4,modify:8,copy:16,"annot-forms":32};function wc(r,e,t,i){this.v=1,this.r=2;var n=192;r.forEach(function(a){if(sw.perm!==void 0)throw new Error("Invalid permission: "+a);n+=sw[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^n)),this.encryptionKey=Ym(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Dm(this.encryptionKey,this.padding)}function vc(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,i=0;i<t;i++){var n=r.charCodeAt(i);e+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):r[i]}return e}function ow(r){if(Gt(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,n){if(n=n||!1,typeof t!="string"||typeof i!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[i,!!n],s},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),n=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(r,i)}catch(a){ht.console&&ir.error("jsPDF PubSub Error",a.message,a)}o[1]&&n.push(s)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Kp(r){if(!(this instanceof Kp))return new Kp(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function ak(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function fl(r,e,t,i,n){if(!(this instanceof fl))return new fl(r,e,t,i,n);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,ak.call(this,i,n)}function Sc(r,e,t,i,n){if(!(this instanceof Sc))return new Sc(r,e,t,i,n);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,ak.call(this,i,n)}function Ke(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],n=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",h=null;Gt(r=r||{})==="object"&&(t=r.orientation,i=r.unit||i,n=r.format||n,s=r.compress||r.compressPdf||s,(h=r.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(l=r.floatPrecision),c=r.defaultPathOperation||"S"),o=r.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",t=(""+(t||"P")).toLowerCase();var f=r.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=ow;var m="1.3",y=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(b){m=b};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var S=p.__private__.getPageFormat=function(b){return v[b]};n=n||"a4";var C="compat",P="advanced",X=C;function T(){this.saveGraphicsState(),J(new at(ct,0,0,-ct,0,Ya()*ct).toString()+" cm"),this.setFontSize(this.getFontSize()/ct),c="n",X=P}function E(){this.restoreGraphicsState(),c="S",X=C}var k=p.__private__.combineFontStyleAndFontWeight=function(b,R){if(b=="bold"&&R=="normal"||b=="bold"&&R==400||b=="normal"&&R=="italic"||b=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(b=R==400||R==="normal"?b==="italic"?"italic":"normal":R!=700&&R!=="bold"||b!=="normal"?(R==700?"bold":R)+""+b:"bold"),b};p.advancedAPI=function(b){var R=X===C;return R&&T.call(this),typeof b!="function"||(b(this),R&&E.call(this)),this},p.compatAPI=function(b){var R=X===P;return R&&E.call(this),typeof b!="function"||(b(this),R&&T.call(this)),this},p.isAdvancedAPI=function(){return X===P};var z,Q=function(b){if(X!==P)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=p.roundToPrecision=p.__private__.roundToPrecision=function(b,R){var G=e||R;if(isNaN(b)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(G).replace(/0+$/,"")};z=p.hpf=p.__private__.hpf=typeof l=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return W(b,l)}:l==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return W(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return W(b,16)};var _=p.f2=p.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return W(b,2)},w=p.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return W(b,3)},A=p.scale=p.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return X===C?b*ct:X===P?b:void 0},j=function(b){return A(function(R){return X===C?Ya()-R:X===P?R:void 0}(b))};p.__private__.setPrecision=p.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(e=parseInt(b,10))};var L,K="00000000000000000000000000000000",re=p.__private__.getFileId=function(){return K},te=p.__private__.setFileId=function(b){return K=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Nr=new wc(h.userPermissions,h.userPassword,h.ownerPassword,K)),K};p.setFileId=function(b){return te(b),this},p.getFileId=function(){return re()};var oe=p.__private__.convertDateToPDFDate=function(b){var R=b.getTimezoneOffset(),G=R<0?"+":"-",ne=Math.floor(Math.abs(R/60)),ue=Math.abs(R%60),Se=[G,F(ne),"'",F(ue),"'"].join("");return["D:",b.getFullYear(),F(b.getMonth()+1),F(b.getDate()),F(b.getHours()),F(b.getMinutes()),F(b.getSeconds()),Se].join("")},ve=p.__private__.convertPDFDateToDate=function(b){var R=parseInt(b.substr(2,4),10),G=parseInt(b.substr(6,2),10)-1,ne=parseInt(b.substr(8,2),10),ue=parseInt(b.substr(10,2),10),Se=parseInt(b.substr(12,2),10),Pe=parseInt(b.substr(14,2),10);return new Date(R,G,ne,ue,Se,Pe,0)},ae=p.__private__.setCreationDate=function(b){var R;if(b===void 0&&(b=new Date),b instanceof Date)R=oe(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=b}return L=R},N=p.__private__.getCreationDate=function(b){var R=L;return b==="jsDate"&&(R=ve(L)),R};p.setCreationDate=function(b){return ae(b),this},p.getCreationDate=function(b){return N(b)};var Y,F=p.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},B=p.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},ee=0,le=[],be=[],me=0,_e=[],he=[],je=!1,pe=be;p.__private__.setCustomOutputDestination=function(b){je=!0,pe=b};var Oe=function(b){je||(pe=b)};p.__private__.resetCustomOutputDestination=function(){je=!1,pe=be};var J=p.__private__.out=function(b){return b=b.toString(),me+=b.length+1,pe.push(b),pe},At=p.__private__.write=function(b){return J(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},vt=p.__private__.getArrayBuffer=function(b){for(var R=b.length,G=new ArrayBuffer(R),ne=new Uint8Array(G);R--;)ne[R]=b.charCodeAt(R);return G},st=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return st};var Ne=r.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(b){return Ne=X===P?b/ct:b,this};var Je,We=p.__private__.getFontSize=p.getFontSize=function(){return X===C?Ne:Ne*ct},St=r.R2L||!1;p.__private__.setR2L=p.setR2L=function(b){return St=b,this},p.__private__.getR2L=p.getR2L=function(){return St};var it,qt=p.__private__.setZoomMode=function(b){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))Je=b;else if(isNaN(b)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');Je=b}else Je=parseInt(b,10)};p.__private__.getZoomMode=function(){return Je};var Ot,mt=p.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');it=b};p.__private__.getPageMode=function(){return it};var Ht=p.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');Ot=b};p.__private__.getLayoutMode=function(){return Ot},p.__private__.setDisplayMode=p.setDisplayMode=function(b,R,G){return qt(b),Ht(R),mt(G),this};var _t={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(b){if(Object.keys(_t).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _t[b]},p.__private__.getDocumentProperties=function(){return _t},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(b){for(var R in _t)_t.hasOwnProperty(R)&&b[R]&&(_t[R]=b[R]);return this},p.__private__.setDocumentProperty=function(b,R){if(Object.keys(_t).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _t[b]=R};var tt,ct,rt,or,It,Ge={},bt={},Jt=[],ot={},Tt={},yt={},Qr={},Br=null,er=0,ft=[],Bt=new ow(p),Aa=r.hotfixes||[],Oi={},Us={},Hn=[],at=function b(R,G,ne,ue,Se,Pe){if(!(this instanceof b))return new b(R,G,ne,ue,Se,Pe);isNaN(R)&&(R=1),isNaN(G)&&(G=0),isNaN(ne)&&(ne=0),isNaN(ue)&&(ue=1),isNaN(Se)&&(Se=0),isNaN(Pe)&&(Pe=0),this._matrix=[R,G,ne,ue,Se,Pe]};Object.defineProperty(at.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(at.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(at.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(at.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(at.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(at.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(at.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(at.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(at.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(at.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(at.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(at.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(at.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(at.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(at.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(at.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),at.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(b)},at.prototype.multiply=function(b){var R=b.sx*this.sx+b.shy*this.shx,G=b.sx*this.shy+b.shy*this.sy,ne=b.shx*this.sx+b.sy*this.shx,ue=b.shx*this.shy+b.sy*this.sy,Se=b.tx*this.sx+b.ty*this.shx+this.tx,Pe=b.tx*this.shy+b.ty*this.sy+this.ty;return new at(R,G,ne,ue,Se,Pe)},at.prototype.decompose=function(){var b=this.sx,R=this.shy,G=this.shx,ne=this.sy,ue=this.tx,Se=this.ty,Pe=Math.sqrt(b*b+R*R),Me=(b/=Pe)*G+(R/=Pe)*ne;G-=b*Me,ne-=R*Me;var Ze=Math.sqrt(G*G+ne*ne);return Me/=Ze,b*(ne/=Ze)<R*(G/=Ze)&&(b=-b,R=-R,Me=-Me,Pe=-Pe),{scale:new at(Pe,0,0,Ze,0,0),translate:new at(1,0,0,1,ue,Se),rotate:new at(b,R,-R,b,0,0),skew:new at(1,0,Me,1,0,0)}},at.prototype.toString=function(b){return this.join(" ")},at.prototype.inversed=function(){var b=this.sx,R=this.shy,G=this.shx,ne=this.sy,ue=this.tx,Se=this.ty,Pe=1/(b*ne-R*G),Me=ne*Pe,Ze=-R*Pe,ut=-G*Pe,pt=b*Pe;return new at(Me,Ze,ut,pt,-Me*ue-ut*Se,-Ze*ue-pt*Se)},at.prototype.applyToPoint=function(b){var R=b.x*this.sx+b.y*this.shx+this.tx,G=b.x*this.shy+b.y*this.sy+this.ty;return new Ia(R,G)},at.prototype.applyToRectangle=function(b){var R=this.applyToPoint(b),G=this.applyToPoint(new Ia(b.x+b.w,b.y+b.h));return new vh(R.x,R.y,G.x-R.x,G.y-R.y)},at.prototype.clone=function(){var b=this.sx,R=this.shy,G=this.shx,ne=this.sy,ue=this.tx,Se=this.ty;return new at(b,R,G,ne,ue,Se)},p.Matrix=at;var Ls=p.matrixMult=function(b,R){return R.multiply(b)},zs=new at(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=zs;var hn=function(b,R){if(!Tt[b]){var G=(R instanceof fl?"Sh":"P")+(Object.keys(ot).length+1).toString(10);R.id=G,Tt[b]=G,ot[G]=R,Bt.publish("addPattern",R)}};p.ShadingPattern=fl,p.TilingPattern=Sc,p.addShadingPattern=function(b,R){return Q("addShadingPattern()"),hn(b,R),this},p.beginTilingPattern=function(b){Q("beginTilingPattern()"),Sh(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},p.endTilingPattern=function(b,R){Q("endTilingPattern()"),R.stream=he[Y].join(`
`),hn(b,R),Bt.publish("endTilingPattern",R),Hn.pop().restore()};var un,yr=p.__private__.newObject=function(){var b=ei();return ni(b,!0),b},ei=p.__private__.newObjectDeferred=function(){return ee++,le[ee]=function(){return me},ee},ni=function(b,R){return R=typeof R=="boolean"&&R,le[b]=me,R&&J(b+" 0 obj"),b},Ta=p.__private__.newAdditionalObject=function(){var b={objId:ei(),content:""};return _e.push(b),b},_o=ei(),Nn=ei(),Kn=p.__private__.decodeColorString=function(b){var R=b.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length!==5||R[4]!=="k"&&R[4]!=="K"||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var G=parseFloat(R[0]);R=[G,G,G,"r"]}for(var ne="#",ue=0;ue<3;ue++)ne+=("0"+Math.floor(255*parseFloat(R[ue])).toString(16)).slice(-2);return ne},An=p.__private__.encodeColorString=function(b){var R;typeof b=="string"&&(b={ch1:b});var G=b.ch1,ne=b.ch2,ue=b.ch3,Se=b.ch4,Pe=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var Me=new sk(G);if(Me.ok)G=Me.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var Ze=parseInt(G.substr(1),16);G=Ze>>16&255,ne=Ze>>8&255,ue=255&Ze}if(ne===void 0||Se===void 0&&G===ne&&ne===ue)R=typeof G=="string"?G+" "+Pe[0]:b.precision===2?_(G/255)+" "+Pe[0]:w(G/255)+" "+Pe[0];else if(Se===void 0||Gt(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return["1.","1.","1.",Pe[1]].join(" ");R=typeof G=="string"?[G,ne,ue,Pe[1]].join(" "):b.precision===2?[_(G/255),_(ne/255),_(ue/255),Pe[1]].join(" "):[w(G/255),w(ne/255),w(ue/255),Pe[1]].join(" ")}else R=typeof G=="string"?[G,ne,ue,Se,Pe[2]].join(" "):b.precision===2?[_(G),_(ne),_(ue),_(Se),Pe[2]].join(" "):[w(G),w(ne),w(ue),w(Se),Pe[2]].join(" ");return R},Tn=p.__private__.getFilters=function(){return o},fn=p.__private__.putStream=function(b){var R=(b=b||{}).data||"",G=b.filters||Tn(),ne=b.alreadyAppliedFilters||[],ue=b.addLength1||!1,Se=R.length,Pe=b.objectId,Me=function(Mr){return Mr};if(h!==null&&Pe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Me=Nr.encryptor(Pe,0));var Ze={};G===!0&&(G=["FlateEncode"]);var ut=b.additionalKeyValues||[],pt=(Ze=Ke.API.processDataByFilters!==void 0?Ke.API.processDataByFilters(R,G):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(ne)?ne.join(" "):ne.toString());if(Ze.data.length!==0&&(ut.push({key:"Length",value:Ze.data.length}),ue===!0&&ut.push({key:"Length1",value:Se})),pt.length!=0)if(pt.split("/").length-1==1)ut.push({key:"Filter",value:pt});else{ut.push({key:"Filter",value:"["+pt+"]"});for(var Wt=0;Wt<ut.length;Wt+=1)if(ut[Wt].key==="DecodeParms"){for(var br=[],Ir=0;Ir<Ze.reverseChain.split("/").length-1;Ir+=1)br.push("null");br.push(ut[Wt].value),ut[Wt].value="["+br.join(" ")+"]"}}J("<<");for(var ar=0;ar<ut.length;ar++)J("/"+ut[ar].key+" "+ut[ar].value);J(">>"),Ze.data.length!==0&&(J("stream"),J(Me(Ze.data)),J("endstream"))},Ca=p.__private__.putPage=function(b){var R=b.number,G=b.data,ne=b.objId,ue=b.contentsObjId;ni(ne,!0),J("<</Type /Page"),J("/Parent "+b.rootDictionaryObjId+" 0 R"),J("/Resources "+b.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(z(b.mediaBox.bottomLeftX))+" "+parseFloat(z(b.mediaBox.bottomLeftY))+" "+z(b.mediaBox.topRightX)+" "+z(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&J("/CropBox ["+z(b.cropBox.bottomLeftX)+" "+z(b.cropBox.bottomLeftY)+" "+z(b.cropBox.topRightX)+" "+z(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&J("/BleedBox ["+z(b.bleedBox.bottomLeftX)+" "+z(b.bleedBox.bottomLeftY)+" "+z(b.bleedBox.topRightX)+" "+z(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&J("/TrimBox ["+z(b.trimBox.bottomLeftX)+" "+z(b.trimBox.bottomLeftY)+" "+z(b.trimBox.topRightX)+" "+z(b.trimBox.topRightY)+"]"),b.artBox!==null&&J("/ArtBox ["+z(b.artBox.bottomLeftX)+" "+z(b.artBox.bottomLeftY)+" "+z(b.artBox.topRightX)+" "+z(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&J("/UserUnit "+b.userUnit),Bt.publish("putPage",{objId:ne,pageContext:ft[R],pageNumber:R,page:G}),J("/Contents "+ue+" 0 R"),J(">>"),J("endobj");var Se=G.join(`
`);return X===P&&(Se+=`
Q`),ni(ue,!0),fn({data:Se,filters:Tn(),objectId:ue}),J("endobj"),ne},Jn=p.__private__.putPages=function(){var b,R,G=[];for(b=1;b<=er;b++)ft[b].objId=ei(),ft[b].contentsObjId=ei();for(b=1;b<=er;b++)G.push(Ca({number:b,data:he[b],objId:ft[b].objId,contentsObjId:ft[b].contentsObjId,mediaBox:ft[b].mediaBox,cropBox:ft[b].cropBox,bleedBox:ft[b].bleedBox,trimBox:ft[b].trimBox,artBox:ft[b].artBox,userUnit:ft[b].userUnit,rootDictionaryObjId:_o,resourceDictionaryObjId:Nn}));ni(_o,!0),J("<</Type /Pages");var ne="/Kids [";for(R=0;R<er;R++)ne+=G[R]+" 0 R ";J(ne+"]"),J("/Count "+er),J(">>"),J("endobj"),Bt.publish("postPutPages")},Xa=function(b){Bt.publish("putFont",{font:b,out:J,newObject:yr,putStream:fn}),b.isAlreadyPutted!==!0&&(b.objectNumber=yr(),J("<<"),J("/Type /Font"),J("/BaseFont /"+vc(b.postScriptName)),J("/Subtype /Type1"),typeof b.encoding=="string"&&J("/Encoding /"+b.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Zl=function(b){b.objectNumber=yr();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[z(b.x),z(b.y),z(b.x+b.width),z(b.y+b.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var G=b.pages[1].join(`
`);fn({data:G,additionalKeyValues:R,objectId:b.objectNumber}),J("endobj")},Gl=function(b,R){R||(R=21);var G=yr(),ne=function(Pe,Me){var Ze,ut=[],pt=1/(Me-1);for(Ze=0;Ze<1;Ze+=pt)ut.push(Ze);if(ut.push(1),Pe[0].offset!=0){var Wt={offset:0,color:Pe[0].color};Pe.unshift(Wt)}if(Pe[Pe.length-1].offset!=1){var br={offset:1,color:Pe[Pe.length-1].color};Pe.push(br)}for(var Ir="",ar=0,Mr=0;Mr<ut.length;Mr++){for(Ze=ut[Mr];Ze>Pe[ar+1].offset;)ar++;var Wr=Pe[ar].offset,si=(Ze-Wr)/(Pe[ar+1].offset-Wr),pn=Pe[ar].color,zi=Pe[ar+1].color;Ir+=B(Math.round((1-si)*pn[0]+si*zi[0]).toString(16))+B(Math.round((1-si)*pn[1]+si*zi[1]).toString(16))+B(Math.round((1-si)*pn[2]+si*zi[2]).toString(16))}return Ir.trim()}(b.colors,R),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+R+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fn({data:ne,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),J("endobj"),b.objectNumber=yr(),J("<< /ShadingType "+b.type),J("/ColorSpace /DeviceRGB");var Se="/Coords ["+z(parseFloat(b.coords[0]))+" "+z(parseFloat(b.coords[1]))+" ";b.type===2?Se+=z(parseFloat(b.coords[2]))+" "+z(parseFloat(b.coords[3])):Se+=z(parseFloat(b.coords[2]))+" "+z(parseFloat(b.coords[3]))+" "+z(parseFloat(b.coords[4]))+" "+z(parseFloat(b.coords[5])),J(Se+="]"),b.matrix&&J("/Matrix ["+b.matrix.toString()+"]"),J("/Function "+G+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Hl=function(b,R){var G=ei(),ne=yr();R.push({resourcesOid:G,objectOid:ne}),b.objectNumber=ne;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+b.boundingBox.map(z).join(" ")+"]"}),ue.push({key:"XStep",value:z(b.xStep)}),ue.push({key:"YStep",value:z(b.yStep)}),ue.push({key:"Resources",value:G+" 0 R"}),b.matrix&&ue.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),fn({data:b.stream,additionalKeyValues:ue,objectId:b.objectNumber}),J("endobj")},tO=function(b){for(var R in b.objectNumber=yr(),J("<<"),b)switch(R){case"opacity":J("/ca "+_(b[R]));break;case"stroke-opacity":J("/CA "+_(b[R]))}J(">>"),J("endobj")},fh=function(b){ni(b.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in J("/Font <<"),Ge)Ge.hasOwnProperty(R)&&(f===!1||f===!0&&g.hasOwnProperty(R))&&J("/"+R+" "+Ge[R].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(ot).length>0){for(var R in J("/Shading <<"),ot)ot.hasOwnProperty(R)&&ot[R]instanceof fl&&ot[R].objectNumber>=0&&J("/"+R+" "+ot[R].objectNumber+" 0 R");Bt.publish("putShadingPatternDict"),J(">>")}}(),function(R){if(Object.keys(ot).length>0){for(var G in J("/Pattern <<"),ot)ot.hasOwnProperty(G)&&ot[G]instanceof p.TilingPattern&&ot[G].objectNumber>=0&&ot[G].objectNumber<R&&J("/"+G+" "+ot[G].objectNumber+" 0 R");Bt.publish("putTilingPatternDict"),J(">>")}}(b.objectOid),function(){if(Object.keys(yt).length>0){var R;for(R in J("/ExtGState <<"),yt)yt.hasOwnProperty(R)&&yt[R].objectNumber>=0&&J("/"+R+" "+yt[R].objectNumber+" 0 R");Bt.publish("putGStateDict"),J(">>")}}(),function(){for(var R in J("/XObject <<"),Oi)Oi.hasOwnProperty(R)&&Oi[R].objectNumber>=0&&J("/"+R+" "+Oi[R].objectNumber+" 0 R");Bt.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},vf=function(b){bt[b.fontName]=bt[b.fontName]||{},bt[b.fontName][b.fontStyle]=b.id},Sf=function(b,R,G,ne,ue){var Se={id:"F"+(Object.keys(Ge).length+1).toString(10),postScriptName:b,fontName:R,fontStyle:G,encoding:ne,isStandardFont:ue||!1,metadata:{}};return Bt.publish("addFont",{font:Se,instance:this}),Ge[Se.id]=Se,vf(Se),Se.id},dn=p.__private__.pdfEscape=p.pdfEscape=function(b,R){return function(G,ne){var ue,Se,Pe,Me,Ze,ut,pt,Wt,br;if(Pe=(ne=ne||{}).sourceEncoding||"Unicode",Ze=ne.outputEncoding,(ne.autoencode||Ze)&&Ge[tt].metadata&&Ge[tt].metadata[Pe]&&Ge[tt].metadata[Pe].encoding&&(Me=Ge[tt].metadata[Pe].encoding,!Ze&&Ge[tt].encoding&&(Ze=Ge[tt].encoding),!Ze&&Me.codePages&&(Ze=Me.codePages[0]),typeof Ze=="string"&&(Ze=Me[Ze]),Ze)){for(pt=!1,ut=[],ue=0,Se=G.length;ue<Se;ue++)(Wt=Ze[G.charCodeAt(ue)])?ut.push(String.fromCharCode(Wt)):ut.push(G[ue]),ut[ue].charCodeAt(0)>>8&&(pt=!0);G=ut.join("")}for(ue=G.length;pt===void 0&&ue!==0;)G.charCodeAt(ue-1)>>8&&(pt=!0),ue--;if(!pt)return G;for(ut=ne.noBOM?[]:[254,255],ue=0,Se=G.length;ue<Se;ue++){if((br=(Wt=G.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+G+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ut.push(br),ut.push(Wt-(br<<8))}return String.fromCharCode.apply(void 0,ut)}(b,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dh=p.__private__.beginPage=function(b){he[++er]=[],ft[er]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},kf(er),Oe(he[Y])},_f=function(b,R){var G,ne,ue;switch(t=R||t,typeof b=="string"&&(G=S(b.toLowerCase()),Array.isArray(G)&&(ne=G[0],ue=G[1])),Array.isArray(b)&&(ne=b[0]*ct,ue=b[1]*ct),isNaN(ne)&&(ne=n[0],ue=n[1]),(ne>14400||ue>14400)&&(ir.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ne=Math.min(14400,ne),ue=Math.min(14400,ue)),n=[ne,ue],t.substr(0,1)){case"l":ue>ne&&(n=[ue,ne]);break;case"p":ne>ue&&(n=[ue,ne])}dh(n),hO(bh),J(Jl),xh!==0&&J(xh+" J"),wh!==0&&J(wh+" j"),Bt.publish("addPage",{pageNumber:er})},ph=function(b){b>0&&b<=er&&(he.splice(b,1),ft.splice(b,1),er--,Y>er&&(Y=er),this.setPage(Y))},kf=function(b){b>0&&b<=er&&(Y=b)},$f=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return he.length-1},Pf=function(b,R,G){var ne,ue=void 0;return G=G||{},b=b!==void 0?b:Ge[tt].fontName,R=R!==void 0?R:Ge[tt].fontStyle,ne=b.toLowerCase(),bt[ne]!==void 0&&bt[ne][R]!==void 0?ue=bt[ne][R]:bt[b]!==void 0&&bt[b][R]!==void 0?ue=bt[b][R]:G.disableWarning===!1&&ir.warn("Unable to look up font label for font '"+b+"', '"+R+"'. Refer to getFontList() for available fonts."),ue||G.noFallback||(ue=bt.times[R])==null&&(ue=bt.times.normal),ue},Kl=p.__private__.putInfo=function(){var b=yr(),R=function(ne){return ne};for(var G in h!==null&&(R=Nr.encryptor(b,0)),J("<<"),J("/Producer ("+dn(R("jsPDF "+Ke.version))+")"),_t)_t.hasOwnProperty(G)&&_t[G]&&J("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+dn(R(_t[G]))+")");J("/CreationDate ("+dn(R(L))+")"),J(">>"),J("endobj")},rO=p.__private__.putCatalog=function(b){var R=(b=b||{}).rootDictionaryObjId||_o;switch(yr(),J("<<"),J("/Type /Catalog"),J("/Pages "+R+" 0 R"),Je||(Je="fullwidth"),Je){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+Je;G.substr(G.length-1)==="%"&&(Je=parseInt(Je)/100),typeof Je=="number"&&J("/OpenAction [3 0 R /XYZ null null "+_(Je)+"]")}switch(Ot||(Ot="continuous"),Ot){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}it&&J("/PageMode /"+it),Bt.publish("putCatalog"),J(">>"),J("endobj")},qr=p.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ee+1)),J("/Root "+ee+" 0 R"),J("/Info "+(ee-1)+" 0 R"),h!==null&&J("/Encrypt "+Nr.oid+" 0 R"),J("/ID [ <"+K+"> <"+K+"> ]"),J(">>")},jf=p.__private__.putHeader=function(){J("%PDF-"+m),J("%ºß¬à")},Qf=p.__private__.putXRef=function(){var b="0000000000";J("xref"),J("0 "+(ee+1)),J("0000000000 65535 f ");for(var R=1;R<=ee;R++)typeof le[R]=="function"?J((b+le[R]()).slice(-10)+" 00000 n "):le[R]!==void 0?J((b+le[R]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},qs=p.__private__.buildDocument=function(){var b;ee=0,me=0,be=[],le=[],_e=[],_o=ei(),Nn=ei(),Oe(be),Bt.publish("buildDocument"),jf(),Jn(),function(){Bt.publish("putAdditionalObjects");for(var G=0;G<_e.length;G++){var ne=_e[G];ni(ne.objId,!0),J(ne.content),J("endobj")}Bt.publish("postPutAdditionalObjects")}(),b=[],function(){for(var G in Ge)Ge.hasOwnProperty(G)&&(f===!1||f===!0&&g.hasOwnProperty(G))&&Xa(Ge[G])}(),function(){var G;for(G in yt)yt.hasOwnProperty(G)&&tO(yt[G])}(),function(){for(var G in Oi)Oi.hasOwnProperty(G)&&Zl(Oi[G])}(),function(G){var ne;for(ne in ot)ot.hasOwnProperty(ne)&&(ot[ne]instanceof fl?Gl(ot[ne]):ot[ne]instanceof Sc&&Hl(ot[ne],G))}(b),Bt.publish("putResources"),b.forEach(fh),fh({resourcesOid:Nn,objectOid:Number.MAX_SAFE_INTEGER}),Bt.publish("postPutResources"),h!==null&&(Nr.oid=yr(),J("<<"),J("/Filter /Standard"),J("/V "+Nr.v),J("/R "+Nr.r),J("/U <"+Nr.toHexString(Nr.U)+">"),J("/O <"+Nr.toHexString(Nr.O)+">"),J("/P "+Nr.P),J(">>"),J("endobj")),Kl(),rO();var R=me;return Qf(),qr(),J("startxref"),J(""+R),J("%%EOF"),Oe(he[Y]),be.join(`
`)},Ea=p.__private__.getBlob=function(b){return new Blob([vt(b)],{type:"application/pdf"})},Cn=p.output=p.__private__.output=(un=function(b,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",b){case void 0:return qs();case"save":p.save(R.filename);break;case"arraybuffer":return vt(qs());case"blob":return Ea(qs());case"bloburi":case"bloburl":if(ht.URL!==void 0&&typeof ht.URL.createObjectURL=="function")return ht.URL&&ht.URL.createObjectURL(Ea(qs()))||void 0;ir.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",ne=qs();try{G=iw(ne)}catch(Ir){G=iw(unescape(encodeURIComponent(ne)))}return"data:application/pdf;filename="+R.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(ue=R.pdfObjectUrl,Se="");var Pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",Me=ht.open();return Me!==null&&Me.document.write(Pe),Me}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',ut=ht.open();if(ut!==null){ut.document.write(Ze);var pt=this;ut.document.documentElement.querySelector("#pdfViewer").onload=function(){ut.document.title=R.filename,ut.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pt.output("bloburl"))}}return ut}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',br=ht.open();if(br!==null&&(br.document.write(Wt),br.document.title=R.filename),br||typeof safari=="undefined")return br;break;case"datauri":case"dataurl":return ht.document.location.href=this.output("datauristring",R);default:return null}},un.foo=function(){try{return un.apply(this,arguments)}catch(G){var b=G.stack||"";~b.indexOf(" at ")&&(b=b.split(" at ")[1]);var R="Error in function "+b.split(`
`)[0].split("<")[0]+": "+G.message;if(!ht.console)throw new Error(R);ht.console.error(R,G),ht.alert&&alert(R)}},un.foo.bar=un,un.foo),Ra=function(b){return Array.isArray(Aa)===!0&&Aa.indexOf(b)>-1};switch(i){case"pt":ct=1;break;case"mm":ct=72/25.4;break;case"cm":ct=72/2.54;break;case"in":ct=72;break;case"px":ct=Ra("px_scaling")==1?.75:96/72;break;case"pc":case"em":ct=12;break;case"ex":ct=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);ct=i}var Nr=null;ae(),te();var gh=p.__private__.getPageInfo=p.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[b].objId,pageNumber:b,pageContext:ft[b]}},iO=p.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in ft)if(ft[R].objId===b)break;return gh(R)},nO=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ft[Y].objId,pageNumber:Y,pageContext:ft[Y]}};p.addPage=function(){return _f.apply(this,arguments),this},p.setPage=function(){return kf.apply(this,arguments),Oe.call(this,he[Y]),this},p.insertPage=function(b){return this.addPage(),this.movePage(Y,b),this},p.movePage=function(b,R){var G,ne;if(b>R){G=he[b],ne=ft[b];for(var ue=b;ue>R;ue--)he[ue]=he[ue-1],ft[ue]=ft[ue-1];he[R]=G,ft[R]=ne,this.setPage(R)}else if(b<R){G=he[b],ne=ft[b];for(var Se=b;Se<R;Se++)he[Se]=he[Se+1],ft[Se]=ft[Se+1];he[R]=G,ft[R]=ne,this.setPage(R)}return this},p.deletePage=function(){return ph.apply(this,arguments),this},p.__private__.text=p.text=function(b,R,G,ne,ue){var Se,Pe,Me,Ze,ut,pt,Wt,br,Ir,ar=(ne=ne||{}).scope||this;if(typeof b=="number"&&typeof R=="number"&&(typeof G=="string"||Array.isArray(G))){var Mr=G;G=R,R=b,b=Mr}if(arguments[3]instanceof at==0?(Me=arguments[4],Ze=arguments[5],Gt(Wt=arguments[3])==="object"&&Wt!==null||(typeof Me=="string"&&(Ze=Me,Me=null),typeof Wt=="string"&&(Ze=Wt,Wt=null),typeof Wt=="number"&&(Me=Wt,Wt=null),ne={flags:Wt,angle:Me,align:Ze})):(Q("The transform parameter of text() with a Matrix value"),Ir=ue),isNaN(R)||isNaN(G)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return ar;var Wr,si="",pn=typeof ne.lineHeightFactor=="number"?ne.lineHeightFactor:La,zi=ar.internal.scaleFactor;function Uf(Mt){return Mt=Mt.split("	").join(Array(ne.TabLen||9).join(" ")),dn(Mt,Wt)}function ic(Mt){for(var tr,Tr=Mt.concat(),Fr=[],Fs=Tr.length;Fs--;)typeof(tr=Tr.shift())=="string"?Fr.push(tr):Array.isArray(Mt)&&(tr.length===1||tr[1]===void 0&&tr[2]===void 0)?Fr.push(tr[0]):Fr.push([tr[0],tr[1],tr[2]]);return Fr}function Da(Mt,tr){var Tr;if(typeof Mt=="string")Tr=tr(Mt)[0];else if(Array.isArray(Mt)){for(var Fr,Fs,Ch=Mt.concat(),oc=[],qf=Ch.length;qf--;)typeof(Fr=Ch.shift())=="string"?oc.push(tr(Fr)[0]):Array.isArray(Fr)&&typeof Fr[0]=="string"&&(Fs=tr(Fr[0],Fr[1],Fr[2]),oc.push([Fs[0],Fs[1],Fs[2]]));Tr=oc}return Tr}var Po=!1,Ba=!0;if(typeof b=="string")Po=!0;else if(Array.isArray(b)){var Ma=b.concat();Pe=[];for(var Fa,mi=Ma.length;mi--;)(typeof(Fa=Ma.shift())!="string"||Array.isArray(Fa)&&typeof Fa[0]!="string")&&(Ba=!1);Po=Ba}if(Po===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var Va=Ne/ar.internal.scaleFactor,Za=Va*(pn-1);switch(ne.baseline){case"bottom":G-=Za;break;case"top":G+=Va-Za;break;case"hanging":G+=Va-2*Za;break;case"middle":G+=Va/2-Za}if((pt=ne.maxWidth||0)>0&&(typeof b=="string"?b=ar.splitTextToSize(b,pt):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(Mt,tr){return Mt.concat(ar.splitTextToSize(tr,pt))},[]))),Se={text:b,x:R,y:G,options:ne,mutex:{pdfEscape:dn,activeFontKey:tt,fonts:Ge,activeFontSize:Ne}},Bt.publish("preProcessText",Se),b=Se.text,Me=(ne=Se.options).angle,Ir instanceof at==0&&Me&&typeof Me=="number"){Me*=Math.PI/180,ne.rotationDirection===0&&(Me=-Me),X===P&&(Me=-Me);var _h=Math.cos(Me),kh=Math.sin(Me);Ir=new at(_h,kh,-kh,_h,0,0)}else Me&&Me instanceof at&&(Ir=Me);X!==P||Ir||(Ir=zs),(ut=ne.charSpace||tc)!==void 0&&(si+=z(A(ut))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(br=ne.horizontalScale)!==void 0&&(si+=z(100*br)+` Tz
`),ne.lang;var xr=-1,Bs=ne.renderingMode!==void 0?ne.renderingMode:ne.stroke,nc=ar.internal.getCurrentPageInfo().pageContext;switch(Bs){case 0:case!1:case"fill":xr=0;break;case 1:case!0:case"stroke":xr=1;break;case 2:case"fillThenStroke":xr=2;break;case 3:case"invisible":xr=3;break;case 4:case"fillAndAddForClipping":xr=4;break;case 5:case"strokeAndAddPathForClipping":xr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":xr=6;break;case 7:case"addToPathForClipping":xr=7}var Lf=nc.usedRenderingMode!==void 0?nc.usedRenderingMode:-1;xr!==-1?si+=xr+` Tr
`:Lf!==-1&&(si+=`0 Tr
`),xr!==-1&&(nc.usedRenderingMode=xr),Ze=ne.align||"left";var gn,Ga=Ne*pn,$h=ar.internal.pageSize.getWidth(),Ph=Ge[tt];ut=ne.charSpace||tc,pt=ne.maxWidth||0,Wt=Object.assign({autoencode:!0,noBOM:!0},ne.flags);var jo=[],Ha=function(Mt){return ar.getStringUnitWidth(Mt,{font:Ph,charSpace:ut,fontSize:Ne,doKerning:!1})*Ne/zi};if(Object.prototype.toString.call(b)==="[object Array]"){var Fi;Pe=ic(b),Ze!=="left"&&(gn=Pe.map(Ha));var Vi,Qo=0;if(Ze==="right"){R-=gn[0],b=[],mi=Pe.length;for(var Ms=0;Ms<mi;Ms++)Ms===0?(Vi=Is(R),Fi=Ws(G)):(Vi=A(Qo-gn[Ms]),Fi=-Ga),b.push([Pe[Ms],Vi,Fi]),Qo=gn[Ms]}else if(Ze==="center"){R-=gn[0]/2,b=[],mi=Pe.length;for(var No=0;No<mi;No++)No===0?(Vi=Is(R),Fi=Ws(G)):(Vi=A((Qo-gn[No])/2),Fi=-Ga),b.push([Pe[No],Vi,Fi]),Qo=gn[No]}else if(Ze==="left"){b=[],mi=Pe.length;for(var jh=0;jh<mi;jh++)b.push(Pe[jh])}else if(Ze==="justify"&&Ph.encoding==="Identity-H"){b=[],mi=Pe.length,pt=pt!==0?pt:$h;for(var sc=0,Ar=0;Ar<mi;Ar++)if(Fi=Ar===0?Ws(G):-Ga,Vi=Ar===0?Is(R):sc,Ar<mi-1){var zf=A((pt-gn[Ar])/(Pe[Ar].split(" ").length-1)),ts=Pe[Ar].split(" ");b.push([ts[0]+" ",Vi,Fi]),sc=0;for(var rs=1;rs<ts.length;rs++){var Qh=(Ha(ts[rs-1]+" "+ts[rs])-Ha(ts[rs]))*zi+zf;rs==ts.length-1?b.push([ts[rs],Qh,0]):b.push([ts[rs]+" ",Qh,0]),sc-=Qh}}else b.push([Pe[Ar],Vi,Fi]);b.push(["",sc,0])}else{if(Ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],mi=Pe.length,pt=pt!==0?pt:$h,Ar=0;Ar<mi;Ar++){Fi=Ar===0?Ws(G):-Ga,Vi=Ar===0?Is(R):0;var Nh=Pe[Ar].split(" ").length-1,Ah=Nh>0?(pt-gn[Ar])/Nh:0;Ar<mi-1?jo.push(z(A(Ah))):jo.push(0),b.push([Pe[Ar],Vi,Fi])}}}(typeof ne.R2L=="boolean"?ne.R2L:St)===!0&&(b=Da(b,function(Mt,tr,Tr){return[Mt.split("").reverse().join(""),tr,Tr]})),Se={text:b,x:R,y:G,options:ne,mutex:{pdfEscape:dn,activeFontKey:tt,fonts:Ge,activeFontSize:Ne}},Bt.publish("postProcessText",Se),b=Se.text,Wr=Se.mutex.isHex||!1;var Th=Ge[tt].encoding;Th!=="WinAnsiEncoding"&&Th!=="StandardEncoding"||(b=Da(b,function(Mt,tr,Tr){return[Uf(Mt),tr,Tr]})),Pe=ic(b),b=[];for(var Ao,To,Co,Ka=Array.isArray(Pe[0])?1:0,Xo="",Ja=function(Mt,tr,Tr){var Fr="";return Tr instanceof at?(Tr=typeof ne.angle=="number"?Ls(Tr,new at(1,0,0,1,Mt,tr)):Ls(new at(1,0,0,1,Mt,tr),Tr),X===P&&(Tr=Ls(new at(1,0,0,-1,0,0),Tr)),Fr=Tr.join(" ")+` Tm
`):Fr=z(Mt)+" "+z(tr)+` Td
`,Fr},On=0;On<Pe.length;On++){switch(Xo="",Ka){case 1:Co=(Wr?"<":"(")+Pe[On][0]+(Wr?">":")"),Ao=parseFloat(Pe[On][1]),To=parseFloat(Pe[On][2]);break;case 0:Co=(Wr?"<":"(")+Pe[On]+(Wr?">":")"),Ao=Is(R),To=Ws(G)}jo!==void 0&&jo[On]!==void 0&&(Xo=jo[On]+` Tw
`),On===0?b.push(Xo+Ja(Ao,To,Ir)+Co):Ka===0?b.push(Xo+Co):Ka===1&&b.push(Xo+Ja(Ao,To,Ir)+Co)}b=Ka===0?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var is=`BT
/`;return is+=tt+" "+Ne+` Tf
`,is+=z(Ne*pn)+` TL
`,is+=za+`
`,is+=si,is+=b,J(is+="ET"),g[tt]=!0,ar};var sO=p.__private__.clip=p.clip=function(b){return J(b==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return sO("evenodd")},p.__private__.discardPath=p.discardPath=function(){return J("n"),this};var es=p.__private__.isValidStyle=function(b){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(R=!0),R};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(b){return es(b)&&(c=b),this};var Nf=p.__private__.getStyle=p.getStyle=function(b){var R=c;switch(b){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=b}return R},Af=p.close=function(){return J("h"),this};p.stroke=function(){return J("S"),this},p.fill=function(b){return ko("f",b),this},p.fillEvenOdd=function(b){return ko("f*",b),this},p.fillStroke=function(b){return ko("B",b),this},p.fillStrokeEvenOdd=function(b){return ko("B*",b),this};var ko=function(b,R){Gt(R)==="object"?aO(R,b):J(b)},Oh=function(b){b===null||X===P&&b===void 0||(b=Nf(b),J(b))};function oO(b,R,G,ne,ue){var Se=new Sc(R||this.boundingBox,G||this.xStep,ne||this.yStep,this.gState,ue||this.matrix);Se.stream=this.stream;var Pe=b+"$$"+this.cloneIndex+++"$$";return hn(Pe,Se),Se}var aO=function(b,R){var G=Tt[b.key],ne=ot[G];if(ne instanceof fl)J("q"),J(lO(R)),ne.gState&&p.setGState(ne.gState),J(b.matrix.toString()+" cm"),J("/"+G+" sh"),J("Q");else if(ne instanceof Sc){var ue=new at(1,0,0,-1,0,Ya());b.matrix&&(ue=ue.multiply(b.matrix||zs),G=oO.call(ne,b.key,b.boundingBox,b.xStep,b.yStep,ue).id),J("q"),J("/Pattern cs"),J("/"+G+" scn"),ne.gState&&p.setGState(ne.gState),J(R),J("Q")}},lO=function(b){switch(b){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},mh=p.moveTo=function(b,R){return J(z(A(b))+" "+z(j(R))+" m"),this},Ua=p.lineTo=function(b,R){return J(z(A(b))+" "+z(j(R))+" l"),this},$o=p.curveTo=function(b,R,G,ne,ue,Se){return J([z(A(b)),z(j(R)),z(A(G)),z(j(ne)),z(A(ue)),z(j(Se)),"c"].join(" ")),this};p.__private__.line=p.line=function(b,R,G,ne,ue){if(isNaN(b)||isNaN(R)||isNaN(G)||isNaN(ne)||!es(ue))throw new Error("Invalid arguments passed to jsPDF.line");return X===C?this.lines([[G-b,ne-R]],b,R,[1,1],ue||"S"):this.lines([[G-b,ne-R]],b,R,[1,1]).stroke()},p.__private__.lines=p.lines=function(b,R,G,ne,ue,Se){var Pe,Me,Ze,ut,pt,Wt,br,Ir,ar,Mr,Wr,si;if(typeof b=="number"&&(si=G,G=R,R=b,b=si),ne=ne||[1,1],Se=Se||!1,isNaN(R)||isNaN(G)||!Array.isArray(b)||!Array.isArray(ne)||!es(ue)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(mh(R,G),Pe=ne[0],Me=ne[1],ut=b.length,Mr=R,Wr=G,Ze=0;Ze<ut;Ze++)(pt=b[Ze]).length===2?(Mr=pt[0]*Pe+Mr,Wr=pt[1]*Me+Wr,Ua(Mr,Wr)):(Wt=pt[0]*Pe+Mr,br=pt[1]*Me+Wr,Ir=pt[2]*Pe+Mr,ar=pt[3]*Me+Wr,Mr=pt[4]*Pe+Mr,Wr=pt[5]*Me+Wr,$o(Wt,br,Ir,ar,Mr,Wr));return Se&&Af(),Oh(ue),this},p.path=function(b){for(var R=0;R<b.length;R++){var G=b[R],ne=G.c;switch(G.op){case"m":mh(ne[0],ne[1]);break;case"l":Ua(ne[0],ne[1]);break;case"c":$o.apply(this,ne);break;case"h":Af()}}return this},p.__private__.rect=p.rect=function(b,R,G,ne,ue){if(isNaN(b)||isNaN(R)||isNaN(G)||isNaN(ne)||!es(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return X===C&&(ne=-ne),J([z(A(b)),z(j(R)),z(A(G)),z(A(ne)),"re"].join(" ")),Oh(ue),this},p.__private__.triangle=p.triangle=function(b,R,G,ne,ue,Se,Pe){if(isNaN(b)||isNaN(R)||isNaN(G)||isNaN(ne)||isNaN(ue)||isNaN(Se)||!es(Pe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-b,ne-R],[ue-G,Se-ne],[b-ue,R-Se]],b,R,[1,1],Pe,!0),this},p.__private__.roundedRect=p.roundedRect=function(b,R,G,ne,ue,Se,Pe){if(isNaN(b)||isNaN(R)||isNaN(G)||isNaN(ne)||isNaN(ue)||isNaN(Se)||!es(Pe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Me=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*G),Se=Math.min(Se,.5*ne),this.lines([[G-2*ue,0],[ue*Me,0,ue,Se-Se*Me,ue,Se],[0,ne-2*Se],[0,Se*Me,-ue*Me,Se,-ue,Se],[2*ue-G,0],[-ue*Me,0,-ue,-Se*Me,-ue,-Se],[0,2*Se-ne],[0,-Se*Me,ue*Me,-Se,ue,-Se]],b+ue,R,[1,1],Pe,!0),this},p.__private__.ellipse=p.ellipse=function(b,R,G,ne,ue){if(isNaN(b)||isNaN(R)||isNaN(G)||isNaN(ne)||!es(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*G,Pe=4/3*(Math.SQRT2-1)*ne;return mh(b+G,R),$o(b+G,R-Pe,b+Se,R-ne,b,R-ne),$o(b-Se,R-ne,b-G,R-Pe,b-G,R),$o(b-G,R+Pe,b-Se,R+ne,b,R+ne),$o(b+Se,R+ne,b+G,R+Pe,b+G,R),Oh(ue),this},p.__private__.circle=p.circle=function(b,R,G,ne){if(isNaN(b)||isNaN(R)||isNaN(G)||!es(ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,R,G,G,ne)},p.setFont=function(b,R,G){return G&&(R=k(R,G)),tt=Pf(b,R,{disableWarning:!1}),this};var cO=p.__private__.getFont=p.getFont=function(){return Ge[Pf.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var b,R,G={};for(b in bt)if(bt.hasOwnProperty(b))for(R in G[b]=[],bt[b])bt[b].hasOwnProperty(R)&&G[b].push(R);return G},p.addFont=function(b,R,G,ne,ue){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(G=k(G,ne)),Sf.call(this,b,R,G,ue=ue||"Identity-H")};var La,bh=r.lineWidth||.200025,dt=p.__private__.getLineWidth=p.getLineWidth=function(){return bh},hO=p.__private__.setLineWidth=p.setLineWidth=function(b){return bh=b,J(z(A(b))+" w"),this};p.__private__.setLineDash=Ke.API.setLineDash=Ke.API.setLineDashPattern=function(b,R){if(b=b||[],R=R||0,isNaN(R)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(G){return z(A(G))}).join(" "),R=z(A(R)),J("["+b+"] "+R+" d"),this};var uO=p.__private__.getLineHeight=p.getLineHeight=function(){return Ne*La};p.__private__.getLineHeight=p.getLineHeight=function(){return Ne*La};var fO=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(La=b),this},dO=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return La};fO(r.lineHeight);var Is=p.__private__.getHorizontalCoordinate=function(b){return A(b)},Ws=p.__private__.getVerticalCoordinate=function(b){return X===P?b:ft[Y].mediaBox.topRightY-ft[Y].mediaBox.bottomLeftY-A(b)},pO=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(b){return z(Is(b))},gO=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(b){return z(Ws(b))},Jl=r.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Kn(Jl)},p.__private__.setStrokeColor=p.setDrawColor=function(b,R,G,ne){return Jl=An({ch1:b,ch2:R,ch3:G,ch4:ne,pdfColorType:"draw",precision:2}),J(Jl),this};var yh=r.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Kn(yh)},p.__private__.setFillColor=p.setFillColor=function(b,R,G,ne){return yh=An({ch1:b,ch2:R,ch3:G,ch4:ne,pdfColorType:"fill",precision:2}),J(yh),this};var za=r.textColor||"0 g",ec=p.__private__.getTextColor=p.getTextColor=function(){return Kn(za)};p.__private__.setTextColor=p.setTextColor=function(b,R,G,ne){return za=An({ch1:b,ch2:R,ch3:G,ch4:ne,pdfColorType:"text",precision:3}),this};var tc=r.charSpace,OO=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(tc||0)};p.__private__.setCharSpace=p.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return tc=b,this};var xh=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(b){var R=p.CapJoinStyles[b];if(R===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xh=R,J(R+" J"),this};var wh=0;p.__private__.setLineJoin=p.setLineJoin=function(b){var R=p.CapJoinStyles[b];if(R===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wh=R,J(R+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(z(A(b))+" M"),this},p.GState=Kp,p.setGState=function(b){(b=typeof b=="string"?yt[Qr[b]]:qa(null,b)).equals(Br)||(J("/"+b.id+" gs"),Br=b)};var qa=function(b,R){if(!b||!Qr[b]){var G=!1;for(var ne in yt)if(yt.hasOwnProperty(ne)&&yt[ne].equals(R)){G=!0;break}if(G)R=yt[ne];else{var ue="GS"+(Object.keys(yt).length+1).toString(10);yt[ue]=R,R.id=ue}return b&&(Qr[b]=R.id),Bt.publish("addGState",R),R}};p.addGState=function(b,R){return qa(b,R),this},p.saveGraphicsState=function(){return J("q"),Jt.push({key:tt,size:Ne,color:za}),this},p.restoreGraphicsState=function(){J("Q");var b=Jt.pop();return tt=b.key,Ne=b.size,za=b.color,Br=null,this},p.setCurrentTransformationMatrix=function(b){return J(b.toString()+" cm"),this},p.comment=function(b){return J("#"+b),this};var Ia=function(b,R){var G=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(Se){isNaN(Se)||(G=parseFloat(Se))}});var ne=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ne},set:function(Se){isNaN(Se)||(ne=parseFloat(Se))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(Se){ue=Se.toString()}}),this},vh=function(b,R,G,ne){Ia.call(this,b,R),this.type="rect";var ue=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Pe){isNaN(Pe)||(ue=parseFloat(Pe))}});var Se=ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Pe){isNaN(Pe)||(Se=parseFloat(Pe))}}),this},rc=function(){this.page=er,this.currentPage=Y,this.pages=he.slice(0),this.pagesContext=ft.slice(0),this.x=rt,this.y=or,this.matrix=It,this.width=Tf(Y),this.height=Ys(Y),this.outputDestination=pe,this.id="",this.objectNumber=-1};rc.prototype.restore=function(){er=this.page,Y=this.currentPage,ft=this.pagesContext,he=this.pages,rt=this.x,or=this.y,It=this.matrix,Cf(Y,this.width),Ds(Y,this.height),pe=this.outputDestination};var Sh=function(b,R,G,ne,ue){Hn.push(new rc),er=Y=0,he=[],rt=b,or=R,It=ue,dh([G,ne])};for(var Wa in p.beginFormObject=function(b,R,G,ne,ue){return Sh(b,R,G,ne,ue),this},p.endFormObject=function(b){return function(R){if(Us[R])Hn.pop().restore();else{var G=new rc,ne="Xo"+(Object.keys(Oi).length+1).toString(10);G.id=ne,Us[R]=ne,Oi[ne]=G,Bt.publish("addFormObject",G),Hn.pop().restore()}}(b),this},p.doFormObject=function(b,R){var G=Oi[Us[b]];return J("q"),J(R.toString()+" cm"),J("/"+G.id+" Do"),J("Q"),this},p.getFormObject=function(b){var R=Oi[Us[b]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},p.save=function(b,R){return b=b||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(hl(Ea(qs()),b),typeof hl.unload=="function"&&ht.setTimeout&&setTimeout(hl.unload,911),this):new Promise(function(G,ne){try{var ue=hl(Ea(qs()),b);typeof hl.unload=="function"&&ht.setTimeout&&setTimeout(hl.unload,911),G(ue)}catch(Se){ne(Se.message)}})},Ke.API)Ke.API.hasOwnProperty(Wa)&&(Wa==="events"&&Ke.API.events.length?function(b,R){var G,ne,ue;for(ue=R.length-1;ue!==-1;ue--)G=R[ue][0],ne=R[ue][1],b.subscribe.apply(b,[G].concat(typeof ne=="function"?[ne]:ne))}(Bt,Ke.API.events):p[Wa]=Ke.API[Wa]);function Tf(b){return ft[b].mediaBox.topRightX-ft[b].mediaBox.bottomLeftX}function Cf(b,R){ft[b].mediaBox.topRightX=R+ft[b].mediaBox.bottomLeftX}function Ys(b){return ft[b].mediaBox.topRightY-ft[b].mediaBox.bottomLeftY}function Ds(b,R){ft[b].mediaBox.topRightY=R+ft[b].mediaBox.bottomLeftY}var Xf=p.getPageWidth=function(b){return Tf(b=b||Y)/ct},Ef=p.setPageWidth=function(b,R){Cf(b,R*ct)},Ya=p.getPageHeight=function(b){return Ys(b=b||Y)/ct},Rf=p.setPageHeight=function(b,R){Ds(b,R*ct)};return p.internal={pdfEscape:dn,getStyle:Nf,getFont:cO,getFontSize:We,getCharSpace:OO,getTextColor:ec,getLineHeight:uO,getLineHeightFactor:dO,getLineWidth:dt,write:At,getHorizontalCoordinate:Is,getVerticalCoordinate:Ws,getCoordinateString:pO,getVerticalCoordinateString:gO,collections:{},newObject:yr,newAdditionalObject:Ta,newObjectDeferred:ei,newObjectDeferredBegin:ni,getFilters:Tn,putStream:fn,events:Bt,scaleFactor:ct,pageSize:{getWidth:function(){return Xf(Y)},setWidth:function(b){Ef(Y,b)},getHeight:function(){return Ya(Y)},setHeight:function(b){Rf(Y,b)}},encryptionOptions:h,encryption:Nr,getEncryptor:function(b){return h!==null?Nr.encryptor(b,0):function(R){return R}},output:Cn,getNumberOfPages:$f,pages:he,out:J,f2:_,f3:w,getPageInfo:gh,getPageInfoByObjId:iO,getCurrentPageInfo:nO,getPDFVersion:y,Point:Ia,Rectangle:vh,Matrix:at,hasHotfix:Ra},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Xf(Y)},set:function(b){Ef(Y,b)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ya(Y)},set:function(b){Rf(Y,b)},enumerable:!0,configurable:!0}),function(b){for(var R=0,G=st.length;R<G;R++){var ne=Sf.call(this,b[R][0],b[R][1],b[R][2],st[R][3],!0);f===!1&&(g[ne]=!0);var ue=b[R][0].split("-");vf({id:ne,fontName:ue[0],fontStyle:ue[1]||""})}Bt.publish("addFonts",{fonts:Ge,dictionary:bt})}.call(p,st),tt="F1",_f(n,t),Bt.publish("initialized"),p}wc.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},wc.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wc.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},wc.prototype.processOwnerPassword=function(r,e){return Dm(Ym(e).substr(0,5),r)},wc.prototype.encryptor=function(r,e){var t=Ym(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return Dm(t,i)}},Kp.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Gt(r)!==Gt(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;i++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Ke.API={events:[]},Ke.version="3.0.3";var Sr=Ke.API,Ib=1,Fl=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gc=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},gt=function(r){return r.toFixed(2)},Bo=function(r){return r.toFixed(5)};Sr.__acroform__={};var Mi=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},aw=function(r){return r*Ib},gs=function(r){var e=new ck,t=Be.internal.getHeight(r)||0,i=Be.internal.getWidth(r)||0;return e.BBox=[0,0,Number(gt(i)),Number(gt(t))],e},q8=Sr.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},I8=Sr.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},W8=Sr.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Rr=Sr.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return W8(r,e-1)},Ur=Sr.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return q8(r,e-1)},Lr=Sr.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return I8(r,e-1)},Y8=Sr.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,n=r[0],s=r[1],o=r[2],a=r[3],l={};return l.lowerLeft_X=t(n)||0,l.lowerLeft_Y=i(s+a)||0,l.upperRight_X=t(n+o)||0,l.upperRight_Y=i(s)||0,[Number(gt(l.lowerLeft_X)),Number(gt(l.lowerLeft_Y)),Number(gt(l.upperRight_X)),Number(gt(l.upperRight_Y))]},D8=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,i=Bm(r,t),n=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+n+" "+gt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=gs(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},Bm=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,i={text:"",fontSize:""},n=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");n=r.multiline?n.map(function(_){return _.split(`
`)}):n.map(function(_){return[_]});var s=t,o=Be.internal.getHeight(r)||0;o=o<0?-o:o;var a=Be.internal.getWidth(r)||0;a=a<0?-a:a;var l=function(_,w,A){if(_+1<n.length){var j=w+" "+n[_+1][0];return bd(j,r,A).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,h,f=bd("3",r,s).height,g=r.multiline?o-s:(o-f)/2,p=g+=2,m=0,y=0,v=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+bd(e,r,s=12).width+", FieldWidth:"+a+`
`;break}for(var S="",C=0,P=0;P<n.length;P++)if(n.hasOwnProperty(P)){var X=!1;if(n[P].length!==1&&v!==n[P].length-1){if((f+2)*(C+2)+2>o)continue e;S+=n[P][v],X=!0,y=P,P--}else{S=(S+=n[P][v]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var T=parseInt(P),E=l(T,S,s),k=P>=n.length-1;if(E&&!k){S+=" ",v=0;continue}if(E||k){if(k)y=T;else if(r.multiline&&(f+2)*(C+2)+2>o)continue e}else{if(!r.multiline||(f+2)*(C+2)+2>o)continue e;y=T}}for(var z="",Q=m;Q<=y;Q++){var W=n[Q];if(r.multiline){if(Q===y){z+=W[v]+" ",v=(v+1)%W.length;continue}if(Q===m){z+=W[W.length-1]+" ";continue}}z+=W[0]+" "}switch(z=z.substr(z.length-1)==" "?z.substr(0,z.length-1):z,h=bd(z,r,s).width,r.textAlign){case"right":c=a-h-2;break;case"center":c=(a-h)/2;break;default:c=2}e+=gt(c)+" "+gt(p)+` Td
`,e+="("+Fl(z)+`) Tj
`,e+=-gt(c)+` 0 Td
`,p=-(s+2),h=0,m=X?y:y+1,C++,S=""}break}return i.text=e,i.fontSize=s,i},bd=function(r,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),n=e.scope.getStringUnitWidth(r,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:n}},B8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},M8=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},F8=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Vn.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(B8)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ib=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new hk,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in i)if(i.hasOwnProperty(n)){var s=i[n];s.objId=void 0,s.hasAnnotation&&M8(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(i,n){var s=!i;for(var o in i||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var a=i[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Y8(a.Rect,n)),n.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Be.createDefaultAppearanceStream(a),Gt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=D8(a);l.push({key:"AP",value:"<</N "+h+">>"}),n.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var f="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var p=a.appearanceStreamContent[g];if(f+="/"+g+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var m=p[o];typeof m=="function"&&(m=m.call(n,a)),f+="/"+o+" "+m+" ",n.internal.acroformPlugin.xForms.indexOf(m)>=0||n.internal.acroformPlugin.xForms.push(m)}}else typeof(m=p)=="function"&&(m=m.call(n,a)),f+="/"+o+" "+m,n.internal.acroformPlugin.xForms.indexOf(m)>=0||n.internal.acroformPlugin.xForms.push(m);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}n.internal.putStream({additionalKeyValues:l,objectId:a.objId}),n.internal.out("endobj")}s&&function(y,v){for(var S in y)if(y.hasOwnProperty(S)){var C=S,P=y[S];v.internal.newObjectDeferredBegin(P.objId,!0),Gt(P)==="object"&&typeof P.putStream=="function"&&P.putStream(),delete y[C]}}(n.internal.acroformPlugin.xForms,n)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},lk=Sr.__acroform__.arrayToPdfArray=function(r,e,t){var i=function(o){return o};if(Array.isArray(r)){for(var n="[",s=0;s<r.length;s++)switch(s!==0&&(n+=" "),Gt(r[s])){case"boolean":case"number":case"object":n+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),n+="("+Fl(i(r[s].toString()))+")"):n+=r[s].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},w0=function(r,e,t){var i=function(n){return n};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+Fl(i(r))+")"},Ps=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ps.prototype.toString=function(){return this.objId+" 0 R"},Ps.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Ps.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],n=this[i];n&&(Array.isArray(n)?r.push({key:i,value:lk(n,this.objId,this.scope)}):n instanceof Ps?(n.scope=this.scope,r.push({key:i,value:n.objId+" 0 R"})):typeof n!="function"&&r.push({key:i,value:n}))}return r};var ck=function(){Ps.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Mi(ck,Ps);var hk=function(){Ps.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Fl(t(r))+")"}},set:function(t){r=t}})};Mi(hk,Ps);var Vn=function r(){Ps.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Rr(e,3)},set:function(S){S?this.F=Ur(e,3):this.F=Lr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');t=S}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(S){i=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(S){i[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(S){i[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(S){i[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(S){i[3]=S}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Jp)return;s="FieldObject"+r.FieldNum++}var S=function(C){return C};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Fl(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(S){a=S}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Ib:c},set:function(S){c=S}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Jp||this instanceof _l))return w0(f,this.objId,this.scope)},set:function(S){S=S.toString(),f=S}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ri==0?w0(g,this.objId,this.scope):g},set:function(S){S=S.toString(),g=this instanceof ri==0?S.substr(0,1)==="("?gc(S.substr(1,S.length-2)):gc(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ri==1?gc(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof ri==1?"/"+S:S}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ri==0?w0(p,this.objId,this.scope):p},set:function(S){S=S.toString(),p=this instanceof ri==0?S.substr(0,1)==="("?gc(S.substr(1,S.length-2)):gc(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ri==1?gc(p.substr(1,p.length-1)):p},set:function(S){S=S.toString(),p=this instanceof ri==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(S){S=!!S,y=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(S){m=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,1)},set:function(S){S?this.Ff=Ur(this.Ff,1):this.Ff=Lr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,2)},set:function(S){S?this.Ff=Ur(this.Ff,2):this.Ff=Lr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,3)},set:function(S){S?this.Ff=Ur(this.Ff,3):this.Ff=Lr(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');v=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(v){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Mi(Vn,Ps);var Nc=function(){Vn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lk(e,this.objId,this.scope)},set:function(t){var i,n;n=[],typeof(i=t)=="string"&&(n=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(i,/\((.*?)\)/g)),e=n}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,18)},set:function(t){t?this.Ff=Ur(this.Ff,18):this.Ff=Lr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ur(this.Ff,19):this.Ff=Lr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,20)},set:function(t){t?(this.Ff=Ur(this.Ff,20),e.sort()):this.Ff=Lr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,22)},set:function(t){t?this.Ff=Ur(this.Ff,22):this.Ff=Lr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,23)},set:function(t){t?this.Ff=Ur(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,27)},set:function(t){t?this.Ff=Ur(this.Ff,27):this.Ff=Lr(this.Ff,27)}}),this.hasAppearanceStream=!1};Mi(Nc,Vn);var Ac=function(){Nc.call(this),this.fontName="helvetica",this.combo=!1};Mi(Ac,Nc);var Tc=function(){Ac.call(this),this.combo=!0};Mi(Tc,Ac);var cp=function(){Tc.call(this),this.edit=!0};Mi(cp,Tc);var ri=function(){Vn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,15)},set:function(t){t?this.Ff=Ur(this.Ff,15):this.Ff=Lr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,16)},set:function(t){t?this.Ff=Ur(this.Ff,16):this.Ff=Lr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,17)},set:function(t){t?this.Ff=Ur(this.Ff,17):this.Ff=Lr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,26)},set:function(t){t?this.Ff=Ur(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,n=[];for(i in n.push("<<"),e)n.push("/"+i+" ("+Fl(t(e[i]))+")");return n.push(">>"),n.join(`
`)}},set:function(t){Gt(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Mi(ri,Vn);var hp=function(){ri.call(this),this.pushButton=!0};Mi(hp,ri);var Cc=function(){ri.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Mi(Cc,ri);var Jp=function(){var r,e;Vn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(n){e=n}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+Fl(n(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(n){Gt(n)==="object"&&(i=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(n){typeof n=="string"&&(i.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Be.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Mi(Jp,Vn),Cc.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Cc.prototype.createOption=function(r){var e=new Jp;return e.Parent=this,e.optionName=r,this.Kids.push(e),V8.call(this.scope,e),e};var up=function(){ri.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Be.CheckBox.createAppearanceStream()};Mi(up,ri);var _l=function(){Vn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,13)},set:function(e){e?this.Ff=Ur(this.Ff,13):this.Ff=Lr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,21)},set:function(e){e?this.Ff=Ur(this.Ff,21):this.Ff=Lr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,23)},set:function(e){e?this.Ff=Ur(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,24)},set:function(e){e?this.Ff=Ur(this.Ff,24):this.Ff=Lr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,25)},set:function(e){e?this.Ff=Ur(this.Ff,25):this.Ff=Lr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,26)},set:function(e){e?this.Ff=Ur(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Mi(_l,Vn);var fp=function(){_l.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,14)},set:function(r){r?this.Ff=Ur(this.Ff,14):this.Ff=Lr(this.Ff,14)}}),this.password=!0};Mi(fp,_l);var Be={CheckBox:{createAppearanceStream:function(){return{N:{On:Be.CheckBox.YesNormal},D:{On:Be.CheckBox.YesPushDown,Off:Be.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=gs(r);e.scope=r.scope;var t=[],i=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=Bm(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+gt(Be.internal.getWidth(r))+" "+gt(Be.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+gt(s.fontSize)+" Tf "+n),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=gs(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),n=[],s=Be.internal.getHeight(r),o=Be.internal.getWidth(r),a=Bm(r,r.caption);return n.push("1 g"),n.push("0 0 "+gt(o)+" "+gt(s)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+gt(o-1)+" "+gt(s-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+t+" "+gt(a.fontSize)+" Tf "+i),n.push(a.text),n.push("ET"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=gs(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+gt(Be.internal.getWidth(r))+" "+gt(Be.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Be.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Be.RadioButton.Circle.YesNormal,e.D[r]=Be.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=gs(r);e.scope=r.scope;var t=[],i=Be.internal.getWidth(r)<=Be.internal.getHeight(r)?Be.internal.getWidth(r)/4:Be.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var n=Be.internal.Bezier_C,s=Number((i*n).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Bo(Be.internal.getWidth(r)/2)+" "+Bo(Be.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=gs(r);e.scope=r.scope;var t=[],i=Be.internal.getWidth(r)<=Be.internal.getHeight(r)?Be.internal.getWidth(r)/4:Be.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),s=Number((n*Be.internal.Bezier_C).toFixed(5)),o=Number((i*Be.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Bo(Be.internal.getWidth(r)/2)+" "+Bo(Be.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Bo(Be.internal.getWidth(r)/2)+" "+Bo(Be.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=gs(r);e.scope=r.scope;var t=[],i=Be.internal.getWidth(r)<=Be.internal.getHeight(r)?Be.internal.getWidth(r)/4:Be.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),s=Number((n*Be.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Bo(Be.internal.getWidth(r)/2)+" "+Bo(Be.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Be.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Be.RadioButton.Cross.YesNormal,e.D[r]=Be.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=gs(r);e.scope=r.scope;var t=[],i=Be.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+gt(Be.internal.getWidth(r)-2)+" "+gt(Be.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(gt(i.x1.x)+" "+gt(i.x1.y)+" m"),t.push(gt(i.x2.x)+" "+gt(i.x2.y)+" l"),t.push(gt(i.x4.x)+" "+gt(i.x4.y)+" m"),t.push(gt(i.x3.x)+" "+gt(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=gs(r);e.scope=r.scope;var t=Be.internal.calculateCross(r),i=[];return i.push("0.749023 g"),i.push("0 0 "+gt(Be.internal.getWidth(r))+" "+gt(Be.internal.getHeight(r))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+gt(Be.internal.getWidth(r)-2)+" "+gt(Be.internal.getHeight(r)-2)+" re"),i.push("W"),i.push("n"),i.push(gt(t.x1.x)+" "+gt(t.x1.y)+" m"),i.push(gt(t.x2.x)+" "+gt(t.x2.y)+" l"),i.push(gt(t.x4.x)+" "+gt(t.x4.y)+" m"),i.push(gt(t.x3.x)+" "+gt(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=gs(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+gt(Be.internal.getWidth(r))+" "+gt(Be.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Be.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Be.internal.getWidth(r),t=Be.internal.getHeight(r),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},Be.internal.getWidth=function(r){var e=0;return Gt(r)==="object"&&(e=aw(r.Rect[2])),e},Be.internal.getHeight=function(r){var e=0;return Gt(r)==="object"&&(e=aw(r.Rect[3])),e};var V8=Sr.addField=function(r){if(F8(this,r),!(r instanceof Vn))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Sr.AcroFormChoiceField=Nc,Sr.AcroFormListBox=Ac,Sr.AcroFormComboBox=Tc,Sr.AcroFormEditBox=cp,Sr.AcroFormButton=ri,Sr.AcroFormPushButton=hp,Sr.AcroFormRadioButton=Cc,Sr.AcroFormCheckBox=up,Sr.AcroFormTextField=_l,Sr.AcroFormPasswordField=fp,Sr.AcroFormAppearance=Be,Sr.AcroForm={ChoiceField:Nc,ListBox:Ac,ComboBox:Tc,EditBox:cp,Button:ri,PushButton:hp,RadioButton:Cc,CheckBox:up,TextField:_l,PasswordField:fp,Appearance:Be},Ke.AcroForm={ChoiceField:Nc,ListBox:Ac,ComboBox:Tc,EditBox:cp,Button:ri,PushButton:hp,RadioButton:Cc,CheckBox:up,TextField:_l,PasswordField:fp,Appearance:Be};function uk(r){return r.reduce(function(e,t,i){return e[t]=i,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(_,w){var A,j,L,K,re,te=t;if((w=w||t)==="RGBA"||_.data!==void 0&&_.data instanceof Uint8ClampedArray&&"height"in _&&"width"in _)return"RGBA";if(E(_))for(re in i)for(L=i[re],A=0;A<L.length;A+=1){for(K=!0,j=0;j<L[A].length;j+=1)if(L[A][j]!==void 0&&L[A][j]!==_[j]){K=!1;break}if(K===!0){te=re;break}}else for(re in i)for(L=i[re],A=0;A<L.length;A+=1){for(K=!0,j=0;j<L[A].length;j+=1)if(L[A][j]!==void 0&&L[A][j]!==_.charCodeAt(j)){K=!1;break}if(K===!0){te=re;break}}return te===t&&w!==t&&(te=w),te},s=function _(w){for(var A=this.internal.write,j=this.internal.putStream,L=(0,this.internal.getFilters)();L.indexOf("FlateEncode")!==-1;)L.splice(L.indexOf("FlateEncode"),1);w.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:w.width}),K.push({key:"Height",value:w.height}),w.colorSpace===S.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(w.palette.length/3-1)+" "+("sMask"in w&&w.sMask!==void 0?w.objectId+2:w.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+w.colorSpace}),w.colorSpace===S.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:w.bitsPerComponent}),"decodeParameters"in w&&w.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+w.decodeParameters+">>"}),"transparency"in w&&Array.isArray(w.transparency)&&w.transparency.length>0){for(var re="",te=0,oe=w.transparency.length;te<oe;te++)re+=w.transparency[te]+" "+w.transparency[te]+" ";K.push({key:"Mask",value:"["+re+"]"})}w.sMask!==void 0&&K.push({key:"SMask",value:w.objectId+1+" 0 R"});var ve=w.filter!==void 0?["/"+w.filter]:void 0;if(j({data:w.data,additionalKeyValues:K,alreadyAppliedFilters:ve,objectId:w.objectId}),A("endobj"),"sMask"in w&&w.sMask!==void 0){var ae,N=(ae=w.sMaskBitsPerComponent)!==null&&ae!==void 0?ae:w.bitsPerComponent,Y={width:w.width,height:w.height,colorSpace:"DeviceGray",bitsPerComponent:N,data:w.sMask};"filter"in w&&(Y.decodeParameters="/Predictor ".concat(w.predictor," /Colors 1 /BitsPerComponent ").concat(N," /Columns ").concat(w.width),Y.filter=w.filter),_.call(this,Y)}if(w.colorSpace===S.INDEXED){var F=this.internal.newObject();j({data:z(new Uint8Array(w.palette)),objectId:F}),A("endobj")}},o=function(){var _=this.internal.collections[e+"images"];for(var w in _)s.call(this,_[w])},a=function(){var _,w=this.internal.collections[e+"images"],A=this.internal.write;for(var j in w)A("/I"+(_=w[j]).index,_.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var _=this.internal.collections[e+"images"];return l.call(this),_},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(_){return typeof r["process"+_.toUpperCase()]=="function"},g=function(_){return Gt(_)==="object"&&_.nodeType===1},p=function(_,w){if(_.nodeName==="IMG"&&_.hasAttribute("src")){var A=""+_.getAttribute("src");if(A.indexOf("data:image/")===0)return lp(unescape(A).split("base64,").pop());var j=r.loadFile(A,!0);if(j!==void 0)return j}if(_.nodeName==="CANVAS"){if(_.width===0||_.height===0)throw new Error("Given canvas must have data. Canvas width: "+_.width+", height: "+_.height);var L;switch(w){case"PNG":L="image/png";break;case"WEBP":L="image/webp";break;default:L="image/jpeg"}return lp(_.toDataURL(L,1).split("base64,").pop())}},m=function(_){var w=this.internal.collections[e+"images"];if(w){for(var A in w)if(_===w[A].alias)return w[A]}},y=function(_,w,A){return _||w||(_=-96,w=-96),_<0&&(_=-1*A.width*72/_/this.internal.scaleFactor),w<0&&(w=-1*A.height*72/w/this.internal.scaleFactor),_===0&&(_=w*A.width/A.height),w===0&&(w=_*A.height/A.width),[_,w]},v=function(_,w,A,j,L,K){var re=y.call(this,A,j,L),te=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,ve=c.call(this);if(A=re[0],j=re[1],ve[L.index]=L,K){K*=Math.PI/180;var ae=Math.cos(K),N=Math.sin(K),Y=function(B){return B.toFixed(4)},F=[Y(ae),Y(N),Y(-1*N),Y(ae),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,te(_),oe(w+j),"cm"].join(" ")),this.internal.write(F.join(" ")),this.internal.write([te(A),"0","0",te(j),"0","0","cm"].join(" "))):this.internal.write([te(A),"0","0",te(j),te(_),oe(w+j),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+L.index+" Do"),this.internal.write("Q")},S=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=r.__addimage__.sHashCode=function(_){var w,A,j=0;if(typeof _=="string")for(A=_.length,w=0;w<A;w++)j=(j<<5)-j+_.charCodeAt(w),j|=0;else if(E(_))for(A=_.byteLength/2,w=0;w<A;w++)j=(j<<5)-j+_[w],j|=0;return j},X=r.__addimage__.validateStringAsBase64=function(_){(_=_||"").toString().trim();var w=!0;return _.length===0&&(w=!1),_.length%4!=0&&(w=!1),/^[A-Za-z0-9+/]+$/.test(_.substr(0,_.length-2))===!1&&(w=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(_.substr(-2))===!1&&(w=!1),w},T=r.__addimage__.extractImageFromDataUrl=function(_){if(_==null||!(_=_.trim()).startsWith("data:"))return null;var w=_.indexOf(",");return w<0?null:_.substring(0,w).trim().endsWith("base64")?_.substring(w+1):null};r.__addimage__.isArrayBuffer=function(_){return _ instanceof ArrayBuffer};var E=r.__addimage__.isArrayBufferView=function(_){return _ instanceof Int8Array||_ instanceof Uint8Array||_ instanceof Uint8ClampedArray||_ instanceof Int16Array||_ instanceof Uint16Array||_ instanceof Int32Array||_ instanceof Uint32Array||_ instanceof Float32Array||_ instanceof Float64Array},k=r.__addimage__.binaryStringToUint8Array=function(_){for(var w=_.length,A=new Uint8Array(w),j=0;j<w;j++)A[j]=_.charCodeAt(j);return A},z=r.__addimage__.arrayBufferToBinaryString=function(_){for(var w="",A=E(_)?_:new Uint8Array(_),j=0;j<A.length;j+=8192)w+=String.fromCharCode.apply(null,A.subarray(j,j+8192));return w};r.addImage=function(){var _,w,A,j,L,K,re,te,oe;if(typeof arguments[1]=="number"?(w=t,A=arguments[1],j=arguments[2],L=arguments[3],K=arguments[4],re=arguments[5],te=arguments[6],oe=arguments[7]):(w=arguments[1],A=arguments[2],j=arguments[3],L=arguments[4],K=arguments[5],re=arguments[6],te=arguments[7],oe=arguments[8]),Gt(_=arguments[0])==="object"&&!g(_)&&"imageData"in _){var ve=_;_=ve.imageData,w=ve.format||w||t,A=ve.x||A||0,j=ve.y||j||0,L=ve.w||ve.width||L,K=ve.h||ve.height||K,re=ve.alias||re,te=ve.compression||te,oe=ve.rotation||ve.angle||oe}var ae=this.internal.getFilters();if(te===void 0&&ae.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(A)||isNaN(j))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var N=Q.call(this,_,w,re,te);return v.call(this,A,j,L,K,N,oe),this};var Q=function(_,w,A,j){var L,K,re;if(typeof _=="string"&&n(_)===t){_=unescape(_);var te=W(_,!1);(te!==""||(te=r.loadFile(_,!0))!==void 0)&&(_=te)}if(g(_)&&(_=p(_,w)),w=n(_,w),!f(w))throw new Error("addImage does not support files of type '"+w+"', please ensure that a plugin for '"+w+"' support is added.");if(((re=A)==null||re.length===0)&&(A=function(oe){return typeof oe=="string"||E(oe)?P(oe):E(oe.data)?P(oe.data):null}(_)),(L=m.call(this,A))||(_ instanceof Uint8Array||w==="RGBA"||(K=_,_=k(_)),L=this["process"+w.toUpperCase()](_,h.call(this),A,function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in r.image_compression?oe:C.NONE}(j),K)),!L)throw new Error("An unknown error occurred whilst processing the image.");return L},W=r.__addimage__.convertBase64ToBinaryString=function(_,w){w=typeof w!="boolean"||w;var A,j="";if(typeof _=="string"){var L;A=(L=T(_))!==null&&L!==void 0?L:_;try{j=lp(A)}catch(K){if(w)throw X(A)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return j};r.getImageProperties=function(_){var w,A,j="";if(g(_)&&(_=p(_)),typeof _=="string"&&n(_)===t&&((j=W(_,!1))===""&&(j=r.loadFile(_)||""),_=j),A=n(_),!f(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(_ instanceof Uint8Array||(_=k(_)),!(w=this["process"+A.toUpperCase()](_)))throw new Error("An unknown error occurred whilst processing the image");return w.fileType=A,w}})(Ke.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Ke.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var i,n,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,h=!1,f=0;f<c.length&&!h;f++)switch((i=c[f]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){i=c[g];var p=this.internal.pdfEscape,m=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(y.objId),C=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(n="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+p(S(i.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(S(C))+") >>",y.content=s;var P=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+o(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+P,i.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(y.objId,"0 R",v.objId,"0 R");break;case"freetext":n="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var X=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+p(m(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+X+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var T=this.annotations._nameMap[i.options.name];i.options.pageNumber=T.page,i.options.top=T.y}else i.options.top||(i.options.top=0);if(n="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+p(m(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var E=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+E+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},r.link=function(t,i,n,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(i),w:l(t+n),h:c(i+s)},options:o,type:"link"})},r.textWithLink=function(t,i,n,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var h=this.splitTextToSize(t,a).length;o=Math.ceil(c*h)}else a=l,o=c;return this.text(t,i,n,s),n+=.2*c,s.align==="center"&&(i-=l/2),s.align==="right"&&(i-=l),this.link(i,n-c,a,o,s),l},r.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}}(Ke.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},o=r.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},a=r.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length<=2},l=r.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&n.indexOf(y.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=1};var c=r.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=3};var h=r.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length==4},f=r.__arabicParser__.resolveLigatures=function(y){var v=0,S=t,C="",P=0;for(v=0;v<y.length;v+=1)S[y.charCodeAt(v)]!==void 0?(P++,typeof(S=S[y.charCodeAt(v)])=="number"&&(C+=String.fromCharCode(S),S=t,P=0),v===y.length-1&&(S=t,C+=y.charAt(v-(P-1)),v-=P-1,P=0)):(S=t,C+=y.charAt(v-P),v-=P,P=0);return C};r.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&i[y.charCodeAt(0)]!==void 0};var g=r.__arabicParser__.getCorrectForm=function(y,v,S){return o(y)?s(y)===!1?-1:!c(y)||!o(v)&&!o(S)||!o(S)&&a(v)||a(y)&&!o(v)||a(y)&&l(v)||a(y)&&a(v)?0:h(y)&&o(v)&&!a(v)&&o(S)&&c(S)?3:a(y)||!o(S)?1:2:-1},p=function(y){var v=0,S=0,C=0,P="",X="",T="",E=(y=y||"").split("\\s+"),k=[];for(v=0;v<E.length;v+=1){for(k.push(""),S=0;S<E[v].length;S+=1)P=E[v][S],X=E[v][S-1],T=E[v][S+1],o(P)?(C=g(P,X,T),k[v]+=C!==-1?String.fromCharCode(e[P.charCodeAt(0)][C]):P):k[v]+=P;k[v]=f(k[v])}return k.join(" ")},m=r.__arabicParser__.processArabic=r.processArabic=function(){var y,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(v)){var C=0;for(S=[],C=0;C<v.length;C+=1)Array.isArray(v[C])?S.push([p(v[C][0]),v[C][1],v[C][2]]):S.push([p(v[C])]);y=S}else y=p(v);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};r.events.push(["preProcessText",m])}(Ke.API),Ke.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var n;if((t=t||"2d")!=="2d")return null;for(n in i)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=i[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ke.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(y){m=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},r.getTextDimensions=function(l,c){i.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,p=0,m=0,y=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var S=c.maxWidth;S>0?typeof l=="string"?l=this.splitTextToSize(l,S):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(P,X){return P.concat(v.splitTextToSize(X,S))},[])):l=Array.isArray(l)?l:[l];for(var C=0;C<l.length;C++)p<(y=this.getStringUnitWidth(l[C],{font:f})*h)&&(p=y);return p!==0&&(m=l.length),{w:p/=g,h:Math.max((m*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},r.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=r.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};r.table=function(l,c,h,f,g){if(i.call(this),!h)throw new Error("No data for PDF table.");var p,m,y,v,S=[],C=[],P=[],X={},T={},E=[],k=[],z=(g=g||{}).autoSize||!1,Q=g.printHeaders!==!1,W=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,_=g.margins||Object.assign({width:this.getPageWidth()},e),w=typeof g.padding=="number"?g.padding:3,A=g.headerBackgroundColor||"#c8c8c8",j=g.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=Q,this.internal.__cell__.margins=_,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=w,this.internal.__cell__.headerBackgroundColor=A,this.internal.__cell__.headerTextColor=j,this.setFontSize(W),f==null)C=S=Object.keys(h[0]),P=S.map(function(){return"left"});else if(Array.isArray(f)&&Gt(f[0])==="object")for(S=f.map(function(ve){return ve.name}),C=f.map(function(ve){return ve.prompt||ve.name||""}),P=f.map(function(ve){return ve.align||"left"}),p=0;p<f.length;p+=1)T[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(C=S=f,P=S.map(function(){return"left"}));if(z||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<S.length;p+=1){for(X[v=S[p]]=h.map(function(ve){return ve[v]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(C[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=X[v],this.setFont(void 0,"normal"),y=0;y<m.length;y+=1)E.push(this.getTextDimensions(m[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[v]=Math.max.apply(null,E)+w+w,E=[]}if(Q){var L={};for(p=0;p<S.length;p+=1)L[S[p]]={},L[S[p]].text=C[p],L[S[p]].align=P[p];var K=a.call(this,L,T);k=S.map(function(ve){return new s(l,c,T[ve],K,L[ve].text,void 0,L[ve].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var re=f.reduce(function(ve,ae){return ve[ae.name]=ae.align,ve},{});for(p=0;p<h.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:h[p]},this);var te=a.call(this,h[p],T);for(y=0;y<S.length;y+=1){var oe=h[p][S[y]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:y,data:oe},this),o.call(this,new s(l,c,T[S[y]],te,oe,p+2,re[S[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(p){var m=l[p];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/g+h+h},this).reduce(function(p,m){return Math.max(p,m)},0)};r.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},r.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(m)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),t=!1}}(Ke.API);var fk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},dk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Mm=uk(dk),pk=[100,200,300,400,500,600,700,800,900],Z8=uk(pk);function v0(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return fk[s=s||"normal"]?s:"normal"}(r.style),i=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(r.weight),n=function(s){return typeof Mm[s=s||"normal"]=="number"?s:"normal"}(r.stretch);return{family:e,style:t,weight:i,stretch:n,src:r.src||[],ref:r.ref||{name:e,style:[n,t,i].join(" ")}}}function lw(r,e,t,i){var n;for(n=t;n>=0&&n<e.length;n+=i)if(r[e[n]])return r[e[n]];for(n=t;n>=0&&n<e.length;n-=i)if(r[e[n]])return r[e[n]]}var G8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},cw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hw(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function uw(r){return r.trimLeft()}function H8(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function K8(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var yd,fw,dw,Oc,xd,pw,gw,Ow,S0=["times"];function mw(r,e,t,i,n){var s=4,o=yw;switch(n){case Ke.API.image_compression.FAST:s=1,o=bw;break;case Ke.API.image_compression.MEDIUM:s=6,o=xw;break;case Ke.API.image_compression.SLOW:s=9,o=ww}r=function(l,c,h,f){for(var g,p=l.length/c,m=new Uint8Array(l.length+p),y=[J8,bw,yw,xw,ww],v=0;v<p;v+=1){var S=v*c,C=l.subarray(S,S+c);if(f)m.set(f(C,h,g),S+v);else{for(var P=y.length,X=[],T=0;T<P;T+=1)X[T]=y[T](C,h,g);var E=tE(X.concat());m.set(X[E],S+v)}g=C}return m}(r,e,Math.ceil(t*i/8),o);var a=Cm(r,{level:s});return Ke.API.__addimage__.arrayBufferToBinaryString(a)}function J8(r){var e=Array.apply([],r);return e.unshift(0),e}function bw(r,e){var t=r.length,i=[];i[0]=1;for(var n=0;n<t;n+=1){var s=r[n-e]||0;i[n+1]=r[n]-s+256&255}return i}function yw(r,e,t){var i=r.length,n=[];n[0]=2;for(var s=0;s<i;s+=1){var o=t&&t[s]||0;n[s+1]=r[s]-o+256&255}return n}function xw(r,e,t){var i=r.length,n=[];n[0]=3;for(var s=0;s<i;s+=1){var o=r[s-e]||0,a=t&&t[s]||0;n[s+1]=r[s]+256-(o+a>>>1)&255}return n}function ww(r,e,t){var i=r.length,n=[];n[0]=4;for(var s=0;s<i;s+=1){var o=eE(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);n[s+1]=r[s]-o+256&255}return n}function eE(r,e,t){if(r===e&&e===t)return r;var i=Math.abs(e-t),n=Math.abs(r-t),s=Math.abs(r+e-t-t);return i<=n&&i<=s?r:n<=s?e:t}function tE(r){var e=r.map(function(t){return t.reduce(function(i,n){return i+Math.abs(n)},0)});return e.indexOf(Math.min.apply(null,e))}function _0(r,e,t){var i=e*t,n=Math.floor(i/8),s=16-(i-8*n+t),o=(1<<t)-1;return gk(r,n)>>s&o}function vw(r,e,t,i){var n=t*i,s=Math.floor(n/8),o=16-(n-8*s+i),a=(1<<i)-1,l=(e&a)<<o;(function(c,h,f){if(h+1<c.byteLength)c.setUint16(h,f,!1);else{var g=f>>8&255;c.setUint8(h,g)}})(r,s,gk(r,s)&~(a<<o)&65535|l)}function gk(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function rE(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,i=r[e++]|r[e++]<<8,n=r[e++],s=n>>7,o=1<<1+(7&n);r[e++],r[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,h=[],f=0,g=null,p=0,m=null;for(this.width=t,this.height=i;c&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,m=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((_=r[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=r[e++];f=r[e++]|r[e++]<<8,g=r[e++],1&y||(g=null),p=y>>2&7,e++;break;case 254:for(;;){if(!((_=r[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var v=r[e++]|r[e++]<<8,S=r[e++]|r[e++]<<8,C=r[e++]|r[e++]<<8,P=r[e++]|r[e++]<<8,X=r[e++],T=X>>6&1,E=1<<1+(7&X),k=a,z=l,Q=!1;X>>7&&(Q=!0,k=e,z=E,e+=3*E);var W=e;for(e++;;){var _;if(!((_=r[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}h.push({x:v,y:S,width:C,height:P,has_local_palette:Q,palette_offset:k,palette_size:z,data_offset:W,data_length:e-W,transparent_index:g,interlaced:!!T,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return m},this.frameInfo=function(w){if(w<0||w>=h.length)throw new Error("Frame index out of range.");return h[w]},this.decodeAndBlitFrameBGRA=function(w,A){var j=this.frameInfo(w),L=j.width*j.height,K=new Uint8Array(L);Sw(r,j.data_offset,K,L);var re=j.palette_offset,te=j.transparent_index;te===null&&(te=256);var oe=j.width,ve=t-oe,ae=oe,N=4*(j.y*t+j.x),Y=4*((j.y+j.height)*t+j.x),F=N,B=4*ve;j.interlaced===!0&&(B+=4*t*7);for(var ee=8,le=0,be=K.length;le<be;++le){var me=K[le];if(ae===0&&(ae=oe,(F+=B)>=Y&&(B=4*ve+4*t*(ee-1),F=N+(oe+ve)*(ee<<1),ee>>=1)),me===te)F+=4;else{var _e=r[re+3*me],he=r[re+3*me+1],je=r[re+3*me+2];A[F++]=je,A[F++]=he,A[F++]=_e,A[F++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(w,A){var j=this.frameInfo(w),L=j.width*j.height,K=new Uint8Array(L);Sw(r,j.data_offset,K,L);var re=j.palette_offset,te=j.transparent_index;te===null&&(te=256);var oe=j.width,ve=t-oe,ae=oe,N=4*(j.y*t+j.x),Y=4*((j.y+j.height)*t+j.x),F=N,B=4*ve;j.interlaced===!0&&(B+=4*t*7);for(var ee=8,le=0,be=K.length;le<be;++le){var me=K[le];if(ae===0&&(ae=oe,(F+=B)>=Y&&(B=4*ve+4*t*(ee-1),F=N+(oe+ve)*(ee<<1),ee>>=1)),me===te)F+=4;else{var _e=r[re+3*me],he=r[re+3*me+1],je=r[re+3*me+2];A[F++]=_e,A[F++]=he,A[F++]=je,A[F++]=255}--ae}}}function Sw(r,e,t,i){for(var n=r[e++],s=1<<n,o=s+1,a=o+1,l=n+1,c=(1<<l)-1,h=0,f=0,g=0,p=r[e++],m=new Int32Array(4096),y=null;;){for(;h<16&&p!==0;)f|=r[e++]<<h,h+=8,p===1?p=r[e++]:--p;if(h<l)break;var v=f&c;if(f>>=l,h-=l,v!==s){if(v===o)break;for(var S=v<a?v:y,C=0,P=S;P>s;)P=m[P]>>8,++C;var X=P;if(g+C+(S!==v?1:0)>i)return void ir.log("Warning, gif stream longer than expected.");t[g++]=X;var T=g+=C;for(S!==v&&(t[g++]=X),P=S;C--;)P=m[P],t[--T]=255&P,P>>=8;y!==null&&a<4096&&(m[a++]=y<<8|X,a>=c+1&&l<12&&(++l,c=c<<1|1)),y=v}else a=o+1,c=(1<<(l=n+1))-1,y=null}return g!==i&&ir.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function k0(r){var e,t,i,n,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),f=new Array(65535),g=new Array(65535),p=new Array(64),m=new Array(64),y=[],v=0,S=7,C=new Array(64),P=new Array(64),X=new Array(64),T=new Array(256),E=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],w=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],L=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(N,Y){for(var F=0,B=0,ee=new Array,le=1;le<=16;le++){for(var be=1;be<=N[le];be++)ee[Y[B]]=[],ee[Y[B]][0]=F,ee[Y[B]][1]=le,B++,F++;F*=2}return ee}function re(N){for(var Y=N[0],F=N[1]-1;F>=0;)Y&1<<F&&(v|=1<<S),F--,--S<0&&(v==255?(te(255),te(0)):te(v),S=7,v=0)}function te(N){y.push(N)}function oe(N){te(N>>8&255),te(255&N)}function ve(N,Y,F,B,ee){for(var le,be=ee[0],me=ee[240],_e=function(Ne,Je){var We,St,it,qt,Ot,mt,Ht,_t,tt,ct,rt=0;for(tt=0;tt<8;++tt){We=Ne[rt],St=Ne[rt+1],it=Ne[rt+2],qt=Ne[rt+3],Ot=Ne[rt+4],mt=Ne[rt+5],Ht=Ne[rt+6];var or=We+(_t=Ne[rt+7]),It=We-_t,Ge=St+Ht,bt=St-Ht,Jt=it+mt,ot=it-mt,Tt=qt+Ot,yt=qt-Ot,Qr=or+Tt,Br=or-Tt,er=Ge+Jt,ft=Ge-Jt;Ne[rt]=Qr+er,Ne[rt+4]=Qr-er;var Bt=.707106781*(ft+Br);Ne[rt+2]=Br+Bt,Ne[rt+6]=Br-Bt;var Aa=.382683433*((Qr=yt+ot)-(ft=bt+It)),Oi=.5411961*Qr+Aa,Us=1.306562965*ft+Aa,Hn=.707106781*(er=ot+bt),at=It+Hn,Ls=It-Hn;Ne[rt+5]=Ls+Oi,Ne[rt+3]=Ls-Oi,Ne[rt+1]=at+Us,Ne[rt+7]=at-Us,rt+=8}for(rt=0,tt=0;tt<8;++tt){We=Ne[rt],St=Ne[rt+8],it=Ne[rt+16],qt=Ne[rt+24],Ot=Ne[rt+32],mt=Ne[rt+40],Ht=Ne[rt+48];var zs=We+(_t=Ne[rt+56]),hn=We-_t,un=St+Ht,yr=St-Ht,ei=it+mt,ni=it-mt,Ta=qt+Ot,_o=qt-Ot,Nn=zs+Ta,Kn=zs-Ta,An=un+ei,Tn=un-ei;Ne[rt]=Nn+An,Ne[rt+32]=Nn-An;var fn=.707106781*(Tn+Kn);Ne[rt+16]=Kn+fn,Ne[rt+48]=Kn-fn;var Ca=.382683433*((Nn=_o+ni)-(Tn=yr+hn)),Jn=.5411961*Nn+Ca,Xa=1.306562965*Tn+Ca,Zl=.707106781*(An=ni+yr),Gl=hn+Zl,Hl=hn-Zl;Ne[rt+40]=Hl+Jn,Ne[rt+24]=Hl-Jn,Ne[rt+8]=Gl+Xa,Ne[rt+56]=Gl-Xa,rt++}for(tt=0;tt<64;++tt)ct=Ne[tt]*Je[tt],p[tt]=ct>0?ct+.5|0:ct-.5|0;return p}(N,Y),he=0;he<64;++he)m[k[he]]=_e[he];var je=m[0]-F;F=m[0],je==0?re(B[0]):(re(B[g[le=32767+je]]),re(f[le]));for(var pe=63;pe>0&&m[pe]==0;)pe--;if(pe==0)return re(be),F;for(var Oe,J=1;J<=pe;){for(var At=J;m[J]==0&&J<=pe;)++J;var vt=J-At;if(vt>=16){Oe=vt>>4;for(var st=1;st<=Oe;++st)re(me);vt&=15}le=32767+m[J],re(ee[(vt<<4)+g[le]]),re(f[le]),J++}return pe!=63&&re(be),F}function ae(N){N=Math.min(Math.max(N,1),100),s!=N&&(function(Y){for(var F=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],B=0;B<64;B++){var ee=o((F[B]*Y+50)/100);ee=Math.min(Math.max(ee,1),255),a[k[B]]=ee}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var me=o((le[be]*Y+50)/100);me=Math.min(Math.max(me,1),255),l[k[be]]=me}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],he=0,je=0;je<8;je++)for(var pe=0;pe<8;pe++)c[he]=1/(a[k[he]]*_e[je]*_e[pe]*8),h[he]=1/(l[k[he]]*_e[je]*_e[pe]*8),he++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),s=N)}this.encode=function(N,Y){Y&&ae(Y),y=new Array,v=0,S=7,oe(65496),oe(65504),oe(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),oe(1),oe(1),te(0),te(0),function(){oe(65499),oe(132),te(0);for(var St=0;St<64;St++)te(a[St]);te(1);for(var it=0;it<64;it++)te(l[it])}(),function(St,it){oe(65472),oe(17),te(8),oe(it),oe(St),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(N.width,N.height),function(){oe(65476),oe(418),te(0);for(var St=0;St<16;St++)te(z[St+1]);for(var it=0;it<=11;it++)te(Q[it]);te(16);for(var qt=0;qt<16;qt++)te(W[qt+1]);for(var Ot=0;Ot<=161;Ot++)te(_[Ot]);te(1);for(var mt=0;mt<16;mt++)te(w[mt+1]);for(var Ht=0;Ht<=11;Ht++)te(A[Ht]);te(17);for(var _t=0;_t<16;_t++)te(j[_t+1]);for(var tt=0;tt<=161;tt++)te(L[tt])}(),oe(65498),oe(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var F=0,B=0,ee=0;v=0,S=7,this.encode.displayName="_encode_";for(var le,be,me,_e,he,je,pe,Oe,J,At=N.data,vt=N.width,st=N.height,Ne=4*vt,Je=0;Je<st;){for(le=0;le<Ne;){for(he=Ne*Je+le,pe=-1,Oe=0,J=0;J<64;J++)je=he+(Oe=J>>3)*Ne+(pe=4*(7&J)),Je+Oe>=st&&(je-=Ne*(Je+1+Oe-st)),le+pe>=Ne&&(je-=le+pe-Ne+4),be=At[je++],me=At[je++],_e=At[je++],C[J]=(E[be]+E[me+256|0]+E[_e+512|0]>>16)-128,P[J]=(E[be+768|0]+E[me+1024|0]+E[_e+1280|0]>>16)-128,X[J]=(E[be+1280|0]+E[me+1536|0]+E[_e+1792|0]>>16)-128;F=ve(C,c,F,e,i),B=ve(P,h,B,t,n),ee=ve(X,h,ee,t,n),le+=32}Je+=8}if(S>=0){var We=[];We[1]=S+1,We[0]=(1<<S+1)-1,re(We)}return oe(65497),new Uint8Array(y)},r=r||50,function(){for(var N=String.fromCharCode,Y=0;Y<256;Y++)T[Y]=N(Y)}(),e=K(z,Q),t=K(w,A),i=K(W,_),n=K(j,L),function(){for(var N=1,Y=2,F=1;F<=15;F++){for(var B=N;B<Y;B++)g[32767+B]=F,f[32767+B]=[],f[32767+B][1]=F,f[32767+B][0]=B;for(var ee=-(Y-1);ee<=-N;ee++)g[32767+ee]=F,f[32767+ee]=[],f[32767+ee][1]=F,f[32767+ee][0]=Y-1+ee;N<<=1,Y<<=1}}(),function(){for(var N=0;N<256;N++)E[N]=19595*N,E[N+256|0]=38470*N,E[N+512|0]=7471*N+32768,E[N+768|0]=-11059*N,E[N+1024|0]=-21709*N,E[N+1280|0]=32768*N+8421375,E[N+1536|0]=-27439*N,E[N+1792|0]=-5329*N}(),ae(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Un(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _w(r){function e(Q){if(!Q)throw Error("assert :P")}function t(Q,W,_){for(var w=0;4>w;w++)if(Q[W+w]!=_.charCodeAt(w))return!0;return!1}function i(Q,W,_,w,A){for(var j=0;j<A;j++)Q[W+j]=_[w+j]}function n(Q,W,_,w){for(var A=0;A<w;A++)Q[W+A]=_}function s(Q){return new Int32Array(Q)}function o(Q,W){for(var _=[],w=0;w<Q;w++)_.push(new W);return _}function a(Q,W){var _=[];return function w(A,j,L){for(var K=L[j],re=0;re<K&&(A.push(L.length>j+1?[]:new W),!(L.length<j+1));re++)w(A[re],j+1,L)}(_,0,Q),_}var l=function(){var Q=this;function W(d,O){for(var x=1<<O-1>>>0;d&x;)x>>>=1;return x?(d&x-1)+x:d}function _(d,O,x,$,U){e(!($%x));do d[O+($-=x)]=U;while(0<$)}function w(d,O,x,$,U){if(e(2328>=U),512>=U)var q=s(512);else if((q=s(U))==null)return 0;return function(I,D,M,V,se,ge){var Z,ce,fe=D,xe=1<<M,de=s(16),we=s(16);for(e(se!=0),e(V!=null),e(I!=null),e(0<M),ce=0;ce<se;++ce){if(15<V[ce])return 0;++de[V[ce]]}if(de[0]==se)return 0;for(we[1]=0,Z=1;15>Z;++Z){if(de[Z]>1<<Z)return 0;we[Z+1]=we[Z]+de[Z]}for(ce=0;ce<se;++ce)Z=V[ce],0<V[ce]&&(ge[we[Z]++]=ce);if(we[15]==1)return(V=new A).g=0,V.value=ge[0],_(I,fe,1,xe,V),xe;var ke,Qe=-1,$e=xe-1,He=0,De=1,Pt=1,Fe=1<<M;for(ce=0,Z=1,se=2;Z<=M;++Z,se<<=1){if(De+=Pt<<=1,0>(Pt-=de[Z]))return 0;for(;0<de[Z];--de[Z])(V=new A).g=Z,V.value=ge[ce++],_(I,fe+He,se,Fe,V),He=W(He,Z)}for(Z=M+1,se=2;15>=Z;++Z,se<<=1){if(De+=Pt<<=1,0>(Pt-=de[Z]))return 0;for(;0<de[Z];--de[Z]){if(V=new A,(He&$e)!=Qe){for(fe+=Fe,ke=1<<(Qe=Z)-M;15>Qe&&!(0>=(ke-=de[Qe]));)++Qe,ke<<=1;xe+=Fe=1<<(ke=Qe-M),I[D+(Qe=He&$e)].g=ke+M,I[D+Qe].value=fe-D-Qe}V.g=Z-M,V.value=ge[ce++],_(I,fe+(He>>M),se,Fe,V),He=W(He,Z)}}return De!=2*we[15]-1?0:xe}(d,O,x,$,U,q)}function A(){this.value=this.g=0}function j(){this.value=this.g=0}function L(){this.G=o(5,A),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ha,j)}function K(d,O,x,$){e(d!=null),e(O!=null),e(2147483648>$),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=O,d.pa=x,d.Jd=O,d.Yc=x+$,d.Zc=4<=$?x+$-4+1:x,be(d)}function re(d,O){for(var x=0;0<O--;)x|=_e(d,128)<<O;return x}function te(d,O){var x=re(d,O);return me(d)?-x:x}function oe(d,O,x,$){var U,q=0;for(e(d!=null),e(O!=null),e(4294967288>$),d.Sb=$,d.Ra=0,d.u=0,d.h=0,4<$&&($=4),U=0;U<$;++U)q+=O[x+U]<<8*U;d.Ra=q,d.bb=$,d.oa=O,d.pa=x}function ve(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Qo-8>>>0,++d.bb,d.u-=8;B(d)&&(d.h=1,d.u=0)}function ae(d,O){if(e(0<=O),!d.h&&O<=Vi){var x=F(d)&Fi[O];return d.u+=O,ve(d),x}return d.h=1,d.u=0}function N(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function F(d){return d.Ra>>>(d.u&Qo-1)>>>0}function B(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Qo}function ee(d,O){d.u=O,d.h=B(d)}function le(d){d.u>=Ms&&(e(d.u>=Ms),ve(d))}function be(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function me(d){return re(d,1)}function _e(d,O){var x=d.Ca;0>d.b&&be(d);var $=d.b,U=x*O>>>8,q=(d.I>>>$>U)+0;for(q?(x-=U,d.I-=U+1<<$>>>0):x=U+1,$=x,U=0;256<=$;)U+=8,$>>=8;return $=7^U+No[$],d.b-=$,d.Ca=(x<<$)-1,q}function he(d,O,x){d[O+0]=x>>24&255,d[O+1]=x>>16&255,d[O+2]=x>>8&255,d[O+3]=255&x}function je(d,O){return d[O+0]|d[O+1]<<8}function pe(d,O){return je(d,O)|d[O+2]<<16}function Oe(d,O){return je(d,O)|je(d,O+2)<<16}function J(d,O){var x=1<<O;return e(d!=null),e(0<O),d.X=s(x),d.X==null?0:(d.Mb=32-O,d.Xa=O,1)}function At(d,O){e(d!=null),e(O!=null),e(d.Xa==O.Xa),i(O.X,0,d.X,0,1<<O.Xa)}function vt(){this.X=[],this.Xa=this.Mb=0}function st(d,O,x,$){e(x!=null),e($!=null);var U=x[0],q=$[0];return U==0&&(U=(d*q+O/2)/O),q==0&&(q=(O*U+d/2)/d),0>=U||0>=q?0:(x[0]=U,$[0]=q,1)}function Ne(d,O){return d+(1<<O)-1>>>O}function Je(d,O){return((4278255360&d)+(4278255360&O)>>>0&4278255360)+((16711935&d)+(16711935&O)>>>0&16711935)>>>0}function We(d,O){Q[O]=function(x,$,U,q,I,D,M){var V;for(V=0;V<I;++V){var se=Q[d](D[M+V-1],U,q+V);D[M+V]=Je(x[$+V],se)}}}function St(){this.ud=this.hd=this.jd=0}function it(d,O){return((4278124286&(d^O))>>>1)+(d&O)>>>0}function qt(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Ot(d,O){return qt(d+(d-O+.5>>1))}function mt(d,O,x){return Math.abs(O-x)-Math.abs(d-x)}function Ht(d,O,x,$,U,q,I){for($=q[I-1],x=0;x<U;++x)q[I+x]=$=Je(d[O+x],$)}function _t(d,O,x,$,U){var q;for(q=0;q<x;++q){var I=d[O+q],D=I>>8&255,M=16711935&(M=(M=16711935&I)+((D<<16)+D));$[U+q]=(4278255360&I)+M>>>0}}function tt(d,O){O.jd=255&d,O.hd=d>>8&255,O.ud=d>>16&255}function ct(d,O,x,$,U,q){var I;for(I=0;I<$;++I){var D=O[x+I],M=D>>>8,V=D,se=255&(se=(se=D>>>16)+((d.jd<<24>>24)*(M<<24>>24)>>>5));V=255&(V=(V+=(d.hd<<24>>24)*(M<<24>>24)>>>5)+((d.ud<<24>>24)*(se<<24>>24)>>>5)),U[q+I]=(4278255360&D)+(se<<16)+V}}function rt(d,O,x,$,U){Q[O]=function(q,I,D,M,V,se,ge,Z,ce){for(M=ge;M<Z;++M)for(ge=0;ge<ce;++ge)V[se++]=U(D[$(q[I++])])},Q[d]=function(q,I,D,M,V,se,ge){var Z=8>>q.b,ce=q.Ea,fe=q.K[0],xe=q.w;if(8>Z)for(q=(1<<q.b)-1,xe=(1<<Z)-1;I<D;++I){var de,we=0;for(de=0;de<ce;++de)de&q||(we=$(M[V++])),se[ge++]=U(fe[we&xe]),we>>=Z}else Q["VP8LMapColor"+x](M,V,fe,xe,se,ge,I,D,ce)}}function or(d,O,x,$,U){for(x=O+x;O<x;){var q=d[O++];$[U++]=q>>16&255,$[U++]=q>>8&255,$[U++]=255&q}}function It(d,O,x,$,U){for(x=O+x;O<x;){var q=d[O++];$[U++]=q>>16&255,$[U++]=q>>8&255,$[U++]=255&q,$[U++]=q>>24&255}}function Ge(d,O,x,$,U){for(x=O+x;O<x;){var q=(I=d[O++])>>16&240|I>>12&15,I=240&I|I>>28&15;$[U++]=q,$[U++]=I}}function bt(d,O,x,$,U){for(x=O+x;O<x;){var q=(I=d[O++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;$[U++]=q,$[U++]=I}}function Jt(d,O,x,$,U){for(x=O+x;O<x;){var q=d[O++];$[U++]=255&q,$[U++]=q>>8&255,$[U++]=q>>16&255}}function ot(d,O,x,$,U,q){if(q==0)for(x=O+x;O<x;)he($,((q=d[O++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),U+=32;else i($,U,d,O,x)}function Tt(d,O){Q[O][0]=Q[d+"0"],Q[O][1]=Q[d+"1"],Q[O][2]=Q[d+"2"],Q[O][3]=Q[d+"3"],Q[O][4]=Q[d+"4"],Q[O][5]=Q[d+"5"],Q[O][6]=Q[d+"6"],Q[O][7]=Q[d+"7"],Q[O][8]=Q[d+"8"],Q[O][9]=Q[d+"9"],Q[O][10]=Q[d+"10"],Q[O][11]=Q[d+"11"],Q[O][12]=Q[d+"12"],Q[O][13]=Q[d+"13"],Q[O][14]=Q[d+"0"],Q[O][15]=Q[d+"0"]}function yt(d){return d==yO||d==xO||d==Mf||d==wO}function Qr(){this.eb=[],this.size=this.A=this.fb=0}function Br(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function er(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qr,this.f.kb=new Br,this.sd=null}function ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Aa(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Oi(d,O){var x=d.T,$=O.ba.f.RGBA,U=$.eb,q=$.fb+d.ka*$.A,I=bn[O.ba.S],D=d.y,M=d.O,V=d.f,se=d.N,ge=d.ea,Z=d.W,ce=O.cc,fe=O.dc,xe=O.Mc,de=O.Nc,we=d.ka,ke=d.ka+d.T,Qe=d.U,$e=Qe+1>>1;for(we==0?I(D,M,null,null,V,se,ge,Z,V,se,ge,Z,U,q,null,null,Qe):(I(O.ec,O.fc,D,M,ce,fe,xe,de,V,se,ge,Z,U,q-$.A,U,q,Qe),++x);we+2<ke;we+=2)ce=V,fe=se,xe=ge,de=Z,se+=d.Rc,Z+=d.Rc,q+=2*$.A,I(D,(M+=2*d.fa)-d.fa,D,M,ce,fe,xe,de,V,se,ge,Z,U,q-$.A,U,q,Qe);return M+=d.fa,d.j+ke<d.o?(i(O.ec,O.fc,D,M,Qe),i(O.cc,O.dc,V,se,$e),i(O.Mc,O.Nc,ge,Z,$e),x--):1&ke||I(D,M,null,null,V,se,ge,Z,V,se,ge,Z,U,q+$.A,null,null,Qe),x}function Us(d,O,x){var $=d.F,U=[d.J];if($!=null){var q=d.U,I=O.ba.S,D=I==Bf||I==Mf;O=O.ba.f.RGBA;var M=[0],V=d.ka;M[0]=d.T,d.Kb&&(V==0?--M[0]:(--V,U[0]-=d.width),d.j+d.ka+d.T==d.o&&(M[0]=d.o-d.j-V));var se=O.eb;V=O.fb+V*O.A,d=Ey($,U[0],d.width,q,M,se,V+(D?0:3),O.A),e(x==M),d&&yt(I)&&Xh(se,V,D,q,M,O.A)}return 0}function Hn(d){var O=d.ma,x=O.ba.S,$=11>x,U=x==Yf||x==Df||x==Bf||x==bO||x==12||yt(x);if(O.memory=null,O.Ib=null,O.Jb=null,O.Nd=null,!$h(O.Oa,d,U?11:12))return 0;if(U&&yt(x)&&Uf(),d.da)alert("todo:use_scaling");else{if($){if(O.Ib=Aa,d.Kb){if(x=d.U+1>>1,O.memory=s(d.U+2*x),O.memory==null)return 0;O.ec=O.memory,O.fc=0,O.cc=O.ec,O.dc=O.fc+d.U,O.Mc=O.cc,O.Nc=O.dc+x,O.Ib=Oi,Uf()}}else alert("todo:EmitYUV");U&&(O.Jb=Us,$&&pn())}if($&&!Ky){for(d=0;256>d;++d)U3[d]=89858*(d-128)+Vf>>Ff,q3[d]=-22014*(d-128)+Vf,z3[d]=-45773*(d-128),L3[d]=113618*(d-128)+Vf>>Ff;for(d=Rh;d<_O;++d)O=76283*(d-16)+Vf>>Ff,I3[d-Rh]=xr(O,255),W3[d-Rh]=xr(O+8>>4,15);Ky=1}return 1}function at(d){var O=d.ma,x=d.U,$=d.T;return e(!(1&d.ka)),0>=x||0>=$?0:(x=O.Ib(d,O),O.Jb!=null&&O.Jb(d,O,x),O.Dc+=x,1)}function Ls(d){d.ma.memory=null}function zs(d,O,x,$){return ae(d,8)!=47?0:(O[0]=ae(d,14)+1,x[0]=ae(d,14)+1,$[0]=ae(d,1),ae(d,3)!=0?0:!d.h)}function hn(d,O){if(4>d)return d+1;var x=d-2>>1;return(2+(1&d)<<x)+ae(O,x)+1}function un(d,O){return 120<O?O-120:1<=(x=((x=S3[O-1])>>4)*d+(8-(15&x)))?x:1;var x}function yr(d,O,x){var $=F(x),U=d[O+=255&$].g-8;return 0<U&&(ee(x,x.u+8),$=F(x),O+=d[O].value,O+=$&(1<<U)-1),ee(x,x.u+d[O].g),d[O].value}function ei(d,O,x){return x.g+=d.g,x.value+=d.value<<O>>>0,e(8>=x.g),d.g}function ni(d,O,x){var $=d.xc;return e((O=$==0?0:d.vc[d.md*(x>>$)+(O>>$)])<d.Wb),d.Ya[O]}function Ta(d,O,x,$){var U=d.ab,q=d.c*O,I=d.C;O=I+O;var D=x,M=$;for($=d.Ta,x=d.Ua;0<U--;){var V=d.gc[U],se=I,ge=O,Z=D,ce=M,fe=(M=$,D=x,V.Ea);switch(e(se<ge),e(ge<=V.nc),V.hc){case 2:Ar(Z,ce,(ge-se)*fe,M,D);break;case 0:var xe=se,de=ge,we=M,ke=D,Qe=(Fe=V).Ea;xe==0&&(jh(Z,ce,null,null,1,we,ke),Ht(Z,ce+1,0,0,Qe-1,we,ke+1),ce+=Qe,ke+=Qe,++xe);for(var $e=1<<Fe.b,He=$e-1,De=Ne(Qe,Fe.b),Pt=Fe.K,Fe=Fe.w+(xe>>Fe.b)*De;xe<de;){var Ct=Pt,Vr=Fe,jt=1;for(sc(Z,ce,we,ke-Qe,1,we,ke);jt<Qe;){var Ve=(jt&~He)+$e;Ve>Qe&&(Ve=Qe),(0,Nh[Ct[Vr++]>>8&15])(Z,ce+ +jt,we,ke+jt-Qe,Ve-jt,we,ke+jt),jt=Ve}ce+=Qe,ke+=Qe,++xe&He||(Fe+=De)}ge!=V.nc&&i(M,D-fe,M,D+(ge-se-1)*fe,fe);break;case 1:for(fe=Z,de=ce,Qe=(Z=V.Ea)-(ke=Z&~(we=(ce=1<<V.b)-1)),xe=Ne(Z,V.b),$e=V.K,V=V.w+(se>>V.b)*xe;se<ge;){for(He=$e,De=V,Pt=new St,Fe=de+ke,Ct=de+Z;de<Fe;)tt(He[De++],Pt),Ah(Pt,fe,de,ce,M,D),de+=ce,D+=ce;de<Ct&&(tt(He[De++],Pt),Ah(Pt,fe,de,Qe,M,D),de+=Qe,D+=Qe),++se&we||(V+=xe)}break;case 3:if(Z==M&&ce==D&&0<V.b){for(de=M,Z=fe=D+(ge-se)*fe-(ke=(ge-se)*Ne(V.Ea,V.b)),ce=M,we=D,xe=[],ke=(Qe=ke)-1;0<=ke;--ke)xe[ke]=ce[we+ke];for(ke=Qe-1;0<=ke;--ke)de[Z+ke]=xe[ke];zf(V,se,ge,M,fe,M,D)}else zf(V,se,ge,Z,ce,M,D)}D=$,M=x}M!=x&&i($,x,D,M,q)}function _o(d,O){var x=d.V,$=d.Ba+d.c*d.C,U=O-d.C;if(e(O<=d.l.o),e(16>=U),0<U){var q=d.l,I=d.Ta,D=d.Ua,M=q.width;if(Ta(d,U,x,$),U=D=[D],e((x=d.C)<($=O)),e(q.v<q.va),$>q.o&&($=q.o),x<q.j){var V=q.j-x;x=q.j,U[0]+=V*M}if(x>=$?x=0:(U[0]+=4*q.v,q.ka=x-q.j,q.U=q.va-q.v,q.T=$-x,x=1),x){if(D=D[0],11>(x=d.ca).S){var se=x.f.RGBA,ge=($=x.S,U=q.U,q=q.T,V=se.eb,se.A),Z=q;for(se=se.fb+d.Ma*se.A;0<Z--;){var ce=I,fe=D,xe=U,de=V,we=se;switch($){case Wf:Th(ce,fe,xe,de,we);break;case Yf:Ao(ce,fe,xe,de,we);break;case yO:Ao(ce,fe,xe,de,we),Xh(de,we,0,xe,1,0);break;case Wy:Ka(ce,fe,xe,de,we);break;case Df:ot(ce,fe,xe,de,we,1);break;case xO:ot(ce,fe,xe,de,we,1),Xh(de,we,0,xe,1,0);break;case Bf:ot(ce,fe,xe,de,we,0);break;case Mf:ot(ce,fe,xe,de,we,0),Xh(de,we,1,xe,1,0);break;case bO:To(ce,fe,xe,de,we);break;case wO:To(ce,fe,xe,de,we),Xy(de,we,xe,1,0);break;case Yy:Co(ce,fe,xe,de,we);break;default:e(0)}D+=M,se+=ge}d.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=x.height)}}d.C=O,e(d.C<=d.i)}function Nn(d){var O;if(0<d.ua)return 0;for(O=0;O<d.Wb;++O){var x=d.Ya[O].G,$=d.Ya[O].H;if(0<x[1][$[1]+0].g||0<x[2][$[2]+0].g||0<x[3][$[3]+0].g)return 0}return 1}function Kn(d,O,x,$,U,q){if(d.Z!=0){var I=d.qd,D=d.rd;for(e(Ro[d.Z]!=null);O<x;++O)Ro[d.Z](I,D,$,U,$,U,q),I=$,D=U,U+=q;d.qd=I,d.rd=D}}function An(d,O){var x=d.l.ma,$=x.Z==0||x.Z==1?d.l.j:d.C;if($=d.C<$?$:d.C,e(O<=d.l.o),O>$){var U=d.l.width,q=x.ca,I=x.tb+U*$,D=d.V,M=d.Ba+d.c*$,V=d.gc;e(d.ab==1),e(V[0].hc==3),rs(V[0],$,O,D,M,q,I),Kn(x,$,O,q,I,U)}d.C=d.Ma=O}function Tn(d,O,x,$,U,q,I){var D=d.$/$,M=d.$%$,V=d.m,se=d.s,ge=x+d.$,Z=ge;U=x+$*U;var ce=x+$*q,fe=280+se.ua,xe=d.Pb?D:16777216,de=0<se.ua?se.Wa:null,we=se.wc,ke=ge<ce?ni(se,M,D):null;e(d.C<q),e(ce<=U);var Qe=!1;e:for(;;){for(;Qe||ge<ce;){var $e=0;if(D>=xe){var He=ge-x;e((xe=d).Pb),xe.wd=xe.m,xe.xd=He,0<xe.s.ua&&At(xe.s.Wa,xe.s.vb),xe=D+k3}if(M&we||(ke=ni(se,M,D)),e(ke!=null),ke.Qb&&(O[ge]=ke.qb,Qe=!0),!Qe)if(le(V),ke.jc){$e=V,He=O;var De=ge,Pt=ke.pd[F($e)&Ha-1];e(ke.jc),256>Pt.g?(ee($e,$e.u+Pt.g),He[De]=Pt.value,$e=0):(ee($e,$e.u+Pt.g-256),e(256<=Pt.value),$e=Pt.value),$e==0&&(Qe=!0)}else $e=yr(ke.G[0],ke.H[0],V);if(V.h)break;if(Qe||256>$e){if(!Qe)if(ke.nd)O[ge]=(ke.qb|$e<<8)>>>0;else{if(le(V),Qe=yr(ke.G[1],ke.H[1],V),le(V),He=yr(ke.G[2],ke.H[2],V),De=yr(ke.G[3],ke.H[3],V),V.h)break;O[ge]=(De<<24|Qe<<16|$e<<8|He)>>>0}if(Qe=!1,++ge,++M>=$&&(M=0,++D,I!=null&&D<=q&&!(D%16)&&I(d,D),de!=null))for(;Z<ge;)$e=O[Z++],de.X[(506832829*$e&4294967295)>>>de.Mb]=$e}else if(280>$e){if($e=hn($e-256,V),He=yr(ke.G[4],ke.H[4],V),le(V),He=un($,He=hn(He,V)),V.h)break;if(ge-x<He||U-ge<$e)break e;for(De=0;De<$e;++De)O[ge+De]=O[ge+De-He];for(ge+=$e,M+=$e;M>=$;)M-=$,++D,I!=null&&D<=q&&!(D%16)&&I(d,D);if(e(ge<=U),M&we&&(ke=ni(se,M,D)),de!=null)for(;Z<ge;)$e=O[Z++],de.X[(506832829*$e&4294967295)>>>de.Mb]=$e}else{if(!($e<fe))break e;for(Qe=$e-280,e(de!=null);Z<ge;)$e=O[Z++],de.X[(506832829*$e&4294967295)>>>de.Mb]=$e;$e=ge,e(!(Qe>>>(He=de).Xa)),O[$e]=He.X[Qe],Qe=!0}Qe||e(V.h==B(V))}if(d.Pb&&V.h&&ge<U)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&At(d.s.vb,d.s.Wa);else{if(V.h)break e;I!=null&&I(d,D>q?q:D),d.a=0,d.$=ge-x}return 1}return d.a=3,0}function fn(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var O=d.Wa;O!=null&&(O.X=null),d.vb=null,e(d!=null)}function Ca(){var d=new Ze;return d==null?null:(d.a=0,d.xb=My,Tt("Predictor","VP8LPredictors"),Tt("Predictor","VP8LPredictors_C"),Tt("PredictorAdd","VP8LPredictorsAdd"),Tt("PredictorAdd","VP8LPredictorsAdd_C"),Ar=_t,Ah=ct,Th=or,Ao=It,To=Ge,Co=bt,Ka=Jt,Q.VP8LMapColor32b=ts,Q.VP8LMapColor8b=Qh,d)}function Jn(d,O,x,$,U){var q=1,I=[d],D=[O],M=$.m,V=$.s,se=null,ge=0;e:for(;;){if(x)for(;q&&ae(M,1);){var Z=I,ce=D,fe=$,xe=1,de=fe.m,we=fe.gc[fe.ab],ke=ae(de,2);if(fe.Oc&1<<ke)q=0;else{switch(fe.Oc|=1<<ke,we.hc=ke,we.Ea=Z[0],we.nc=ce[0],we.K=[null],++fe.ab,e(4>=fe.ab),ke){case 0:case 1:we.b=ae(de,3)+2,xe=Jn(Ne(we.Ea,we.b),Ne(we.nc,we.b),0,fe,we.K),we.K=we.K[0];break;case 3:var Qe,$e=ae(de,8)+1,He=16<$e?0:4<$e?1:2<$e?2:3;if(Z[0]=Ne(we.Ea,He),we.b=He,Qe=xe=Jn($e,1,0,fe,we.K)){var De,Pt=$e,Fe=we,Ct=1<<(8>>Fe.b),Vr=s(Ct);if(Vr==null)Qe=0;else{var jt=Fe.K[0],Ve=Fe.w;for(Vr[0]=Fe.K[0][0],De=1;De<1*Pt;++De)Vr[De]=Je(jt[Ve+De],Vr[De-1]);for(;De<4*Ct;++De)Vr[De]=0;Fe.K[0]=null,Fe.K[0]=Vr,Qe=1}}xe=Qe;break;case 2:break;default:e(0)}q=xe}}if(I=I[0],D=D[0],q&&ae(M,1)&&!(q=1<=(ge=ae(M,4))&&11>=ge)){$.a=3;break e}var Ee;if(Ee=q)t:{var Cr,xt,Rt,hr=$,oi=I,Ai=D,wr=ge,bi=x,Ti=hr.m,Zr=hr.s,Lt=[null],Ft=1,vr=0,Vt=_3[wr];r:for(;;){if(bi&&ae(Ti,1)){var ai=ae(Ti,3)+2,En=Ne(oi,ai),Xr=Ne(Ai,ai),qi=En*Xr;if(!Jn(En,Xr,0,hr,Lt))break r;for(Lt=Lt[0],Zr.xc=ai,Cr=0;Cr<qi;++Cr){var rr=Lt[Cr]>>8&65535;Lt[Cr]=rr,rr>=Ft&&(Ft=rr+1)}}if(Ti.h)break r;for(xt=0;5>xt;++xt){var Gr=Dy[xt];!xt&&0<wr&&(Gr+=1<<wr),vr<Gr&&(vr=Gr)}var Gi=o(Ft*Vt,A),Ci=Ft,Hi=o(Ci,L);if(Hi==null)var Ki=null;else e(65536>=Ci),Ki=Hi;var Ii=s(vr);if(Ki==null||Ii==null||Gi==null){hr.a=1;break r}var Ji=Gi;for(Cr=Rt=0;Cr<Ft;++Cr){var lr=Ki[Cr],en=lr.G,Rn=lr.H,el=0,Zs=1,li=0;for(xt=0;5>xt;++xt){Gr=Dy[xt],en[xt]=Ji,Rn[xt]=Rt,!xt&&0<wr&&(Gr+=1<<wr);n:{var Gf,kO=Gr,Hf=hr,Uh=Ii,B3=Ji,M3=Rt,$O=0,Uo=Hf.m,F3=ae(Uo,1);if(n(Uh,0,0,kO),F3){var V3=ae(Uo,1)+1,Z3=ae(Uo,1),tx=ae(Uo,Z3==0?1:8);Uh[tx]=1,V3==2&&(Uh[tx=ae(Uo,8)]=1);var Kf=1}else{var rx=s(19),ix=ae(Uo,4)+4;if(19<ix){Hf.a=3;var Jf=0;break n}for(Gf=0;Gf<ix;++Gf)rx[v3[Gf]]=ae(Uo,3);var PO=void 0,Lh=void 0,nx=Hf,G3=rx,ed=kO,sx=Uh,jO=0,Lo=nx.m,ox=8,ax=o(128,A);i:for(;w(ax,0,7,G3,19);){if(ae(Lo,1)){var H3=2+2*ae(Lo,3);if((PO=2+ae(Lo,H3))>ed)break i}else PO=ed;for(Lh=0;Lh<ed&&PO--;){le(Lo);var lx=ax[0+(127&F(Lo))];ee(Lo,Lo.u+lx.g);var ac=lx.value;if(16>ac)sx[Lh++]=ac,ac!=0&&(ox=ac);else{var K3=ac==16,cx=ac-16,J3=x3[cx],hx=ae(Lo,y3[cx])+J3;if(Lh+hx>ed)break i;for(var eP=K3?ox:0;0<hx--;)sx[Lh++]=eP}}jO=1;break i}jO||(nx.a=3),Kf=jO}(Kf=Kf&&!Uo.h)&&($O=w(B3,M3,8,Uh,kO)),Kf&&$O!=0?Jf=$O:(Hf.a=3,Jf=0)}if(Jf==0)break r;if(Zs&&w3[xt]==1&&(Zs=Ji[Rt].g==0),el+=Ji[Rt].g,Rt+=Jf,3>=xt){var zh,QO=Ii[0];for(zh=1;zh<Gr;++zh)Ii[zh]>QO&&(QO=Ii[zh]);li+=QO}}if(lr.nd=Zs,lr.Qb=0,Zs&&(lr.qb=(en[3][Rn[3]+0].value<<24|en[1][Rn[1]+0].value<<16|en[2][Rn[2]+0].value)>>>0,el==0&&256>en[0][Rn[0]+0].value&&(lr.Qb=1,lr.qb+=en[0][Rn[0]+0].value<<8)),lr.jc=!lr.Qb&&6>li,lr.jc){var td,Gs=lr;for(td=0;td<Ha;++td){var zo=td,qo=Gs.pd[zo],rd=Gs.G[0][Gs.H[0]+zo];256<=rd.value?(qo.g=rd.g+256,qo.value=rd.value):(qo.g=0,qo.value=0,zo>>=ei(rd,8,qo),zo>>=ei(Gs.G[1][Gs.H[1]+zo],16,qo),zo>>=ei(Gs.G[2][Gs.H[2]+zo],0,qo),ei(Gs.G[3][Gs.H[3]+zo],24,qo))}}}Zr.vc=Lt,Zr.Wb=Ft,Zr.Ya=Ki,Zr.yc=Gi,Ee=1;break t}Ee=0}if(!(q=Ee)){$.a=3;break e}if(0<ge){if(V.ua=1<<ge,!J(V.Wa,ge)){$.a=1,q=0;break e}}else V.ua=0;var NO=$,ux=I,tP=D,AO=NO.s,TO=AO.xc;if(NO.c=ux,NO.i=tP,AO.md=Ne(ux,TO),AO.wc=TO==0?-1:(1<<TO)-1,x){$.xb=T3;break e}if((se=s(I*D))==null){$.a=1,q=0;break e}q=(q=Tn($,se,0,I,D,D,null))&&!M.h;break e}return q?(U!=null?U[0]=se:(e(se==null),e(x)),$.$=0,x||fn(V)):fn(V),q}function Xa(d,O){var x=d.c*d.i,$=x+O+16*O;return e(d.c<=O),d.V=s($),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+x+O,1)}function Zl(d,O){var x=d.C,$=O-x,U=d.V,q=d.Ba+d.c*x;for(e(O<=d.l.o);0<$;){var I=16<$?16:$,D=d.l.ma,M=d.l.width,V=M*I,se=D.ca,ge=D.tb+M*x,Z=d.Ta,ce=d.Ua;Ta(d,I,U,q),Ry(Z,ce,se,ge,V),Kn(D,x,x+I,se,ge,M),$-=I,U+=I*d.c,x+=I}e(x==O),d.C=d.Ma=O}function Gl(){this.ub=this.yd=this.td=this.Rb=0}function Hl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function tO(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function fh(){this.Yb=function(){var d=[];return function O(x,$,U){for(var q=U[$],I=0;I<q&&(x.push(U.length>$+1?[]:0),!(U.length<$+1));I++)O(x[I],$+1,U)}(d,0,[3,11]),d}()}function vf(){this.jb=s(3),this.Wc=a([4,8],fh),this.Xc=a([4,17],fh)}function Sf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function dn(){this.ld=this.La=this.dd=this.tc=0}function dh(){this.Na=this.la=0}function _f(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ph(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function kf(){this.uc=this.M=this.Nb=0,this.wa=Array(new dn),this.Y=0,this.ya=Array(new ph),this.aa=0,this.l=new Kl}function $f(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Pf(){this.cb=this.a=0,this.sc="",this.m=new N,this.Od=new Gl,this.Kc=new Hl,this.ed=new Sf,this.Qa=new tO,this.Ic=this.$c=this.Aa=0,this.D=new kf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,N),this.ia=0,this.pb=o(4,_f),this.Pa=new vf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $f),this.Hd=0,this.rb=Array(new dh),this.sb=0,this.wa=Array(new dn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ph),this.L=this.aa=0,this.gd=a([4,2],dn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Kl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function rO(){var d=new Pf;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Eh||(Eh=qs)),d}function qr(d,O,x){return d.a==0&&(d.a=O,d.sc=x,d.cb=0),0}function jf(d,O,x){return 3<=x&&d[O+0]==157&&d[O+1]==1&&d[O+2]==42}function Qf(d,O){if(d==null)return 0;if(d.a=0,d.sc="OK",O==null)return qr(d,2,"null VP8Io passed to VP8GetHeaders()");var x=O.data,$=O.w,U=O.ha;if(4>U)return qr(d,7,"Truncated header.");var q=x[$+0]|x[$+1]<<8|x[$+2]<<16,I=d.Od;if(I.Rb=!(1&q),I.td=q>>1&7,I.yd=q>>4&1,I.ub=q>>5,3<I.td)return qr(d,3,"Incorrect keyframe parameters.");if(!I.yd)return qr(d,4,"Frame not displayable.");$+=3,U-=3;var D=d.Kc;if(I.Rb){if(7>U)return qr(d,7,"cannot parse picture header");if(!jf(x,$,U))return qr(d,3,"Bad code word");D.c=16383&(x[$+4]<<8|x[$+3]),D.Td=x[$+4]>>6,D.i=16383&(x[$+6]<<8|x[$+5]),D.Ud=x[$+6]>>6,$+=7,U-=7,d.za=D.c+15>>4,d.Ub=D.i+15>>4,O.width=D.c,O.height=D.i,O.Da=0,O.j=0,O.v=0,O.va=O.width,O.o=O.height,O.da=0,O.ib=O.width,O.hb=O.height,O.U=O.width,O.T=O.height,n((q=d.Pa).jb,0,255,q.jb.length),e((q=d.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,n(q.Zb,0,0,q.Zb.length),n(q.Lb,0,0,q.Lb)}if(I.ub>U)return qr(d,7,"bad partition length");K(q=d.m,x,$,I.ub),$+=I.ub,U-=I.ub,I.Rb&&(D.Ld=me(q),D.Kd=me(q)),D=d.Qa;var M,V=d.Pa;if(e(q!=null),e(D!=null),D.Cb=me(q),D.Cb){if(D.Bb=me(q),me(q)){for(D.Fb=me(q),M=0;4>M;++M)D.Zb[M]=me(q)?te(q,7):0;for(M=0;4>M;++M)D.Lb[M]=me(q)?te(q,6):0}if(D.Bb)for(M=0;3>M;++M)V.jb[M]=me(q)?re(q,8):255}else D.Bb=0;if(q.Ka)return qr(d,3,"cannot parse segment header");if((D=d.ed).zd=me(q),D.Tb=re(q,6),D.wb=re(q,3),D.Pc=me(q),D.Pc&&me(q)){for(V=0;4>V;++V)me(q)&&(D.vd[V]=te(q,6));for(V=0;4>V;++V)me(q)&&(D.od[V]=te(q,6))}if(d.L=D.Tb==0?0:D.zd?1:2,q.Ka)return qr(d,3,"cannot parse filter header");var se=U;if(U=M=$,$=M+se,D=se,d.Xb=(1<<re(d.m,2))-1,se<3*(V=d.Xb))x=7;else{for(M+=3*V,D-=3*V,se=0;se<V;++se){var ge=x[U+0]|x[U+1]<<8|x[U+2]<<16;ge>D&&(ge=D),K(d.Jc[+se],x,M,ge),M+=ge,D-=ge,U+=3}K(d.Jc[+V],x,M,D),x=M<$?0:5}if(x!=0)return qr(d,x,"cannot parse partitions");for(x=re(M=d.m,7),U=me(M)?te(M,4):0,$=me(M)?te(M,4):0,D=me(M)?te(M,4):0,V=me(M)?te(M,4):0,M=me(M)?te(M,4):0,se=d.Qa,ge=0;4>ge;++ge){if(se.Cb){var Z=se.Zb[ge];se.Fb||(Z+=x)}else{if(0<ge){d.pb[ge]=d.pb[0];continue}Z=x}var ce=d.pb[ge];ce.Sc[0]=vO[xr(Z+U,127)],ce.Sc[1]=SO[xr(Z+0,127)],ce.Eb[0]=2*vO[xr(Z+$,127)],ce.Eb[1]=101581*SO[xr(Z+D,127)]>>16,8>ce.Eb[1]&&(ce.Eb[1]=8),ce.Qc[0]=vO[xr(Z+V,117)],ce.Qc[1]=SO[xr(Z+M,127)],ce.lc=Z+M}if(!I.Rb)return qr(d,4,"Not a key frame.");for(me(q),I=d.Pa,x=0;4>x;++x){for(U=0;8>U;++U)for($=0;3>$;++$)for(D=0;11>D;++D)V=_e(q,N3[x][U][$][D])?re(q,8):j3[x][U][$][D],I.Wc[x][U].Yb[$][D]=V;for(U=0;17>U;++U)I.Xc[x][U]=I.Wc[x][A3[U]]}return d.kc=me(q),d.kc&&(d.Bd=re(q,8)),d.cb=1}function qs(d,O,x,$,U,q,I){var D=O[U].Yb[x];for(x=0;16>U;++U){if(!_e(d,D[x+0]))return U;for(;!_e(d,D[x+1]);)if(D=O[++U].Yb[0],x=0,U==16)return 16;var M=O[U+1].Yb;if(_e(d,D[x+2])){var V=d,se=0;if(_e(V,(Z=D)[(ge=x)+3]))if(_e(V,Z[ge+6])){for(D=0,ge=2*(se=_e(V,Z[ge+8]))+(Z=_e(V,Z[ge+9+se])),se=0,Z=$3[ge];Z[D];++D)se+=se+_e(V,Z[D]);se+=3+(8<<ge)}else _e(V,Z[ge+7])?(se=7+2*_e(V,165),se+=_e(V,145)):se=5+_e(V,159);else se=_e(V,Z[ge+4])?3+_e(V,Z[ge+5]):2;D=M[2]}else se=1,D=M[1];M=I+P3[U],0>(V=d).b&&be(V);var ge,Z=V.b,ce=(ge=V.Ca>>1)-(V.I>>Z)>>31;--V.b,V.Ca+=ce,V.Ca|=1,V.I-=(ge+1&ce)<<Z,q[M]=((se^ce)-ce)*$[(0<U)+0]}return 16}function Ea(d){var O=d.rb[d.sb-1];O.la=0,O.Na=0,n(d.zc,0,0,d.zc.length),d.ja=0}function Cn(d,O,x,$,U){U=d[O+x+32*$]+(U>>3),d[O+x+32*$]=-256&U?0>U?0:255:U}function Ra(d,O,x,$,U,q){Cn(d,O,0,x,$+U),Cn(d,O,1,x,$+q),Cn(d,O,2,x,$-q),Cn(d,O,3,x,$-U)}function Nr(d){return(20091*d>>16)+d}function gh(d,O,x,$){var U,q=0,I=s(16);for(U=0;4>U;++U){var D=d[O+0]+d[O+8],M=d[O+0]-d[O+8],V=(35468*d[O+4]>>16)-Nr(d[O+12]),se=Nr(d[O+4])+(35468*d[O+12]>>16);I[q+0]=D+se,I[q+1]=M+V,I[q+2]=M-V,I[q+3]=D-se,q+=4,O++}for(U=q=0;4>U;++U)D=(d=I[q+0]+4)+I[q+8],M=d-I[q+8],V=(35468*I[q+4]>>16)-Nr(I[q+12]),Cn(x,$,0,0,D+(se=Nr(I[q+4])+(35468*I[q+12]>>16))),Cn(x,$,1,0,M+V),Cn(x,$,2,0,M-V),Cn(x,$,3,0,D-se),q++,$+=32}function iO(d,O,x,$){var U=d[O+0]+4,q=35468*d[O+4]>>16,I=Nr(d[O+4]),D=35468*d[O+1]>>16;Ra(x,$,0,U+I,d=Nr(d[O+1]),D),Ra(x,$,1,U+q,d,D),Ra(x,$,2,U-q,d,D),Ra(x,$,3,U-I,d,D)}function nO(d,O,x,$,U){gh(d,O,x,$),U&&gh(d,O+16,x,$+4)}function sO(d,O,x,$){Ja(d,O+0,x,$,1),Ja(d,O+32,x,$+128,1)}function es(d,O,x,$){var U;for(d=d[O+0]+4,U=0;4>U;++U)for(O=0;4>O;++O)Cn(x,$,O,U,d)}function Nf(d,O,x,$){d[O+0]&&Mt(d,O+0,x,$),d[O+16]&&Mt(d,O+16,x,$+4),d[O+32]&&Mt(d,O+32,x,$+128),d[O+48]&&Mt(d,O+48,x,$+128+4)}function Af(d,O,x,$){var U,q=s(16);for(U=0;4>U;++U){var I=d[O+0+U]+d[O+12+U],D=d[O+4+U]+d[O+8+U],M=d[O+4+U]-d[O+8+U],V=d[O+0+U]-d[O+12+U];q[0+U]=I+D,q[8+U]=I-D,q[4+U]=V+M,q[12+U]=V-M}for(U=0;4>U;++U)I=(d=q[0+4*U]+3)+q[3+4*U],D=q[1+4*U]+q[2+4*U],M=q[1+4*U]-q[2+4*U],V=d-q[3+4*U],x[$+0]=I+D>>3,x[$+16]=V+M>>3,x[$+32]=I-D>>3,x[$+48]=V-M>>3,$+=64}function ko(d,O,x){var $,U=O-32,q=Zi,I=255-d[U-1];for($=0;$<x;++$){var D,M=q,V=I+d[O-1];for(D=0;D<x;++D)d[O+D]=M[V+d[U+D]];O+=32}}function Oh(d,O){ko(d,O,4)}function oO(d,O){ko(d,O,8)}function aO(d,O){ko(d,O,16)}function lO(d,O){var x;for(x=0;16>x;++x)i(d,O+32*x,d,O-32,16)}function mh(d,O){var x;for(x=16;0<x;--x)n(d,O,d[O-1],16),O+=32}function Ua(d,O,x){var $;for($=0;16>$;++$)n(O,x+32*$,d,16)}function $o(d,O){var x,$=16;for(x=0;16>x;++x)$+=d[O-1+32*x]+d[O+x-32];Ua($>>5,d,O)}function cO(d,O){var x,$=8;for(x=0;16>x;++x)$+=d[O-1+32*x];Ua($>>4,d,O)}function La(d,O){var x,$=8;for(x=0;16>x;++x)$+=d[O+x-32];Ua($>>4,d,O)}function bh(d,O){Ua(128,d,O)}function dt(d,O,x){return d+2*O+x+2>>2}function hO(d,O){var x,$=O-32;for($=new Uint8Array([dt(d[$-1],d[$+0],d[$+1]),dt(d[$+0],d[$+1],d[$+2]),dt(d[$+1],d[$+2],d[$+3]),dt(d[$+2],d[$+3],d[$+4])]),x=0;4>x;++x)i(d,O+32*x,$,0,$.length)}function uO(d,O){var x=d[O-1],$=d[O-1+32],U=d[O-1+64],q=d[O-1+96];he(d,O+0,16843009*dt(d[O-1-32],x,$)),he(d,O+32,16843009*dt(x,$,U)),he(d,O+64,16843009*dt($,U,q)),he(d,O+96,16843009*dt(U,q,q))}function fO(d,O){var x,$=4;for(x=0;4>x;++x)$+=d[O+x-32]+d[O-1+32*x];for($>>=3,x=0;4>x;++x)n(d,O+32*x,$,4)}function dO(d,O){var x=d[O-1+0],$=d[O-1+32],U=d[O-1+64],q=d[O-1-32],I=d[O+0-32],D=d[O+1-32],M=d[O+2-32],V=d[O+3-32];d[O+0+96]=dt($,U,d[O-1+96]),d[O+1+96]=d[O+0+64]=dt(x,$,U),d[O+2+96]=d[O+1+64]=d[O+0+32]=dt(q,x,$),d[O+3+96]=d[O+2+64]=d[O+1+32]=d[O+0+0]=dt(I,q,x),d[O+3+64]=d[O+2+32]=d[O+1+0]=dt(D,I,q),d[O+3+32]=d[O+2+0]=dt(M,D,I),d[O+3+0]=dt(V,M,D)}function Is(d,O){var x=d[O+1-32],$=d[O+2-32],U=d[O+3-32],q=d[O+4-32],I=d[O+5-32],D=d[O+6-32],M=d[O+7-32];d[O+0+0]=dt(d[O+0-32],x,$),d[O+1+0]=d[O+0+32]=dt(x,$,U),d[O+2+0]=d[O+1+32]=d[O+0+64]=dt($,U,q),d[O+3+0]=d[O+2+32]=d[O+1+64]=d[O+0+96]=dt(U,q,I),d[O+3+32]=d[O+2+64]=d[O+1+96]=dt(q,I,D),d[O+3+64]=d[O+2+96]=dt(I,D,M),d[O+3+96]=dt(D,M,M)}function Ws(d,O){var x=d[O-1+0],$=d[O-1+32],U=d[O-1+64],q=d[O-1-32],I=d[O+0-32],D=d[O+1-32],M=d[O+2-32],V=d[O+3-32];d[O+0+0]=d[O+1+64]=q+I+1>>1,d[O+1+0]=d[O+2+64]=I+D+1>>1,d[O+2+0]=d[O+3+64]=D+M+1>>1,d[O+3+0]=M+V+1>>1,d[O+0+96]=dt(U,$,x),d[O+0+64]=dt($,x,q),d[O+0+32]=d[O+1+96]=dt(x,q,I),d[O+1+32]=d[O+2+96]=dt(q,I,D),d[O+2+32]=d[O+3+96]=dt(I,D,M),d[O+3+32]=dt(D,M,V)}function pO(d,O){var x=d[O+0-32],$=d[O+1-32],U=d[O+2-32],q=d[O+3-32],I=d[O+4-32],D=d[O+5-32],M=d[O+6-32],V=d[O+7-32];d[O+0+0]=x+$+1>>1,d[O+1+0]=d[O+0+64]=$+U+1>>1,d[O+2+0]=d[O+1+64]=U+q+1>>1,d[O+3+0]=d[O+2+64]=q+I+1>>1,d[O+0+32]=dt(x,$,U),d[O+1+32]=d[O+0+96]=dt($,U,q),d[O+2+32]=d[O+1+96]=dt(U,q,I),d[O+3+32]=d[O+2+96]=dt(q,I,D),d[O+3+64]=dt(I,D,M),d[O+3+96]=dt(D,M,V)}function gO(d,O){var x=d[O-1+0],$=d[O-1+32],U=d[O-1+64],q=d[O-1+96];d[O+0+0]=x+$+1>>1,d[O+2+0]=d[O+0+32]=$+U+1>>1,d[O+2+32]=d[O+0+64]=U+q+1>>1,d[O+1+0]=dt(x,$,U),d[O+3+0]=d[O+1+32]=dt($,U,q),d[O+3+32]=d[O+1+64]=dt(U,q,q),d[O+3+64]=d[O+2+64]=d[O+0+96]=d[O+1+96]=d[O+2+96]=d[O+3+96]=q}function Jl(d,O){var x=d[O-1+0],$=d[O-1+32],U=d[O-1+64],q=d[O-1+96],I=d[O-1-32],D=d[O+0-32],M=d[O+1-32],V=d[O+2-32];d[O+0+0]=d[O+2+32]=x+I+1>>1,d[O+0+32]=d[O+2+64]=$+x+1>>1,d[O+0+64]=d[O+2+96]=U+$+1>>1,d[O+0+96]=q+U+1>>1,d[O+3+0]=dt(D,M,V),d[O+2+0]=dt(I,D,M),d[O+1+0]=d[O+3+32]=dt(x,I,D),d[O+1+32]=d[O+3+64]=dt($,x,I),d[O+1+64]=d[O+3+96]=dt(U,$,x),d[O+1+96]=dt(q,U,$)}function yh(d,O){var x;for(x=0;8>x;++x)i(d,O+32*x,d,O-32,8)}function za(d,O){var x;for(x=0;8>x;++x)n(d,O,d[O-1],8),O+=32}function ec(d,O,x){var $;for($=0;8>$;++$)n(O,x+32*$,d,8)}function tc(d,O){var x,$=8;for(x=0;8>x;++x)$+=d[O+x-32]+d[O-1+32*x];ec($>>4,d,O)}function OO(d,O){var x,$=4;for(x=0;8>x;++x)$+=d[O+x-32];ec($>>3,d,O)}function xh(d,O){var x,$=4;for(x=0;8>x;++x)$+=d[O-1+32*x];ec($>>3,d,O)}function wh(d,O){ec(128,d,O)}function qa(d,O,x){var $=d[O-x],U=d[O+0],q=3*(U-$)+mO[1020+d[O-2*x]-d[O+x]],I=If[112+(q+4>>3)];d[O-x]=Zi[255+$+If[112+(q+3>>3)]],d[O+0]=Zi[255+U-I]}function Ia(d,O,x,$){var U=d[O+0],q=d[O+x];return mn[255+d[O-2*x]-d[O-x]]>$||mn[255+q-U]>$}function vh(d,O,x,$){return 4*mn[255+d[O-x]-d[O+0]]+mn[255+d[O-2*x]-d[O+x]]<=$}function rc(d,O,x,$,U){var q=d[O-3*x],I=d[O-2*x],D=d[O-x],M=d[O+0],V=d[O+x],se=d[O+2*x],ge=d[O+3*x];return 4*mn[255+D-M]+mn[255+I-V]>$?0:mn[255+d[O-4*x]-q]<=U&&mn[255+q-I]<=U&&mn[255+I-D]<=U&&mn[255+ge-se]<=U&&mn[255+se-V]<=U&&mn[255+V-M]<=U}function Sh(d,O,x,$){var U=2*$+1;for($=0;16>$;++$)vh(d,O+$,x,U)&&qa(d,O+$,x)}function Wa(d,O,x,$){var U=2*$+1;for($=0;16>$;++$)vh(d,O+$*x,1,U)&&qa(d,O+$*x,1)}function Tf(d,O,x,$){var U;for(U=3;0<U;--U)Sh(d,O+=4*x,x,$)}function Cf(d,O,x,$){var U;for(U=3;0<U;--U)Wa(d,O+=4,x,$)}function Ys(d,O,x,$,U,q,I,D){for(q=2*q+1;0<U--;){if(rc(d,O,x,q,I))if(Ia(d,O,x,D))qa(d,O,x);else{var M=d,V=O,se=x,ge=M[V-2*se],Z=M[V-se],ce=M[V+0],fe=M[V+se],xe=M[V+2*se],de=27*(ke=mO[1020+3*(ce-Z)+mO[1020+ge-fe]])+63>>7,we=18*ke+63>>7,ke=9*ke+63>>7;M[V-3*se]=Zi[255+M[V-3*se]+ke],M[V-2*se]=Zi[255+ge+we],M[V-se]=Zi[255+Z+de],M[V+0]=Zi[255+ce-de],M[V+se]=Zi[255+fe-we],M[V+2*se]=Zi[255+xe-ke]}O+=$}}function Ds(d,O,x,$,U,q,I,D){for(q=2*q+1;0<U--;){if(rc(d,O,x,q,I))if(Ia(d,O,x,D))qa(d,O,x);else{var M=d,V=O,se=x,ge=M[V-se],Z=M[V+0],ce=M[V+se],fe=If[112+(4+(xe=3*(Z-ge))>>3)],xe=If[112+(xe+3>>3)],de=fe+1>>1;M[V-2*se]=Zi[255+M[V-2*se]+de],M[V-se]=Zi[255+ge+xe],M[V+0]=Zi[255+Z-fe],M[V+se]=Zi[255+ce-de]}O+=$}}function Xf(d,O,x,$,U,q){Ys(d,O,x,1,16,$,U,q)}function Ef(d,O,x,$,U,q){Ys(d,O,1,x,16,$,U,q)}function Ya(d,O,x,$,U,q){var I;for(I=3;0<I;--I)Ds(d,O+=4*x,x,1,16,$,U,q)}function Rf(d,O,x,$,U,q){var I;for(I=3;0<I;--I)Ds(d,O+=4,1,x,16,$,U,q)}function b(d,O,x,$,U,q,I,D){Ys(d,O,U,1,8,q,I,D),Ys(x,$,U,1,8,q,I,D)}function R(d,O,x,$,U,q,I,D){Ys(d,O,1,U,8,q,I,D),Ys(x,$,1,U,8,q,I,D)}function G(d,O,x,$,U,q,I,D){Ds(d,O+4*U,U,1,8,q,I,D),Ds(x,$+4*U,U,1,8,q,I,D)}function ne(d,O,x,$,U,q,I,D){Ds(d,O+4,1,U,8,q,I,D),Ds(x,$+4,1,U,8,q,I,D)}function ue(){this.ba=new er,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Se(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Pe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Me(){this.ua=0,this.Wa=new vt,this.vb=new vt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new L,this.yc=new A}function Ze(){this.xb=this.a=0,this.l=new Kl,this.ca=new er,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Me,this.ab=0,this.gc=o(4,Pe),this.Oc=0}function ut(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Kl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function pt(d,O,x,$,U,q,I){for(d=d==null?0:d[O+0],O=0;O<I;++O)U[q+O]=d+x[$+O]&255,d=U[q+O]}function Wt(d,O,x,$,U,q,I){var D;if(d==null)pt(null,null,x,$,U,q,I);else for(D=0;D<I;++D)U[q+D]=d[O+D]+x[$+D]&255}function br(d,O,x,$,U,q,I){if(d==null)pt(null,null,x,$,U,q,I);else{var D,M=d[O+0],V=M,se=M;for(D=0;D<I;++D)V=se+(M=d[O+D])-V,se=x[$+D]+(-256&V?0>V?0:255:V)&255,V=M,U[q+D]=se}}function Ir(d,O,x,$){var U=O.width,q=O.o;if(e(d!=null&&O!=null),0>x||0>=$||x+$>q)return null;if(!d.Cc){if(d.ga==null){var I;if(d.ga=new ut,(I=d.ga==null)||(I=O.width*O.o,e(d.Gb.length==0),d.Gb=s(I),d.Uc=0,d.Gb==null?I=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,I=1),I=!I),!I){I=d.ga;var D=d.Fa,M=d.P,V=d.qc,se=d.mb,ge=d.nb,Z=M+1,ce=V-1,fe=I.l;if(e(D!=null&&se!=null&&O!=null),Ro[0]=null,Ro[1]=pt,Ro[2]=Wt,Ro[3]=br,I.ca=se,I.tb=ge,I.c=O.width,I.i=O.height,e(0<I.c&&0<I.i),1>=V)O=0;else if(I.$a=3&D[M+0],I.Z=D[M+0]>>2&3,I.Lc=D[M+0]>>4&3,M=D[M+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||M)O=0;else if(fe.put=at,fe.ac=Hn,fe.bc=Ls,fe.ma=I,fe.width=O.width,fe.height=O.height,fe.Da=O.Da,fe.v=O.v,fe.va=O.va,fe.j=O.j,fe.o=O.o,I.$a)e:{e(I.$a==1),O=Ca();t:for(;;){if(O==null){O=0;break e}if(e(I!=null),I.mc=O,O.c=I.c,O.i=I.i,O.l=I.l,O.l.ma=I,O.l.width=I.c,O.l.height=I.i,O.a=0,oe(O.m,D,Z,ce),!Jn(I.c,I.i,1,O,null)||(O.ab==1&&O.gc[0].hc==3&&Nn(O.s)?(I.ic=1,D=O.c*O.i,O.Ta=null,O.Ua=0,O.V=s(D),O.Ba=0,O.V==null?(O.a=1,O=0):O=1):(I.ic=0,O=Xa(O,I.c)),!O))break t;O=1;break e}I.mc=null,O=0}else O=ce>=I.c*I.i;I=!O}if(I)return null;d.ga.Lc!=1?d.Ga=0:$=q-x}e(d.ga!=null),e(x+$<=q);e:{if(O=(D=d.ga).c,q=D.l.o,D.$a==0){if(Z=d.rc,ce=d.Vc,fe=d.Fa,M=d.P+1+x*O,V=d.mb,se=d.nb+x*O,e(M<=d.P+d.qc),D.Z!=0)for(e(Ro[D.Z]!=null),I=0;I<$;++I)Ro[D.Z](Z,ce,fe,M,V,se,O),Z=V,ce=se,se+=O,M+=O;else for(I=0;I<$;++I)i(V,se,fe,M,O),Z=V,ce=se,se+=O,M+=O;d.rc=Z,d.Vc=ce}else{if(e(D.mc!=null),O=x+$,e((I=D.mc)!=null),e(O<=I.i),I.C>=O)O=1;else if(D.ic||pn(),D.ic){D=I.V,Z=I.Ba,ce=I.c;var xe=I.i,de=(fe=1,M=I.$/ce,V=I.$%ce,se=I.m,ge=I.s,I.$),we=ce*xe,ke=ce*O,Qe=ge.wc,$e=de<ke?ni(ge,V,M):null;e(de<=we),e(O<=xe),e(Nn(ge));t:for(;;){for(;!se.h&&de<ke;){if(V&Qe||($e=ni(ge,V,M)),e($e!=null),le(se),256>(xe=yr($e.G[0],$e.H[0],se)))D[Z+de]=xe,++de,++V>=ce&&(V=0,++M<=O&&!(M%16)&&An(I,M));else{if(!(280>xe)){fe=0;break t}xe=hn(xe-256,se);var He,De=yr($e.G[4],$e.H[4],se);if(le(se),!(de>=(De=un(ce,De=hn(De,se)))&&we-de>=xe)){fe=0;break t}for(He=0;He<xe;++He)D[Z+de+He]=D[Z+de+He-De];for(de+=xe,V+=xe;V>=ce;)V-=ce,++M<=O&&!(M%16)&&An(I,M);de<ke&&V&Qe&&($e=ni(ge,V,M))}e(se.h==B(se))}An(I,M>O?O:M);break t}!fe||se.h&&de<we?(fe=0,I.a=se.h?5:3):I.$=de,O=fe}else O=Tn(I,I.V,I.Ba,I.c,I.i,O,Zl);if(!O){$=0;break e}}x+$>=q&&(d.Cc=1),$=1}if(!$)return null;if(d.Cc&&(($=d.ga)!=null&&($.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+x*U}function ar(d,O,x,$,U,q){for(;0<U--;){var I,D=d,M=O+(x?1:0),V=d,se=O+(x?0:3);for(I=0;I<$;++I){var ge=V[se+4*I];ge!=255&&(ge*=32897,D[M+4*I+0]=D[M+4*I+0]*ge>>23,D[M+4*I+1]=D[M+4*I+1]*ge>>23,D[M+4*I+2]=D[M+4*I+2]*ge>>23)}O+=q}}function Mr(d,O,x,$,U){for(;0<$--;){var q;for(q=0;q<x;++q){var I=d[O+2*q+0],D=15&(V=d[O+2*q+1]),M=4369*D,V=(240&V|V>>4)*M>>16;d[O+2*q+0]=(240&I|I>>4)*M>>16&240|(15&I|I<<4)*M>>16>>4&15,d[O+2*q+1]=240&V|D}O+=U}}function Wr(d,O,x,$,U,q,I,D){var M,V,se=255;for(V=0;V<U;++V){for(M=0;M<$;++M){var ge=d[O+M];q[I+4*M]=ge,se&=ge}O+=x,I+=D}return se!=255}function si(d,O,x,$,U){var q;for(q=0;q<U;++q)x[$+q]=d[O+q]>>8}function pn(){Xh=ar,Xy=Mr,Ey=Wr,Ry=si}function zi(d,O,x){Q[d]=function($,U,q,I,D,M,V,se,ge,Z,ce,fe,xe,de,we,ke,Qe){var $e,He=Qe-1>>1,De=D[M+0]|V[se+0]<<16,Pt=ge[Z+0]|ce[fe+0]<<16;e($!=null);var Fe=3*De+Pt+131074>>2;for(O($[U+0],255&Fe,Fe>>16,xe,de),q!=null&&(Fe=3*Pt+De+131074>>2,O(q[I+0],255&Fe,Fe>>16,we,ke)),$e=1;$e<=He;++$e){var Ct=D[M+$e]|V[se+$e]<<16,Vr=ge[Z+$e]|ce[fe+$e]<<16,jt=De+Ct+Pt+Vr+524296,Ve=jt+2*(Ct+Pt)>>3;Fe=Ve+De>>1,De=(jt=jt+2*(De+Vr)>>3)+Ct>>1,O($[U+2*$e-1],255&Fe,Fe>>16,xe,de+(2*$e-1)*x),O($[U+2*$e-0],255&De,De>>16,xe,de+(2*$e-0)*x),q!=null&&(Fe=jt+Pt>>1,De=Ve+Vr>>1,O(q[I+2*$e-1],255&Fe,Fe>>16,we,ke+(2*$e-1)*x),O(q[I+2*$e+0],255&De,De>>16,we,ke+(2*$e+0)*x)),De=Ct,Pt=Vr}1&Qe||(Fe=3*De+Pt+131074>>2,O($[U+Qe-1],255&Fe,Fe>>16,xe,de+(Qe-1)*x),q!=null&&(Fe=3*Pt+De+131074>>2,O(q[I+Qe-1],255&Fe,Fe>>16,we,ke+(Qe-1)*x)))}}function Uf(){bn[Wf]=C3,bn[Yf]=Fy,bn[Wy]=X3,bn[Df]=Vy,bn[Bf]=Zy,bn[bO]=Gy,bn[Yy]=E3,bn[yO]=Fy,bn[xO]=Vy,bn[Mf]=Zy,bn[wO]=Gy}function ic(d){return d&~R3?0>d?0:255:d>>Hy}function Da(d,O){return ic((19077*d>>8)+(26149*O>>8)-14234)}function Po(d,O,x){return ic((19077*d>>8)-(6419*O>>8)-(13320*x>>8)+8708)}function Ba(d,O){return ic((19077*d>>8)+(33050*O>>8)-17685)}function Ma(d,O,x,$,U){$[U+0]=Da(d,x),$[U+1]=Po(d,O,x),$[U+2]=Ba(d,O)}function Fa(d,O,x,$,U){$[U+0]=Ba(d,O),$[U+1]=Po(d,O,x),$[U+2]=Da(d,x)}function mi(d,O,x,$,U){var q=Po(d,O,x);O=q<<3&224|Ba(d,O)>>3,$[U+0]=248&Da(d,x)|q>>5,$[U+1]=O}function Va(d,O,x,$,U){var q=240&Ba(d,O)|15;$[U+0]=240&Da(d,x)|Po(d,O,x)>>4,$[U+1]=q}function Za(d,O,x,$,U){$[U+0]=255,Ma(d,O,x,$,U+1)}function _h(d,O,x,$,U){Fa(d,O,x,$,U),$[U+3]=255}function kh(d,O,x,$,U){Ma(d,O,x,$,U),$[U+3]=255}function xr(d,O){return 0>d?0:d>O?O:d}function Bs(d,O,x){Q[d]=function($,U,q,I,D,M,V,se,ge){for(var Z=se+(-2&ge)*x;se!=Z;)O($[U+0],q[I+0],D[M+0],V,se),O($[U+1],q[I+0],D[M+0],V,se+x),U+=2,++I,++M,se+=2*x;1&ge&&O($[U+0],q[I+0],D[M+0],V,se)}}function nc(d,O,x){return x==0?d==0?O==0?6:5:O==0?4:0:x}function Lf(d,O,x,$,U){switch(d>>>30){case 3:Ja(O,x,$,U,0);break;case 2:On(O,x,$,U);break;case 1:Mt(O,x,$,U)}}function gn(d,O){var x,$,U=O.M,q=O.Nb,I=d.oc,D=d.pc+40,M=d.oc,V=d.pc+584,se=d.oc,ge=d.pc+600;for(x=0;16>x;++x)I[D+32*x-1]=129;for(x=0;8>x;++x)M[V+32*x-1]=129,se[ge+32*x-1]=129;for(0<U?I[D-1-32]=M[V-1-32]=se[ge-1-32]=129:(n(I,D-32-1,127,21),n(M,V-32-1,127,9),n(se,ge-32-1,127,9)),$=0;$<d.za;++$){var Z=O.ya[O.aa+$];if(0<$){for(x=-1;16>x;++x)i(I,D+32*x-4,I,D+32*x+12,4);for(x=-1;8>x;++x)i(M,V+32*x-4,M,V+32*x+4,4),i(se,ge+32*x-4,se,ge+32*x+4,4)}var ce=d.Gd,fe=d.Hd+$,xe=Z.ad,de=Z.Hc;if(0<U&&(i(I,D-32,ce[fe].y,0,16),i(M,V-32,ce[fe].f,0,8),i(se,ge-32,ce[fe].ea,0,8)),Z.Za){var we=I,ke=D-32+16;for(0<U&&($>=d.za-1?n(we,ke,ce[fe].y[15],4):i(we,ke,ce[fe+1].y,0,4)),x=0;4>x;x++)we[ke+128+x]=we[ke+256+x]=we[ke+384+x]=we[ke+0+x];for(x=0;16>x;++x,de<<=2)we=I,ke=D+Jy[x],Xn[Z.Ob[x]](we,ke),Lf(de,xe,16*+x,we,ke)}else if(we=nc($,U,Z.Ob[0]),Eo[we](I,D),de!=0)for(x=0;16>x;++x,de<<=2)Lf(de,xe,16*+x,I,D+Jy[x]);for(x=Z.Gc,we=nc($,U,Z.Dd),Vs[we](M,V),Vs[we](se,ge),de=xe,we=M,ke=V,255&(Z=0|x)&&(170&Z?is(de,256,we,ke):tr(de,256,we,ke)),Z=se,de=ge,255&(x>>=8)&&(170&x?is(xe,320,Z,de):tr(xe,320,Z,de)),U<d.Ub-1&&(i(ce[fe].y,0,I,D+480,16),i(ce[fe].f,0,M,V+224,8),i(ce[fe].ea,0,se,ge+224,8)),x=8*q*d.B,ce=d.sa,fe=d.ta+16*$+16*q*d.R,xe=d.qa,Z=d.ra+8*$+x,de=d.Ha,we=d.Ia+8*$+x,x=0;16>x;++x)i(ce,fe+x*d.R,I,D+32*x,16);for(x=0;8>x;++x)i(xe,Z+x*d.B,M,V+32*x,8),i(de,we+x*d.B,se,ge+32*x,8)}}function Ga(d,O,x,$,U,q,I,D,M){var V=[0],se=[0],ge=0,Z=M!=null?M.kd:0,ce=M!=null?M:new Se;if(d==null||12>x)return 7;ce.data=d,ce.w=O,ce.ha=x,O=[O],x=[x],ce.gb=[ce.gb];e:{var fe=O,xe=x,de=ce.gb;if(e(d!=null),e(xe!=null),e(de!=null),de[0]=0,12<=xe[0]&&!t(d,fe[0],"RIFF")){if(t(d,fe[0]+8,"WEBP")){de=3;break e}var we=Oe(d,fe[0]+4);if(12>we||4294967286<we){de=3;break e}if(Z&&we>xe[0]-8){de=7;break e}de[0]=we,fe[0]+=12,xe[0]-=12}de=0}if(de!=0)return de;for(we=0<ce.gb[0],x=x[0];;){e:{var ke=d;xe=O,de=x;var Qe=V,$e=se,He=fe=[0];if((Fe=ge=[ge])[0]=0,8>de[0])de=7;else{if(!t(ke,xe[0],"VP8X")){if(Oe(ke,xe[0]+4)!=10){de=3;break e}if(18>de[0]){de=7;break e}var De=Oe(ke,xe[0]+8),Pt=1+pe(ke,xe[0]+12);if(2147483648<=Pt*(ke=1+pe(ke,xe[0]+15))){de=3;break e}He!=null&&(He[0]=De),Qe!=null&&(Qe[0]=Pt),$e!=null&&($e[0]=ke),xe[0]+=18,de[0]-=18,Fe[0]=1}de=0}}if(ge=ge[0],fe=fe[0],de!=0)return de;if(xe=!!(2&fe),!we&&ge)return 3;if(q!=null&&(q[0]=!!(16&fe)),I!=null&&(I[0]=xe),D!=null&&(D[0]=0),I=V[0],fe=se[0],ge&&xe&&M==null){de=0;break}if(4>x){de=7;break}if(we&&ge||!we&&!ge&&!t(d,O[0],"ALPH")){x=[x],ce.na=[ce.na],ce.P=[ce.P],ce.Sa=[ce.Sa];e:{De=d,de=O,we=x;var Fe=ce.gb;Qe=ce.na,$e=ce.P,He=ce.Sa,Pt=22,e(De!=null),e(we!=null),ke=de[0];var Ct=we[0];for(e(Qe!=null),e(He!=null),Qe[0]=null,$e[0]=null,He[0]=0;;){if(de[0]=ke,we[0]=Ct,8>Ct){de=7;break e}var Vr=Oe(De,ke+4);if(4294967286<Vr){de=3;break e}var jt=8+Vr+1&-2;if(Pt+=jt,0<Fe&&Pt>Fe){de=3;break e}if(!t(De,ke,"VP8 ")||!t(De,ke,"VP8L")){de=0;break e}if(Ct[0]<jt){de=7;break e}t(De,ke,"ALPH")||(Qe[0]=De,$e[0]=ke+8,He[0]=Vr),ke+=jt,Ct-=jt}}if(x=x[0],ce.na=ce.na[0],ce.P=ce.P[0],ce.Sa=ce.Sa[0],de!=0)break}x=[x],ce.Ja=[ce.Ja],ce.xa=[ce.xa];e:if(Fe=d,de=O,we=x,Qe=ce.gb[0],$e=ce.Ja,He=ce.xa,De=de[0],ke=!t(Fe,De,"VP8 "),Pt=!t(Fe,De,"VP8L"),e(Fe!=null),e(we!=null),e($e!=null),e(He!=null),8>we[0])de=7;else{if(ke||Pt){if(Fe=Oe(Fe,De+4),12<=Qe&&Fe>Qe-12){de=3;break e}if(Z&&Fe>we[0]-8){de=7;break e}$e[0]=Fe,de[0]+=8,we[0]-=8,He[0]=Pt}else He[0]=5<=we[0]&&Fe[De+0]==47&&!(Fe[De+4]>>5),$e[0]=we[0];de=0}if(x=x[0],ce.Ja=ce.Ja[0],ce.xa=ce.xa[0],O=O[0],de!=0)break;if(4294967286<ce.Ja)return 3;if(D==null||xe||(D[0]=ce.xa?2:1),I=[I],fe=[fe],ce.xa){if(5>x){de=7;break}D=I,Z=fe,xe=q,d==null||5>x?d=0:5<=x&&d[O+0]==47&&!(d[O+4]>>5)?(we=[0],Fe=[0],Qe=[0],oe($e=new Y,d,O,x),zs($e,we,Fe,Qe)?(D!=null&&(D[0]=we[0]),Z!=null&&(Z[0]=Fe[0]),xe!=null&&(xe[0]=Qe[0]),d=1):d=0):d=0}else{if(10>x){de=7;break}D=fe,d==null||10>x||!jf(d,O+3,x-3)?d=0:(Z=d[O+0]|d[O+1]<<8|d[O+2]<<16,xe=16383&(d[O+7]<<8|d[O+6]),d=16383&(d[O+9]<<8|d[O+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=ce.Ja||!xe||!d?d=0:(I&&(I[0]=xe),D&&(D[0]=d),d=1))}if(!d||(I=I[0],fe=fe[0],ge&&(V[0]!=I||se[0]!=fe)))return 3;M!=null&&(M[0]=ce,M.offset=O-M.w,e(4294967286>O-M.w),e(M.offset==M.ha-x));break}return de==0||de==7&&ge&&M==null?(q!=null&&(q[0]|=ce.na!=null&&0<ce.na.length),$!=null&&($[0]=I),U!=null&&(U[0]=fe),0):de}function $h(d,O,x){var $=O.width,U=O.height,q=0,I=0,D=$,M=U;if(O.Da=d!=null&&0<d.Da,O.Da&&(D=d.cd,M=d.bd,q=d.v,I=d.j,11>x||(q&=-2,I&=-2),0>q||0>I||0>=D||0>=M||q+D>$||I+M>U))return 0;if(O.v=q,O.j=I,O.va=q+D,O.o=I+M,O.U=D,O.T=M,O.da=d!=null&&0<d.da,O.da){if(!st(D,M,x=[d.ib],q=[d.hb]))return 0;O.ib=x[0],O.hb=q[0]}return O.ob=d!=null&&d.ob,O.Kb=d==null||!d.Sd,O.da&&(O.ob=O.ib<3*$/4&&O.hb<3*U/4,O.Kb=0),1}function Ph(d){if(d==null)return 2;if(11>d.S){var O=d.f.RGBA;O.fb+=(d.height-1)*O.A,O.A=-O.A}else O=d.f.kb,d=d.height,O.O+=(d-1)*O.fa,O.fa=-O.fa,O.N+=(d-1>>1)*O.Ab,O.Ab=-O.Ab,O.W+=(d-1>>1)*O.Db,O.Db=-O.Db,O.F!=null&&(O.J+=(d-1)*O.lb,O.lb=-O.lb);return 0}function jo(d,O,x,$){if($==null||0>=d||0>=O)return 2;if(x!=null){if(x.Da){var U=x.cd,q=x.bd,I=-2&x.v,D=-2&x.j;if(0>I||0>D||0>=U||0>=q||I+U>d||D+q>O)return 2;d=U,O=q}if(x.da){if(!st(d,O,U=[x.ib],q=[x.hb]))return 2;d=U[0],O=q[0]}}$.width=d,$.height=O;e:{var M=$.width,V=$.height;if(d=$.S,0>=M||0>=V||!(d>=Wf&&13>d))d=2;else{if(0>=$.Rd&&$.sd==null){I=q=U=O=0;var se=(D=M*ex[d])*V;if(11>d||(q=(V+1)/2*(O=(M+1)/2),d==12&&(I=(U=M)*V)),(V=s(se+2*q+I))==null){d=1;break e}$.sd=V,11>d?((M=$.f.RGBA).eb=V,M.fb=0,M.A=D,M.size=se):((M=$.f.kb).y=V,M.O=0,M.fa=D,M.Fd=se,M.f=V,M.N=0+se,M.Ab=O,M.Cd=q,M.ea=V,M.W=0+se+q,M.Db=O,M.Ed=q,d==12&&(M.F=V,M.J=0+se+2*q),M.Tc=I,M.lb=U)}if(O=1,U=$.S,q=$.width,I=$.height,U>=Wf&&13>U)if(11>U)d=$.f.RGBA,O&=(D=Math.abs(d.A))*(I-1)+q<=d.size,O&=D>=q*ex[U],O&=d.eb!=null;else{d=$.f.kb,D=(q+1)/2,se=(I+1)/2,M=Math.abs(d.fa),V=Math.abs(d.Ab);var ge=Math.abs(d.Db),Z=Math.abs(d.lb),ce=Z*(I-1)+q;O&=M*(I-1)+q<=d.Fd,O&=V*(se-1)+D<=d.Cd,O=(O&=ge*(se-1)+D<=d.Ed)&M>=q&V>=D&ge>=D,O&=d.y!=null,O&=d.f!=null,O&=d.ea!=null,U==12&&(O&=Z>=q,O&=ce<=d.Tc,O&=d.F!=null)}else O=0;d=O?0:2}}return d!=0||x!=null&&x.fd&&(d=Ph($)),d}var Ha=64,Fi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vi=24,Qo=32,Ms=8,No=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),Q.Predictor0=function(){return 4278190080},Q.Predictor1=function(d){return d},Q.Predictor2=function(d,O,x){return O[x+0]},Q.Predictor3=function(d,O,x){return O[x+1]},Q.Predictor4=function(d,O,x){return O[x-1]},Q.Predictor5=function(d,O,x){return it(it(d,O[x+1]),O[x+0])},Q.Predictor6=function(d,O,x){return it(d,O[x-1])},Q.Predictor7=function(d,O,x){return it(d,O[x+0])},Q.Predictor8=function(d,O,x){return it(O[x-1],O[x+0])},Q.Predictor9=function(d,O,x){return it(O[x+0],O[x+1])},Q.Predictor10=function(d,O,x){return it(it(d,O[x-1]),it(O[x+0],O[x+1]))},Q.Predictor11=function(d,O,x){var $=O[x+0];return 0>=mt($>>24&255,d>>24&255,(O=O[x-1])>>24&255)+mt($>>16&255,d>>16&255,O>>16&255)+mt($>>8&255,d>>8&255,O>>8&255)+mt(255&$,255&d,255&O)?$:d},Q.Predictor12=function(d,O,x){var $=O[x+0];return(qt((d>>24&255)+($>>24&255)-((O=O[x-1])>>24&255))<<24|qt((d>>16&255)+($>>16&255)-(O>>16&255))<<16|qt((d>>8&255)+($>>8&255)-(O>>8&255))<<8|qt((255&d)+(255&$)-(255&O)))>>>0},Q.Predictor13=function(d,O,x){var $=O[x-1];return(Ot((d=it(d,O[x+0]))>>24&255,$>>24&255)<<24|Ot(d>>16&255,$>>16&255)<<16|Ot(d>>8&255,$>>8&255)<<8|Ot(255&d,255&$))>>>0};var jh=Q.PredictorAdd0;Q.PredictorAdd1=Ht,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var sc=Q.PredictorAdd2;rt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Ar,zf=Q.ColorIndexInverseTransform,ts=Q.MapARGB,rs=Q.VP8LColorIndexInverseTransformAlpha,Qh=Q.MapAlpha,Nh=Q.VP8LPredictorsAdd=[];Nh.length=16,(Q.VP8LPredictors=[]).length=16,(Q.VP8LPredictorsAdd_C=[]).length=16,(Q.VP8LPredictors_C=[]).length=16;var Ah,Th,Ao,To,Co,Ka,Xo,Ja,On,is,Mt,tr,Tr,Fr,Fs,Ch,oc,qf,jy,Qy,Ny,Ay,Ty,Cy,Xh,Xy,Ey,Ry,Uy=s(511),Ly=s(2041),zy=s(225),qy=s(767),Iy=0,mO=Ly,If=zy,Zi=qy,mn=Uy,Wf=0,Yf=1,Wy=2,Df=3,Bf=4,bO=5,Yy=6,yO=7,xO=8,Mf=9,wO=10,y3=[2,3,7],x3=[3,3,11],Dy=[280,256,256,256,40],w3=[0,1,1,1,0],v3=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],S3=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],_3=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],k3=8,vO=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],SO=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Eh=null,$3=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],P3=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],By=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],j3=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Q3=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],N3=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],A3=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Eo=[],Xn=[],Vs=[],T3=1,My=2,Ro=[],bn=[];zi("UpsampleRgbLinePair",Ma,3),zi("UpsampleBgrLinePair",Fa,3),zi("UpsampleRgbaLinePair",kh,4),zi("UpsampleBgraLinePair",_h,4),zi("UpsampleArgbLinePair",Za,4),zi("UpsampleRgba4444LinePair",Va,2),zi("UpsampleRgb565LinePair",mi,2);var C3=Q.UpsampleRgbLinePair,X3=Q.UpsampleBgrLinePair,Fy=Q.UpsampleRgbaLinePair,Vy=Q.UpsampleBgraLinePair,Zy=Q.UpsampleArgbLinePair,Gy=Q.UpsampleRgba4444LinePair,E3=Q.UpsampleRgb565LinePair,Ff=16,Vf=1<<Ff-1,Rh=-227,_O=482,Hy=6,R3=(256<<Hy)-1,Ky=0,U3=s(256),L3=s(256),z3=s(256),q3=s(256),I3=s(_O-Rh),W3=s(_O-Rh);Bs("YuvToRgbRow",Ma,3),Bs("YuvToBgrRow",Fa,3),Bs("YuvToRgbaRow",kh,4),Bs("YuvToBgraRow",_h,4),Bs("YuvToArgbRow",Za,4),Bs("YuvToRgba4444Row",Va,2),Bs("YuvToRgb565Row",mi,2);var Jy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zf=[0,2,8],Y3=[8,7,6,4,4,2,2,2,1,1,1,1],D3=1;this.WebPDecodeRGBA=function(d,O,x,$,U){var q=Yf,I=new ue,D=new er;I.ba=D,D.S=q,D.width=[D.width],D.height=[D.height];var M=D.width,V=D.height,se=new ft;if(se==null||d==null)var ge=2;else e(se!=null),ge=Ga(d,O,x,se.width,se.height,se.Pd,se.Qd,se.format,null);if(ge!=0?M=0:(M!=null&&(M[0]=se.width[0]),V!=null&&(V[0]=se.height[0]),M=1),M){D.width=D.width[0],D.height=D.height[0],$!=null&&($[0]=D.width),U!=null&&(U[0]=D.height);e:{if($=new Kl,(U=new Se).data=d,U.w=O,U.ha=x,U.kd=1,O=[0],e(U!=null),((d=Ga(U.data,U.w,U.ha,null,null,null,O,null,U))==0||d==7)&&O[0]&&(d=4),(O=d)==0){if(e(I!=null),$.data=U.data,$.w=U.w+U.offset,$.ha=U.ha-U.offset,$.put=at,$.ac=Hn,$.bc=Ls,$.ma=I,U.xa){if((d=Ca())==null){I=1;break e}if(function(Z,ce){var fe=[0],xe=[0],de=[0];t:for(;;){if(Z==null)return 0;if(ce==null)return Z.a=2,0;if(Z.l=ce,Z.a=0,oe(Z.m,ce.data,ce.w,ce.ha),!zs(Z.m,fe,xe,de)){Z.a=3;break t}if(Z.xb=My,ce.width=fe[0],ce.height=xe[0],!Jn(fe[0],xe[0],1,Z,null))break t;return 1}return e(Z.a!=0),0}(d,$)){if($=(O=jo($.width,$.height,I.Oa,I.ba))==0){t:{$=d;r:for(;;){if($==null){$=0;break t}if(e($.s.yc!=null),e($.s.Ya!=null),e(0<$.s.Wb),e((x=$.l)!=null),e((U=x.ma)!=null),$.xb!=0){if($.ca=U.ba,$.tb=U.tb,e($.ca!=null),!$h(U.Oa,x,Df)){$.a=2;break r}if(!Xa($,x.width)||x.da)break r;if((x.da||yt($.ca.S))&&pn(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&pn()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!J($.s.vb,$.s.Wa.Xa)){$.a=1;break r}$.xb=0}if(!Tn($,$.V,$.Ba,$.c,$.i,x.o,_o))break r;U.Dc=$.Ma,$=1;break t}e($.a!=0),$=0}$=!$}$&&(O=d.a)}else O=d.a}else{if((d=new rO)==null){I=1;break e}if(d.Fa=U.na,d.P=U.P,d.qc=U.Sa,Qf(d,$)){if((O=jo($.width,$.height,I.Oa,I.ba))==0){if(d.Aa=0,x=I.Oa,e((U=d)!=null),x!=null){if(0<(M=0>(M=x.Md)?0:100<M?255:255*M/100)){for(V=se=0;4>V;++V)12>(ge=U.pb[V]).lc&&(ge.ia=M*Y3[0>ge.lc?0:ge.lc]>>3),se|=ge.ia;se&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=x.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(Z,ce){if(Z==null)return 0;if(ce==null)return qr(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!Qf(Z,ce))return 0;if(e(Z.cb),ce.ac==null||ce.ac(ce)){ce.ob&&(Z.L=0);var fe=Zf[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=ce.v-fe>>4,Z.zb=ce.j-fe>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=ce.o+15+fe>>4,Z.Hb=ce.va+15+fe>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var xe=Z.ed;for(fe=0;4>fe;++fe){var de;if(Z.Qa.Cb){var we=Z.Qa.Lb[fe];Z.Qa.Fb||(we+=xe.Tb)}else we=xe.Tb;for(de=0;1>=de;++de){var ke=Z.gd[fe][de],Qe=we;if(xe.Pc&&(Qe+=xe.vd[0],de&&(Qe+=xe.od[0])),0<(Qe=0>Qe?0:63<Qe?63:Qe)){var $e=Qe;0<xe.wb&&($e=4<xe.wb?$e>>2:$e>>1)>9-xe.wb&&($e=9-xe.wb),1>$e&&($e=1),ke.dd=$e,ke.tc=2*Qe+$e,ke.ld=40<=Qe?2:15<=Qe?1:0}else ke.tc=0;ke.La=de}}}fe=0}else qr(Z,6,"Frame setup failed"),fe=Z.a;if(fe=fe==0){if(fe){Z.$c=0,0<Z.Aa||(Z.Ic=D3);t:{fe=Z.Ic,xe=4*($e=Z.za);var He=32*$e,De=$e+1,Pt=0<Z.L?$e*(0<Z.Aa?2:1):0,Fe=(Z.Aa==2?2:1)*$e;if((ke=xe+832+(de=3*(16*fe+Zf[Z.L])/2*He)+(we=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=ke)fe=0;else{if(ke>Z.Vb){if(Z.Vb=0,Z.Ec=s(ke),Z.Fc=0,Z.Ec==null){fe=qr(Z,1,"no memory during frame initialization.");break t}Z.Vb=ke}ke=Z.Ec,Qe=Z.Fc,Z.Ac=ke,Z.Bc=Qe,Qe+=xe,Z.Gd=o(He,$f),Z.Hd=0,Z.rb=o(De+1,dh),Z.sb=1,Z.wa=Pt?o(Pt,dn):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=$e),e(!0),Z.oc=ke,Z.pc=Qe,Qe+=832,Z.ya=o(Fe,ph),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=$e),Z.R=16*$e,Z.B=8*$e,$e=(He=Zf[Z.L])*Z.R,He=He/2*Z.B,Z.sa=ke,Z.ta=Qe+$e,Z.qa=Z.sa,Z.ra=Z.ta+16*fe*Z.R+He,Z.Ha=Z.qa,Z.Ia=Z.ra+8*fe*Z.B+He,Z.$c=0,Qe+=de,Z.mb=we?ke:null,Z.nb=we?Qe:null,e(Qe+we<=Z.Fc+Z.Vb),Ea(Z),n(Z.Ac,Z.Bc,0,xe),fe=1}}if(fe){if(ce.ka=0,ce.y=Z.sa,ce.O=Z.ta,ce.f=Z.qa,ce.N=Z.ra,ce.ea=Z.Ha,ce.Vd=Z.Ia,ce.fa=Z.R,ce.Rc=Z.B,ce.F=null,ce.J=0,!Iy){for(fe=-255;255>=fe;++fe)Uy[255+fe]=0>fe?-fe:fe;for(fe=-1020;1020>=fe;++fe)Ly[1020+fe]=-128>fe?-128:127<fe?127:fe;for(fe=-112;112>=fe;++fe)zy[112+fe]=-16>fe?-16:15<fe?15:fe;for(fe=-255;510>=fe;++fe)qy[255+fe]=0>fe?0:255<fe?255:fe;Iy=1}Xo=Af,Ja=nO,is=sO,Mt=es,tr=Nf,On=iO,Tr=Xf,Fr=Ef,Fs=b,Ch=R,oc=Ya,qf=Rf,jy=G,Qy=ne,Ny=Sh,Ay=Wa,Ty=Tf,Cy=Cf,Xn[0]=fO,Xn[1]=Oh,Xn[2]=hO,Xn[3]=uO,Xn[4]=dO,Xn[5]=Ws,Xn[6]=Is,Xn[7]=pO,Xn[8]=Jl,Xn[9]=gO,Eo[0]=$o,Eo[1]=aO,Eo[2]=lO,Eo[3]=mh,Eo[4]=cO,Eo[5]=La,Eo[6]=bh,Vs[0]=tc,Vs[1]=oO,Vs[2]=yh,Vs[3]=za,Vs[4]=xh,Vs[5]=OO,Vs[6]=wh,fe=1}else fe=0}fe&&(fe=function(Ct,Vr){for(Ct.M=0;Ct.M<Ct.Va;++Ct.M){var jt,Ve=Ct.Jc[Ct.M&Ct.Xb],Ee=Ct.m,Cr=Ct;for(jt=0;jt<Cr.za;++jt){var xt=Ee,Rt=Cr,hr=Rt.Ac,oi=Rt.Bc+4*jt,Ai=Rt.zc,wr=Rt.ya[Rt.aa+jt];if(Rt.Qa.Bb?wr.$b=_e(xt,Rt.Pa.jb[0])?2+_e(xt,Rt.Pa.jb[2]):_e(xt,Rt.Pa.jb[1]):wr.$b=0,Rt.kc&&(wr.Ad=_e(xt,Rt.Bd)),wr.Za=!_e(xt,145)+0,wr.Za){var bi=wr.Ob,Ti=0;for(Rt=0;4>Rt;++Rt){var Zr,Lt=Ai[0+Rt];for(Zr=0;4>Zr;++Zr){Lt=Q3[hr[oi+Zr]][Lt];for(var Ft=By[_e(xt,Lt[0])];0<Ft;)Ft=By[2*Ft+_e(xt,Lt[Ft])];Lt=-Ft,hr[oi+Zr]=Lt}i(bi,Ti,hr,oi,4),Ti+=4,Ai[0+Rt]=Lt}}else Lt=_e(xt,156)?_e(xt,128)?1:3:_e(xt,163)?2:0,wr.Ob[0]=Lt,n(hr,oi,Lt,4),n(Ai,0,Lt,4);wr.Dd=_e(xt,142)?_e(xt,114)?_e(xt,183)?1:3:2:0}if(Cr.m.Ka)return qr(Ct,7,"Premature end-of-partition0 encountered.");for(;Ct.ja<Ct.za;++Ct.ja){if(Cr=Ve,xt=(Ee=Ct).rb[Ee.sb-1],hr=Ee.rb[Ee.sb+Ee.ja],jt=Ee.ya[Ee.aa+Ee.ja],oi=Ee.kc?jt.Ad:0)xt.la=hr.la=0,jt.Za||(xt.Na=hr.Na=0),jt.Hc=0,jt.Gc=0,jt.ia=0;else{var vr,Vt;if(xt=hr,hr=Cr,oi=Ee.Pa.Xc,Ai=Ee.ya[Ee.aa+Ee.ja],wr=Ee.pb[Ai.$b],Rt=Ai.ad,bi=0,Ti=Ee.rb[Ee.sb-1],Lt=Zr=0,n(Rt,bi,0,384),Ai.Za)var ai=0,En=oi[3];else{Ft=s(16);var Xr=xt.Na+Ti.Na;if(Xr=Eh(hr,oi[1],Xr,wr.Eb,0,Ft,0),xt.Na=Ti.Na=(0<Xr)+0,1<Xr)Xo(Ft,0,Rt,bi);else{var qi=Ft[0]+3>>3;for(Ft=0;256>Ft;Ft+=16)Rt[bi+Ft]=qi}ai=1,En=oi[0]}var rr=15&xt.la,Gr=15&Ti.la;for(Ft=0;4>Ft;++Ft){var Gi=1&Gr;for(qi=Vt=0;4>qi;++qi)rr=rr>>1|(Gi=(Xr=Eh(hr,En,Xr=Gi+(1&rr),wr.Sc,ai,Rt,bi))>ai)<<7,Vt=Vt<<2|(3<Xr?3:1<Xr?2:Rt[bi+0]!=0),bi+=16;rr>>=4,Gr=Gr>>1|Gi<<7,Zr=(Zr<<8|Vt)>>>0}for(En=rr,ai=Gr>>4,vr=0;4>vr;vr+=2){for(Vt=0,rr=xt.la>>4+vr,Gr=Ti.la>>4+vr,Ft=0;2>Ft;++Ft){for(Gi=1&Gr,qi=0;2>qi;++qi)Xr=Gi+(1&rr),rr=rr>>1|(Gi=0<(Xr=Eh(hr,oi[2],Xr,wr.Qc,0,Rt,bi)))<<3,Vt=Vt<<2|(3<Xr?3:1<Xr?2:Rt[bi+0]!=0),bi+=16;rr>>=2,Gr=Gr>>1|Gi<<5}Lt|=Vt<<4*vr,En|=rr<<4<<vr,ai|=(240&Gr)<<vr}xt.la=En,Ti.la=ai,Ai.Hc=Zr,Ai.Gc=Lt,Ai.ia=43690&Lt?0:wr.ia,oi=!(Zr|Lt)}if(0<Ee.L&&(Ee.wa[Ee.Y+Ee.ja]=Ee.gd[jt.$b][jt.Za],Ee.wa[Ee.Y+Ee.ja].La|=!oi),Cr.Ka)return qr(Ct,7,"Premature end-of-file encountered.")}if(Ea(Ct),Ee=Vr,Cr=1,jt=(Ve=Ct).D,xt=0<Ve.L&&Ve.M>=Ve.zb&&Ve.M<=Ve.Va,Ve.Aa==0)t:{if(jt.M=Ve.M,jt.uc=xt,gn(Ve,jt),Cr=1,jt=(Vt=Ve.D).Nb,xt=(Lt=Zf[Ve.L])*Ve.R,hr=Lt/2*Ve.B,Ft=16*jt*Ve.R,qi=8*jt*Ve.B,oi=Ve.sa,Ai=Ve.ta-xt+Ft,wr=Ve.qa,Rt=Ve.ra-hr+qi,bi=Ve.Ha,Ti=Ve.Ia-hr+qi,Gr=(rr=Vt.M)==0,Zr=rr>=Ve.Va-1,Ve.Aa==2&&gn(Ve,Vt),Vt.uc)for(Gi=(Xr=Ve).D.M,e(Xr.D.uc),Vt=Xr.yb;Vt<Xr.Hb;++Vt){ai=Vt,En=Gi;var Ci=(Hi=(li=Xr).D).Nb;vr=li.R;var Hi=Hi.wa[Hi.Y+ai],Ki=li.sa,Ii=li.ta+16*Ci*vr+16*ai,Ji=Hi.dd,lr=Hi.tc;if(lr!=0)if(e(3<=lr),li.L==1)0<ai&&Ay(Ki,Ii,vr,lr+4),Hi.La&&Cy(Ki,Ii,vr,lr),0<En&&Ny(Ki,Ii,vr,lr+4),Hi.La&&Ty(Ki,Ii,vr,lr);else{var en=li.B,Rn=li.qa,el=li.ra+8*Ci*en+8*ai,Zs=li.Ha,li=li.Ia+8*Ci*en+8*ai;Ci=Hi.ld,0<ai&&(Fr(Ki,Ii,vr,lr+4,Ji,Ci),Ch(Rn,el,Zs,li,en,lr+4,Ji,Ci)),Hi.La&&(qf(Ki,Ii,vr,lr,Ji,Ci),Qy(Rn,el,Zs,li,en,lr,Ji,Ci)),0<En&&(Tr(Ki,Ii,vr,lr+4,Ji,Ci),Fs(Rn,el,Zs,li,en,lr+4,Ji,Ci)),Hi.La&&(oc(Ki,Ii,vr,lr,Ji,Ci),jy(Rn,el,Zs,li,en,lr,Ji,Ci))}}if(Ve.ia&&alert("todo:DitherRow"),Ee.put!=null){if(Vt=16*rr,rr=16*(rr+1),Gr?(Ee.y=Ve.sa,Ee.O=Ve.ta+Ft,Ee.f=Ve.qa,Ee.N=Ve.ra+qi,Ee.ea=Ve.Ha,Ee.W=Ve.Ia+qi):(Vt-=Lt,Ee.y=oi,Ee.O=Ai,Ee.f=wr,Ee.N=Rt,Ee.ea=bi,Ee.W=Ti),Zr||(rr-=Lt),rr>Ee.o&&(rr=Ee.o),Ee.F=null,Ee.J=null,Ve.Fa!=null&&0<Ve.Fa.length&&Vt<rr&&(Ee.J=Ir(Ve,Ee,Vt,rr-Vt),Ee.F=Ve.mb,Ee.F==null&&Ee.F.length==0)){Cr=qr(Ve,3,"Could not decode alpha data.");break t}Vt<Ee.j&&(Lt=Ee.j-Vt,Vt=Ee.j,e(!(1&Lt)),Ee.O+=Ve.R*Lt,Ee.N+=Ve.B*(Lt>>1),Ee.W+=Ve.B*(Lt>>1),Ee.F!=null&&(Ee.J+=Ee.width*Lt)),Vt<rr&&(Ee.O+=Ee.v,Ee.N+=Ee.v>>1,Ee.W+=Ee.v>>1,Ee.F!=null&&(Ee.J+=Ee.v),Ee.ka=Vt-Ee.j,Ee.U=Ee.va-Ee.v,Ee.T=rr-Vt,Cr=Ee.put(Ee))}jt+1!=Ve.Ic||Zr||(i(Ve.sa,Ve.ta-xt,oi,Ai+16*Ve.R,xt),i(Ve.qa,Ve.ra-hr,wr,Rt+8*Ve.B,hr),i(Ve.Ha,Ve.Ia-hr,bi,Ti+8*Ve.B,hr))}if(!Cr)return qr(Ct,6,"Output aborted.")}return 1}(Z,ce)),ce.bc!=null&&ce.bc(ce),fe&=1}return fe?(Z.cb=0,fe):0})(d,$)||(O=d.a)}}else O=d.a}O==0&&I.Oa!=null&&I.Oa.fd&&(O=Ph(I.ba))}I=O}q=I!=0?null:11>q?D.f.RGBA.eb:D.f.kb.y}else q=null;return q};var ex=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(Q,W){for(var _="",w=0;w<4;w++)_+=String.fromCharCode(Q[W++]);return _}function h(Q,W){return Q[W+0]|Q[W+1]<<8}function f(Q,W){return(Q[W+0]|Q[W+1]<<8|Q[W+2]<<16)>>>0}function g(Q,W){return(Q[W+0]|Q[W+1]<<8|Q[W+2]<<16|Q[W+3]<<24)>>>0}new l;var p=[0],m=[0],y=[],v=new l,S=r,C=function(Q,W){var _={},w=0,A=!1,j=0,L=0;if(_.frames=[],!function(N,Y){for(var F=0;F<4;F++)if(N[Y+F]!="RIFF".charCodeAt(F))return!0;return!1}(Q,W)){for(g(Q,W+=4),W+=8;W<Q.length;){var K=c(Q,W),re=g(Q,W+=4);W+=4;var te=re+(1&re);switch(K){case"VP8 ":case"VP8L":_.frames[w]===void 0&&(_.frames[w]={}),(ae=_.frames[w]).src_off=A?L:W-8,ae.src_size=j+re+8,w++,A&&(A=!1,j=0,L=0);break;case"VP8X":(ae=_.header={}).feature_flags=Q[W];var oe=W+4;ae.canvas_width=1+f(Q,oe),oe+=3,ae.canvas_height=1+f(Q,oe),oe+=3;break;case"ALPH":A=!0,j=te+8,L=W-8;break;case"ANIM":(ae=_.header).bgcolor=g(Q,W),oe=W+4,ae.loop_count=h(Q,oe),oe+=2;break;case"ANMF":var ve,ae;(ae=_.frames[w]={}).offset_x=2*f(Q,W),W+=3,ae.offset_y=2*f(Q,W),W+=3,ae.width=1+f(Q,W),W+=3,ae.height=1+f(Q,W),W+=3,ae.duration=f(Q,W),W+=3,ve=Q[W++],ae.dispose=1&ve,ae.blend=ve>>1&1}K!="ANMF"&&(W+=te)}return _}}(S,0);C.response=S,C.rgbaoutput=!0,C.dataurl=!1;var P=C.header?C.header:null,X=C.frames?C.frames:null;if(P){P.loop_counter=P.loop_count,p=[P.canvas_height],m=[P.canvas_width];for(var T=0;T<X.length&&X[T].blend!=0;T++);}var E=X[0],k=v.WebPDecodeRGBA(S,E.src_off,E.src_size,m,p);E.rgba=k,E.imgwidth=m[0],E.imgheight=p[0];for(var z=0;z<m[0]*p[0]*4;z++)y[z]=k[z];return this.width=m,this.height=p,this.data=y,this}(function(r){var e,t,i,n,s,o,a,l,c,h=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new l,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new o,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new o,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var f=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=N;Object.defineProperty(this,"pdf",{get:function(){return Y}});var F=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return F},set:function(Oe){F=!!Oe}});var B=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return B},set:function(Oe){B=!!Oe}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(Oe){isNaN(Oe)||(ee=Oe)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Oe){isNaN(Oe)||(le=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Oe){var J;typeof Oe=="number"?J=[Oe,Oe,Oe,Oe]:((J=new Array(4))[0]=Oe[0],J[1]=Oe.length>=2?Oe[1]:J[0],J[2]=Oe.length>=3?Oe[2]:J[0],J[3]=Oe.length>=4?Oe[3]:J[1]),c.margin=J}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(Oe){be=Oe}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(Oe){me=Oe}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(Oe){_e=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Oe){Oe instanceof h&&(c=Oe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Oe){c.path=Oe}});var he=[];Object.defineProperty(this,"ctxStack",{get:function(){return he},set:function(Oe){he=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var J;J=g(Oe),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var J=g(Oe);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var je=null,pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return pe},set:function(Oe){je=null,pe=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var J;if(this.ctx.font=Oe,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var At=J[1];J[2];var vt=J[3],st=J[4];J[5];var Ne=J[6],Je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(st)[2];st=Math.floor(Je==="px"?parseFloat(st)*this.pdf.internal.scaleFactor:Je==="em"?parseFloat(st)*this.pdf.getFontSize():parseFloat(st)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(st);var We=function(ct){var rt,or,It=[],Ge=ct.trim();if(Ge==="")return S0;if(Ge in cw)return[cw[Ge]];for(;Ge!=="";){switch(or=null,rt=(Ge=uw(Ge)).charAt(0)){case'"':case"'":or=H8(Ge.substring(1),rt);break;default:or=K8(Ge)}if(or===null||(It.push(or[0]),(Ge=uw(or[1]))!==""&&Ge.charAt(0)!==","))return S0;Ge=Ge.replace(/^,/,"")}return It}(Ne);if(this.fontFaces){var St=function(ct,rt){if(je===null){var or=function(It){var Ge=[];return Object.keys(It).forEach(function(bt){It[bt].forEach(function(Jt){var ot=null;switch(Jt){case"bold":ot={family:bt,weight:"bold"};break;case"italic":ot={family:bt,style:"italic"};break;case"bolditalic":ot={family:bt,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:bt}}ot!==null&&(ot.ref={name:bt,style:Jt},Ge.push(ot))})}),Ge}(ct.getFontList());je=function(It){for(var Ge={},bt=0;bt<It.length;++bt){var Jt=v0(It[bt]),ot=Jt.family,Tt=Jt.stretch,yt=Jt.style,Qr=Jt.weight;Ge[ot]=Ge[ot]||{},Ge[ot][Tt]=Ge[ot][Tt]||{},Ge[ot][Tt][yt]=Ge[ot][Tt][yt]||{},Ge[ot][Tt][yt][Qr]=Jt}return Ge}(or.concat(rt))}return je}(this.pdf,this.fontFaces),it=We.map(function(ct){return{family:ct,stretch:"normal",weight:vt,style:At}}),qt=function(ct,rt,or){for(var It=(or=or||{}).defaultFontFamily||"times",Ge=Object.assign({},G8,or.genericFontFamilies||{}),bt=null,Jt=null,ot=0;ot<rt.length;++ot)if(Ge[(bt=v0(rt[ot])).family]&&(bt.family=Ge[bt.family]),ct.hasOwnProperty(bt.family)){Jt=ct[bt.family];break}if(!(Jt=Jt||ct[It]))throw new Error("Could not find a font-family for the rule '"+hw(bt)+"' and default family '"+It+"'.");if(Jt=function(Tt,yt){if(yt[Tt])return yt[Tt];var Qr=Mm[Tt],Br=Qr<=Mm.normal?-1:1,er=lw(yt,dk,Qr,Br);if(!er)throw new Error("Could not find a matching font-stretch value for "+Tt);return er}(bt.stretch,Jt),Jt=function(Tt,yt){if(yt[Tt])return yt[Tt];for(var Qr=fk[Tt],Br=0;Br<Qr.length;++Br)if(yt[Qr[Br]])return yt[Qr[Br]];throw new Error("Could not find a matching font-style for "+Tt)}(bt.style,Jt),!(Jt=function(Tt,yt){if(yt[Tt])return yt[Tt];if(Tt===400&&yt[500])return yt[500];if(Tt===500&&yt[400])return yt[400];var Qr=Z8[Tt],Br=lw(yt,pk,Qr,Tt<400?-1:1);if(!Br)throw new Error("Could not find a matching font-weight for value "+Tt);return Br}(bt.weight,Jt)))throw new Error("Failed to resolve a font for the rule '"+hw(bt)+"'.");return Jt}(St,it);this.pdf.setFont(qt.ref.name,qt.ref.style)}else{var Ot="";(vt==="bold"||parseInt(vt,10)>=700||At==="bold")&&(Ot="bold"),At==="italic"&&(Ot+="italic"),Ot.length===0&&(Ot="normal");for(var mt="",Ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_t=0;_t<We.length;_t++){if(this.pdf.internal.getFont(We[_t],Ot,{noFallback:!0,disableWarning:!0})!==void 0){mt=We[_t];break}if(Ot==="bolditalic"&&this.pdf.internal.getFont(We[_t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)mt=We[_t],Ot="bold";else if(this.pdf.internal.getFont(We[_t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){mt=We[_t],Ot="normal";break}}if(mt===""){for(var tt=0;tt<We.length;tt++)if(Ht[We[tt]]){mt=Ht[We[tt]];break}}mt=mt===""?"Times":mt,this.pdf.setFont(mt,Ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};f.prototype.setLineDash=function(N){this.lineDash=N},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){X.call(this,"fill",!1)},f.prototype.stroke=function(){X.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(N,Y){if(isNaN(N)||isNaN(Y))throw ir.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var F=this.ctx.transform.applyToPoint(new o(N,Y));this.path.push({type:"mt",x:F.x,y:F.y}),this.ctx.lastPoint=new o(N,Y)},f.prototype.closePath=function(){var N=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Gt(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){N=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(N.x,N.y)},f.prototype.lineTo=function(N,Y){if(isNaN(N)||isNaN(Y))throw ir.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var F=this.ctx.transform.applyToPoint(new o(N,Y));this.path.push({type:"lt",x:F.x,y:F.y}),this.ctx.lastPoint=new o(F.x,F.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),X.call(this,null,!0)},f.prototype.quadraticCurveTo=function(N,Y,F,B){if(isNaN(F)||isNaN(B)||isNaN(N)||isNaN(Y))throw ir.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new o(F,B)),le=this.ctx.transform.applyToPoint(new o(N,Y));this.path.push({type:"qct",x1:le.x,y1:le.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},f.prototype.bezierCurveTo=function(N,Y,F,B,ee,le){if(isNaN(ee)||isNaN(le)||isNaN(N)||isNaN(Y)||isNaN(F)||isNaN(B))throw ir.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new o(ee,le)),me=this.ctx.transform.applyToPoint(new o(N,Y)),_e=this.ctx.transform.applyToPoint(new o(F,B));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:_e.x,y2:_e.y,x:be.x,y:be.y}),this.ctx.lastPoint=new o(be.x,be.y)},f.prototype.arc=function(N,Y,F,B,ee,le){if(isNaN(N)||isNaN(Y)||isNaN(F)||isNaN(B)||isNaN(ee))throw ir.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new o(N,Y));N=be.x,Y=be.y;var me=this.ctx.transform.applyToPoint(new o(0,F)),_e=this.ctx.transform.applyToPoint(new o(0,0));F=Math.sqrt(Math.pow(me.x-_e.x,2)+Math.pow(me.y-_e.y,2))}Math.abs(ee-B)>=2*Math.PI&&(B=0,ee=2*Math.PI),this.path.push({type:"arc",x:N,y:Y,radius:F,startAngle:B,endAngle:ee,counterclockwise:le})},f.prototype.arcTo=function(N,Y,F,B,ee){throw new Error("arcTo not implemented.")},f.prototype.rect=function(N,Y,F,B){if(isNaN(N)||isNaN(Y)||isNaN(F)||isNaN(B))throw ir.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,Y),this.lineTo(N+F,Y),this.lineTo(N+F,Y+B),this.lineTo(N,Y+B),this.lineTo(N,Y),this.lineTo(N+F,Y),this.lineTo(N,Y)},f.prototype.fillRect=function(N,Y,F,B){if(isNaN(N)||isNaN(Y)||isNaN(F)||isNaN(B))throw ir.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,Y,F,B),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},f.prototype.strokeRect=function(N,Y,F,B){if(isNaN(N)||isNaN(Y)||isNaN(F)||isNaN(B))throw ir.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(N,Y,F,B),this.stroke())},f.prototype.clearRect=function(N,Y,F,B){if(isNaN(N)||isNaN(Y)||isNaN(F)||isNaN(B))throw ir.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,Y,F,B))},f.prototype.save=function(N){N=typeof N!="boolean"||N;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var B=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=B}},f.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(N){var Y,F,B,ee;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))Y=0,F=0,B=0,ee=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(le!==null)Y=parseInt(le[1]),F=parseInt(le[2]),B=parseInt(le[3]),ee=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)Y=parseInt(le[1]),F=parseInt(le[2]),B=parseInt(le[3]),ee=parseFloat(le[4]);else{if(ee=1,typeof N=="string"&&N.charAt(0)!=="#"){var be=new sk(N);N=be.ok?be.toHex():"#000000"}N.length===4?(Y=N.substring(1,2),Y+=Y,F=N.substring(2,3),F+=F,B=N.substring(3,4),B+=B):(Y=N.substring(1,3),F=N.substring(3,5),B=N.substring(5,7)),Y=parseInt(Y,16),F=parseInt(F,16),B=parseInt(B,16)}}return{r:Y,g:F,b:B,a:ee,style:N}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(N,Y,F,B){if(isNaN(Y)||isNaN(F)||typeof N!="string")throw ir.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(B=isNaN(B)?void 0:B,!p.call(this)){var ee=te(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;w.call(this,{text:N,x:Y,y:F,scale:le,angle:ee,align:this.textAlign,maxWidth:B})}},f.prototype.strokeText=function(N,Y,F,B){if(isNaN(Y)||isNaN(F)||typeof N!="string")throw ir.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){B=isNaN(B)?void 0:B;var ee=te(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;w.call(this,{text:N,x:Y,y:F,scale:le,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:B})}},f.prototype.measureText=function(N){if(typeof N!="string")throw ir.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,F=this.pdf.internal.scaleFactor,B=Y.internal.getFontSize(),ee=Y.getStringUnitWidth(N)*B/Y.internal.scaleFactor;return new function(le){var be=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:ee*=Math.round(96*F/72*1e4)/1e4})},f.prototype.scale=function(N,Y){if(isNaN(N)||isNaN(Y))throw ir.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var F=new l(N,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(F)},f.prototype.rotate=function(N){if(isNaN(N))throw ir.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.translate=function(N,Y){if(isNaN(N)||isNaN(Y))throw ir.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var F=new l(1,0,0,1,N,Y);this.ctx.transform=this.ctx.transform.multiply(F)},f.prototype.transform=function(N,Y,F,B,ee,le){if(isNaN(N)||isNaN(Y)||isNaN(F)||isNaN(B)||isNaN(ee)||isNaN(le))throw ir.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new l(N,Y,F,B,ee,le);this.ctx.transform=this.ctx.transform.multiply(be)},f.prototype.setTransform=function(N,Y,F,B,ee,le){N=isNaN(N)?1:N,Y=isNaN(Y)?0:Y,F=isNaN(F)?0:F,B=isNaN(B)?1:B,ee=isNaN(ee)?0:ee,le=isNaN(le)?0:le,this.ctx.transform=new l(N,Y,F,B,ee,le)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(N,Y,F,B,ee,le,be,me,_e){var he=this.pdf.getImageProperties(N),je=1,pe=1,Oe=1,J=1;B!==void 0&&me!==void 0&&(Oe=me/B,J=_e/ee,je=he.width/B*me/B,pe=he.height/ee*_e/ee),le===void 0&&(le=Y,be=F,Y=0,F=0),B!==void 0&&me===void 0&&(me=B,_e=ee),B===void 0&&me===void 0&&(me=he.width,_e=he.height);for(var At,vt=this.ctx.transform.decompose(),st=te(vt.rotate.shx),Ne=new l,Je=(Ne=(Ne=(Ne=Ne.multiply(vt.translate)).multiply(vt.skew)).multiply(vt.scale)).applyToRectangle(new a(le-Y*Oe,be-F*J,B*je,ee*pe)),We=v.call(this,Je),St=[],it=0;it<We.length;it+=1)St.indexOf(We[it])===-1&&St.push(We[it]);if(P(St),this.autoPaging)for(var qt=St[0],Ot=St[St.length-1],mt=qt;mt<Ot+1;mt++){this.pdf.setPage(mt);var Ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=mt===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=mt===1?0:tt+(mt-2)*ct;if(this.ctx.clip_path.length!==0){var or=this.path;At=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(At,this.posX+this.margin[3],-rt+_t+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=or}var It=JSON.parse(JSON.stringify(Je));It=C([It],this.posX+this.margin[3],-rt+_t+this.ctx.prevPageLastElemOffset)[0];var Ge=(mt>qt||mt<Ot)&&y.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,ct,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",It.x,It.y,It.w,It.h,null,null,st),Ge&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,st)};var v=function(N,Y,F){var B=[];Y=Y||this.pdf.internal.pageSize.width,F=F||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":B.push(Math.floor((N.y+ee)/F)+1);break;case"arc":B.push(Math.floor((N.y+ee-N.radius)/F)+1),B.push(Math.floor((N.y+ee+N.radius)/F)+1);break;case"qct":var le=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);B.push(Math.floor((le.y+ee)/F)+1),B.push(Math.floor((le.y+le.h+ee)/F)+1);break;case"bct":var be=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);B.push(Math.floor((be.y+ee)/F)+1),B.push(Math.floor((be.y+be.h+ee)/F)+1);break;case"rect":B.push(Math.floor((N.y+ee)/F)+1),B.push(Math.floor((N.y+N.h+ee)/F)+1)}for(var me=0;me<B.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<B[me];)S.call(this);return B},S=function(){var N=this.fillStyle,Y=this.strokeStyle,F=this.font,B=this.lineCap,ee=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=Y,this.font=F,this.lineCap=B,this.lineWidth=ee,this.lineJoin=le},C=function(N,Y,F){for(var B=0;B<N.length;B++)switch(N[B].type){case"bct":N[B].x2+=Y,N[B].y2+=F;case"qct":N[B].x1+=Y,N[B].y1+=F;default:N[B].x+=Y,N[B].y+=F}return N},P=function(N){return N.sort(function(Y,F){return Y-F})},X=function(N,Y){for(var F,B,ee=this.fillStyle,le=this.strokeStyle,be=this.lineCap,me=this.lineWidth,_e=Math.abs(me*this.ctx.transform.scaleX),he=this.lineJoin,je=JSON.parse(JSON.stringify(this.path)),pe=JSON.parse(JSON.stringify(this.path)),Oe=[],J=0;J<pe.length;J++)if(pe[J].x!==void 0)for(var At=v.call(this,pe[J]),vt=0;vt<At.length;vt+=1)Oe.indexOf(At[vt])===-1&&Oe.push(At[vt]);for(var st=0;st<Oe.length;st++)for(;this.pdf.internal.getNumberOfPages()<Oe[st];)S.call(this);if(P(Oe),this.autoPaging)for(var Ne=Oe[0],Je=Oe[Oe.length-1],We=Ne;We<Je+1;We++){this.pdf.setPage(We),this.fillStyle=ee,this.strokeStyle=le,this.lineCap=be,this.lineWidth=_e,this.lineJoin=he;var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=We===1?this.posY+this.margin[0]:this.margin[0],qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=We===1?0:qt+(We-2)*Ot;if(this.ctx.clip_path.length!==0){var Ht=this.path;F=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(F,this.posX+this.margin[3],-mt+it+this.ctx.prevPageLastElemOffset),T.call(this,N,!0),this.path=Ht}if(B=JSON.parse(JSON.stringify(je)),this.path=C(B,this.posX+this.margin[3],-mt+it+this.ctx.prevPageLastElemOffset),Y===!1||We===0){var _t=(We>Ne||We<Je)&&y.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,Ot,null).clip().discardPath()),T.call(this,N,Y),_t&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=_e,T.call(this,N,Y),this.lineWidth=me;this.path=je},T=function(N,Y){if((N!=="stroke"||Y||!m.call(this))&&(N==="stroke"||Y||!p.call(this))){for(var F,B,ee=[],le=this.path,be=0;be<le.length;be++){var me=le[be];switch(me.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:me,deltas:[],abs:[]});break;case"lt":var _e=ee.length;if(le[be-1]&&!isNaN(le[be-1].x)&&(F=[me.x-le[be-1].x,me.y-le[be-1].y],_e>0)){for(;_e>=0;_e--)if(ee[_e-1].close!==!0&&ee[_e-1].begin!==!0){ee[_e-1].deltas.push(F),ee[_e-1].abs.push(me);break}}break;case"bct":F=[me.x1-le[be-1].x,me.y1-le[be-1].y,me.x2-le[be-1].x,me.y2-le[be-1].y,me.x-le[be-1].x,me.y-le[be-1].y],ee[ee.length-1].deltas.push(F);break;case"qct":var he=le[be-1].x+2/3*(me.x1-le[be-1].x),je=le[be-1].y+2/3*(me.y1-le[be-1].y),pe=me.x+2/3*(me.x1-me.x),Oe=me.y+2/3*(me.y1-me.y),J=me.x,At=me.y;F=[he-le[be-1].x,je-le[be-1].y,pe-le[be-1].x,Oe-le[be-1].y,J-le[be-1].x,At-le[be-1].y],ee[ee.length-1].deltas.push(F);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(me)}}B=Y?null:N==="stroke"?"stroke":"fill";for(var vt=!1,st=0;st<ee.length;st++)if(ee[st].arc)for(var Ne=ee[st].abs,Je=0;Je<Ne.length;Je++){var We=Ne[Je];We.type==="arc"?z.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,Y,!vt):A.call(this,We.x,We.y),vt=!0}else if(ee[st].close===!0)this.pdf.internal.out("h"),vt=!1;else if(ee[st].begin!==!0){var St=ee[st].start.x,it=ee[st].start.y;j.call(this,ee[st].deltas,St,it),vt=!0}B&&Q.call(this,B),Y&&W.call(this)}},E=function(N){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,F=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-F;case"top":return N+Y-F;case"hanging":return N+Y-2*F;case"middle":return N+Y/2-F;default:return N}},k=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(Y,F){this.colorStops.push([Y,F])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var z=function(N,Y,F,B,ee,le,be,me,_e){for(var he=K.call(this,F,B,ee,le),je=0;je<he.length;je++){var pe=he[je];je===0&&(_e?_.call(this,pe.x1+N,pe.y1+Y):A.call(this,pe.x1+N,pe.y1+Y)),L.call(this,N,Y,pe.x2,pe.y2,pe.x3,pe.y3,pe.x4,pe.y4)}me?W.call(this):Q.call(this,be)},Q=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(N,Y){this.pdf.internal.out(t(N)+" "+i(Y)+" m")},w=function(N){var Y;switch(N.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var F=this.pdf.getTextDimensions(N.text),B=E.call(this,N.y),ee=k.call(this,B)-F.h,le=this.ctx.transform.applyToPoint(new o(N.x,B)),be=this.ctx.transform.decompose(),me=new l;me=(me=(me=me.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var _e,he,je,pe=this.ctx.transform.applyToRectangle(new a(N.x,B,F.w,F.h)),Oe=me.applyToRectangle(new a(N.x,ee,F.w,F.h)),J=v.call(this,Oe),At=[],vt=0;vt<J.length;vt+=1)At.indexOf(J[vt])===-1&&At.push(J[vt]);if(P(At),this.autoPaging)for(var st=At[0],Ne=At[At.length-1],Je=st;Je<Ne+1;Je++){this.pdf.setPage(Je);var We=Je===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[2],qt=it-this.margin[0],Ot=this.pdf.internal.pageSize.width-this.margin[1],mt=Ot-this.margin[3],Ht=Je===1?0:St+(Je-2)*qt;if(this.ctx.clip_path.length!==0){var _t=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(_e,this.posX+this.margin[3],-1*Ht+We),T.call(this,"fill",!0),this.path=_t}var tt=C([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-Ht+We+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*N.scale),je=this.lineWidth,this.lineWidth=je*N.scale);var ct=this.autoPaging!=="text";if(ct||tt.y+tt.h<=it){if(ct||tt.y>=We&&tt.x<=Ot){var rt=ct?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Ot-tt.x)[0],or=C([JSON.parse(JSON.stringify(pe))],this.posX+this.margin[3],-Ht+We+this.ctx.prevPageLastElemOffset)[0],It=ct&&(Je>st||Je<Ne)&&y.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,qt,null).clip().discardPath()),this.pdf.text(rt,or.x,or.y,{angle:N.angle,align:Y,renderingMode:N.renderingMode}),It&&this.pdf.restoreGraphicsState()}}else tt.y<it&&(this.ctx.prevPageLastElemOffset+=it-tt.y);N.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=je)}else N.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*N.scale),je=this.lineWidth,this.lineWidth=je*N.scale),this.pdf.text(N.text,le.x+this.posX,le.y+this.posY,{angle:N.angle,align:Y,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=je)},A=function(N,Y,F,B){F=F||0,B=B||0,this.pdf.internal.out(t(N+F)+" "+i(Y+B)+" l")},j=function(N,Y,F){return this.pdf.lines(N,Y,F,null,null)},L=function(N,Y,F,B,ee,le,be,me){this.pdf.internal.out([e(n(F+N)),e(s(B+Y)),e(n(ee+N)),e(s(le+Y)),e(n(be+N)),e(s(me+Y)),"c"].join(" "))},K=function(N,Y,F,B){for(var ee=2*Math.PI,le=Math.PI/2;Y>F;)Y-=ee;var be=Math.abs(F-Y);be<ee&&B&&(be=ee-be);for(var me=[],_e=B?-1:1,he=Y;be>1e-5;){var je=he+_e*Math.min(be,le);me.push(re.call(this,N,he,je)),be-=Math.abs(je-he),he=je}return me},re=function(N,Y,F){var B=(F-Y)/2,ee=N*Math.cos(B),le=N*Math.sin(B),be=ee,me=-le,_e=be*be+me*me,he=_e+be*ee+me*le,je=4/3*(Math.sqrt(2*_e*he)-he)/(be*le-me*ee),pe=be-je*me,Oe=me+je*be,J=pe,At=-Oe,vt=B+Y,st=Math.cos(vt),Ne=Math.sin(vt);return{x1:N*Math.cos(Y),y1:N*Math.sin(Y),x2:pe*st-Oe*Ne,y2:pe*Ne+Oe*st,x3:J*st-At*Ne,y3:J*Ne+At*st,x4:N*Math.cos(F),y4:N*Math.sin(F)}},te=function(N){return 180*N/Math.PI},oe=function(N,Y,F,B,ee,le){var be=N+.5*(F-N),me=Y+.5*(B-Y),_e=ee+.5*(F-ee),he=le+.5*(B-le),je=Math.min(N,ee,be,_e),pe=Math.max(N,ee,be,_e),Oe=Math.min(Y,le,me,he),J=Math.max(Y,le,me,he);return new a(je,Oe,pe-je,J-Oe)},ve=function(N,Y,F,B,ee,le,be,me){var _e,he,je,pe,Oe,J,At,vt,st,Ne,Je,We,St,it,qt=F-N,Ot=B-Y,mt=ee-F,Ht=le-B,_t=be-ee,tt=me-le;for(he=0;he<41;he++)st=(At=(je=N+(_e=he/40)*qt)+_e*((Oe=F+_e*mt)-je))+_e*(Oe+_e*(ee+_e*_t-Oe)-At),Ne=(vt=(pe=Y+_e*Ot)+_e*((J=B+_e*Ht)-pe))+_e*(J+_e*(le+_e*tt-J)-vt),he==0?(Je=st,We=Ne,St=st,it=Ne):(Je=Math.min(Je,st),We=Math.min(We,Ne),St=Math.max(St,st),it=Math.max(it,Ne));return new a(Math.round(Je),Math.round(We),Math.round(St-Je),Math.round(it-We))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,Y,F=(N=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:Y}));this.prevLineDash!==F&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=F)}}})(Ke.API),function(r){var e=function(o){var a,l,c,h,f,g,p,m,y,v;for(l=[],c=0,h=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;h>c;c+=4)(f=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(g=(f=((f=((f=((f=(f-(v=f%85))/85)-(y=f%85))/85)-(m=f%85))/85)-(p=f%85))/85)%85,l.push(g+33,p+33,m+33,y+33,v+33)):l.push(122);return function(S,C){for(var P=C;P>0;P--)S.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},t=function(o){var a,l,c,h,f,g=String,p="length",m=255,y="charCodeAt",v="slice",S="replace";for(o[v](-2),o=o[v](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),c=[],h=0,f=(o+=a="uuuuu"[v](o[p]%5||5))[p];f>h;h+=5)l=52200625*(o[y](h)-33)+614125*(o[y](h+1)-33)+7225*(o[y](h+2)-33)+85*(o[y](h+3)-33)+(o[y](h+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(C,P){for(var X=P;X>0;X--)C.pop()}(c,a[p]),g.fromCharCode.apply(g,c)},i=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=Cm(a)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};r.processDataByFilters=function(o,a){var l=0,c=o||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=i(c),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(Ke.API),function(r){r.loadFile=function(e,t,i){return function(n,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,h){var f=new XMLHttpRequest,g=0,p=function(m){var y=m.length,v=[],S=String.fromCharCode;for(g=0;g<y;g+=1)v.push(S(255&m.charCodeAt(g)));return v.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?h(p(this.responseText)):h(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(n,s,o)}catch(l){}return a}(e,t,i)},r.loadImageFile=r.loadFile}(Ke.API),function(r){function e(){return(ht.html2canvas?Promise.resolve(ht.html2canvas):fa(()=>import("./html2canvas.esm-c6252886.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(ht.DOMPurify?Promise.resolve(ht.DOMPurify):fa(()=>import("./purify.es-3456574f.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var l=Gt(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},n=function(a,l){var c=document.createElement(a);for(var h in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[h]=l.style[h];return c},s=function a(l,c){for(var h=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(a(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(h.width=l.width,h.height=l.height,h.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(h.value=l.value),h.addEventListener("load",function(){h.scrollTop=l.scrollTop,h.scrollLeft=l.scrollLeft},!0)),h},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),c);return(h=h.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(t).then(function(c){return this.set({src:n("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,h=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var m=h[p],y=m.src.find(function(v){return v.format==="truetype"});y&&c.addFont(y.url,m.ref.name,m.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(i(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(a=a||Ke.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,h){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,h){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(h,f){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,h),g}).then(h,f).then(function(g){return c.updateProgress(1),g})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var h=this;a&&(a=a.bind(h)),l&&(l=l.bind(h));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),g=c.call(f,a,l);return o.convert(g,h.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Ke.getPageSize=function(a,l,c){if(Gt(a)==="object"){var h=a;a=h.orientation,l=h.unit||l,c=h.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var f,g=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var m,y=0,v=0;if(p.hasOwnProperty(g))y=p[g][1]/f,v=p[g][0]/f;else try{y=c[1],v=c[0]}catch(S){throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",v>y&&(m=v,v=y,y=m);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",y>v&&(m=v,v=y,y=m)}return{width:v,height:y,unit:l,k:f,orientation:a}},r.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(v0):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(Ke.API),Ke.API.addJS=function(r){return dw=r,this.internal.events.subscribe("postPutResources",function(){yd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(yd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),fw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+dw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){yd!==void 0&&fw!==void 0&&this.internal.out("/Names <</JavaScript "+yd+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=t.outline.render().split(/\r\n/),s=0;s<n.length;s++){var o=n[s],a=i.exec(o);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(s=0;s<c;s++){var f=t.internal.newObject();h.push(f);var g=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<h.length;s++)t.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,n,s){var o={title:n,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var n=0;n<i.children.length;n++)this.genIds_r(i.children[n])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,n){for(var s=0;s<n.children.length;s++)i.count++,this.count_r(i,n.children[s]);return i.count}}])}(Ke.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,i,n,s,o,a){var l,c=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,l=function(f){for(var g,p=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,y={width:0,height:0,numcomponents:1},v=4;v<m;v+=2){if(v+=p,e.indexOf(f.charCodeAt(v+1))!==-1){g=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),y={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:g,numcomponents:f.charCodeAt(v+9)};break}p=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return y}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:i,alias:n}}return h}}(Ke.API),Ke.API.processPNG=function(r,e,t,i){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var n,s=E8(r,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,c=s.palette,h=s.depth;n=c&&l===1?function(z){for(var Q=z.width,W=z.height,_=z.data,w=z.palette,A=z.depth,j=!1,L=[],K=[],re=void 0,te=!1,oe=0,ve=0;ve<w.length;ve++){var ae=a2(w[ve],4),N=ae[0],Y=ae[1],F=ae[2],B=ae[3];L.push(N,Y,F),B!=null&&(B===0?(oe++,K.length<1&&K.push(ve)):B<255&&(te=!0))}if(te||oe>1){j=!0,K=void 0;var ee=Q*W;re=new Uint8Array(ee);for(var le=new DataView(_.buffer),be=0;be<ee;be++){var me=_0(le,be,A),_e=a2(w[me],4)[3];re[be]=_e}}else oe===0&&(K=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:j?8:void 0,colorBytes:_,alphaBytes:re,needSMask:j,palette:L,mask:K}}(s):l===2||l===4?function(z){for(var Q=z.data,W=z.width,_=z.height,w=z.channels,A=z.depth,j=w===2?"DeviceGray":"DeviceRGB",L=w-1,K=W*_,re=L,te=K*re,oe=1*K,ve=Math.ceil(te*A/8),ae=Math.ceil(oe*A/8),N=new Uint8Array(ve),Y=new Uint8Array(ae),F=new DataView(Q.buffer),B=new DataView(N.buffer),ee=new DataView(Y.buffer),le=!1,be=0;be<K;be++){for(var me=be*w,_e=0;_e<re;_e++)vw(B,_0(F,me+_e,A),be*re+_e,A);var he=_0(F,me+re,A);he<(1<<A)-1&&(le=!0),vw(ee,he,1*be,A)}return{colorSpace:j,colorsPerPixel:L,sMaskBitsPerComponent:le?A:void 0,colorBytes:N,alphaBytes:Y,needSMask:le}}(s):function(z){var Q=z.data,W=z.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:W,colorsPerPixel:W==="DeviceGray"?1:3,colorBytes:Q instanceof Uint16Array?function(_){for(var w=_.length,A=new Uint8Array(2*w),j=new DataView(A.buffer,A.byteOffset,A.byteLength),L=0;L<w;L++)j.setUint16(2*L,_[L],!1);return A}(Q):Q,needSMask:!1}}(s);var f,g,p,m=n,y=m.colorSpace,v=m.colorsPerPixel,S=m.sMaskBitsPerComponent,C=m.colorBytes,P=m.alphaBytes,X=m.needSMask,T=m.palette,E=m.mask,k=null;return i!==Ke.API.image_compression.NONE&&typeof Cm=="function"?(k=function(z){var Q;switch(z){case Ke.API.image_compression.FAST:Q=11;break;case Ke.API.image_compression.MEDIUM:Q=13;break;case Ke.API.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(i),f=this.decode.FLATE_DECODE,g="/Predictor ".concat(k," /Colors ").concat(v," /BitsPerComponent ").concat(h," /Columns ").concat(o),r=mw(C,Math.ceil(o*v*h/8),v,h,i),X&&(p=mw(P,Math.ceil(o*S/8),1,S,i))):(f=void 0,g=void 0,r=C,X&&(p=P)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:t,data:r,index:e,filter:f,decodeParameters:g,transparency:E,palette:T,sMask:p,predictor:k,width:o,height:a,bitsPerComponent:h,sMaskBitsPerComponent:S,colorSpace:y}}},function(r){r.processGIF89A=function(e,t,i,n){var s=new rE(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},h=new k0(100).encode(c,100);return r.processJPEG.call(this,h,t,i,n)},r.processGIF87A=r.processGIF89A}(Ke.API),Un.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:n,green:i,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Un.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){ir.log("bit decode error:"+t)}},Un.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<e;n++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*n*4,a=0;a<8&&8*n+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},Un.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,n=0;n<r;n++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*n*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*n+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Un.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*i;if(n<this.palette.length){var o=this.palette[n];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},Un.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,h=i*this.width*4+4*n;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=c}this.pos+=r}},Un.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,c=(o>>11)/e*255|0,h=n*this.width*4+4*s;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=r}},Un.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=n,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},Un.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=n,this.data[a+2]=i,this.data[a+3]=o}},Un.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,i,n){var s=new Un(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new k0(100).encode(l,100);return r.processJPEG.call(this,c,t,i,n)}}(Ke.API),_w.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,i,n){var s=new _w(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new k0(100).encode(l,100);return r.processJPEG.call(this,c,t,i,n)}}(Ke.API),Ke.API.processRGBA=function(r,e,t){for(var i=r.data,n=i.length,s=new Uint8Array(n/4*3),o=new Uint8Array(n/4),a=0,l=0,c=0;c<n;c+=4){var h=i[c],f=i[c+1],g=i[c+2],p=i[c+3];s[a++]=h,s[a++]=f,s[a++]=g,o[l++]=p}var m=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Ke.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Oc=Ke.API,xd=Oc.getCharWidthsArray=function(r,e){var t,i,n=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:n.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:n.metadata.Unicode.kerning,h=c.fof?c.fof:1,f=e.doKerning!==!1,g=0,p=r.length,m=0,y=a[0]||l,v=[];for(t=0;t<p;t++)i=r.charCodeAt(t),typeof n.metadata.widthOfString=="function"?v.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(g=f&&Gt(c[i])==="object"&&!isNaN(parseInt(c[i][m],10))?c[i][m]/h:0,v.push((a[i]||y)/l+g)),m=i;return v},pw=Oc.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),n=e.charSpace||this.internal.getCharSpace();return Oc.processArabic&&(r=Oc.processArabic(r)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(r,t,n)/t:xd.apply(this,arguments).reduce(function(s,o){return s+o},0)},gw=function(r,e,t,i){for(var n=[],s=0,o=r.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;n.push(r.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>i&&(n.push(r.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&n.push(r.slice(l,s)),n},Ow=function(r,e,t){t||(t={});var i,n,s,o,a,l,c,h=[],f=[h],g=t.textIndent||0,p=0,m=0,y=r.split(" "),v=xd.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var S=Array(l).join(" "),C=[];y.map(function(X){(X=X.split(/\s*\n/)).length>1?C=C.concat(X.map(function(T,E){return(E&&T.length?`
`:"")+T})):C.push(X[0])}),y=C,l=pw.apply(this,[S,t])}for(s=0,o=y.length;s<o;s++){var P=0;if(i=y[s],l&&i[0]==`
`&&(i=i.substr(1),P=1),g+p+(m=(n=xd.apply(this,[i,t])).reduce(function(X,T){return X+T},0))>e||P){if(m>e){for(a=gw.apply(this,[i,n,e-(g+p),e]),h.push(a.shift()),h=[a.pop()];a.length;)f.push([a.shift()]);m=n.slice(i.length-(h[0]?h[0].length:0)).reduce(function(X,T){return X+T},0)}else h=[i];f.push(h),g=m+l,p=v}else h.push(i),g+=p+m,p=v}return c=l?function(X,T){return(T?S:"")+X.join(" ")}:function(X){return X.join(" ")},f.map(c)},Oc.splitTextToSize=function(r,e,t){var i,n=(t=t||{}).fontSize||this.internal.getFontSize(),s=function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return f.metadata[g]?{widths:f.metadata[g].widths||{0:1},kerning:f.metadata[g].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);i=Array.isArray(r)?r:String(r).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/n;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/n:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(Ow.apply(this,[i[a],o,s]));return c},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},n={},s=0;s<16;s++)i[t[s]]=e[s],n[e[s]]=t[s];var o=function(g){return"0x"+parseInt(g,10).toString(16)},a=r.__fontmetrics__.compress=function(g){var p,m,y,v,S=["{"];for(var C in g){if(p=g[C],isNaN(parseInt(C,10))?m="'"+C+"'":(C=parseInt(C,10),m=(m=o(C).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof p=="number")p<0?(y=o(p).slice(3),v="-"):(y=o(p).slice(2),v=""),y=v+y.slice(0,-1)+n[y.slice(-1)];else{if(Gt(p)!=="object")throw new Error("Don't know what to do with value type "+Gt(p)+".");y=a(p)}S.push(m+y)}return S.push("}"),S.join("")},l=r.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,m,y,v,S={},C=1,P=S,X=[],T="",E="",k=g.length-1,z=1;z<k;z+=1)(v=g[z])=="'"?p?(y=p.join(""),p=void 0):p=[]:p?p.push(v):v=="{"?(X.push([P,y]),P={},y=void 0):v=="}"?((m=X.pop())[0][m[1]]=P,y=void 0,P=m[0]):v=="-"?C=-1:y===void 0?i.hasOwnProperty(v)?(T+=i[v],y=parseInt(T,16)*C,C=1,T=""):T+=v:i.hasOwnProperty(v)?(E+=i[v],P[y]=parseInt(E,16)*C,C=1,y=void 0,E=""):E+=v;return S},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(g){var p=g.font,m=f.Unicode[p.postScriptName];m&&(p.metadata.Unicode={},p.metadata.Unicode.widths=m.widths,p.metadata.Unicode.kerning=m.kerning);var y=h.Unicode[p.postScriptName];y&&(p.metadata.Unicode.encoding=y,p.encoding=y.codePages[0])}])}(Ke.API),function(r){var e=function(t){for(var i=t.length,n=new Uint8Array(i),s=0;s<i;s++)n[s]=t.charCodeAt(s);return n};r.API.events.push(["addFont",function(t){var i=void 0,n=t.font,s=t.instance;if(!n.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(i=s.existsFileInVFS(n.postScriptName)===!1?s.loadFile(n.postScriptName):s.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(lp(a)),o.metadata=r.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(n,i)}}])}(Ke),Ke.API.addSvgAsImage=function(r,e,t,i,n,s,o,a){if(isNaN(e)||isNaN(t))throw ir.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(n))throw ir.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=n;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(ht.canvg?Promise.resolve(ht.canvg):fa(()=>import("./index.es-8b198521.js"),["assets/index.es-8b198521.js","assets/vendor-9d7f3a89.js","assets/router-4cbff3e7.js","assets/firebase-7d03940f.js","assets/ui-b62a8f42.js"])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(c,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,t,i,n,o,a)})},Ke.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var n=0;n<this.internal.pages[i].length;n++)this.internal.pages[i][n]=this.internal.pages[i][n].replace(e,t);return this},Ke.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var i,n,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,h=0,f=0;function g(m,y){var v,S=!1;for(v=0;v<m.length;v+=1)m[v]===y&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var p=a.length;for(f=0;f<p;f+=1)t[a[f]].value=t[a[f]].defaultValue,t[a[f]].explicitSet=!1}if(Gt(r)==="object"){for(n in r)if(s=r[n],g(a,n)&&s!==void 0){if(t[n].type==="boolean"&&typeof s=="boolean")t[n].value=s;else if(t[n].type==="name"&&g(t[n].valueSet,s))t[n].value=s;else if(t[n].type==="integer"&&Number.isInteger(s))t[n].value=s;else if(t[n].type==="array"){for(c=0;c<s.length;c+=1)if(i=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(h=0;h<s[c].length;h+=1)typeof s[c][h]!="number"&&(i=!1);i===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[n].value="["+l.join(" ")+"]"}else t[n].value=t[n].defaultValue;t[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,y=[];for(m in t)t[m].explicitSet===!0&&(t[m].type==="name"?y.push("/"+m+" /"+t[m].value):y.push("/"+m+" "+t[m].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+n.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(n+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(i,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Ke.API),function(r){var e=r.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],f=0,g=s.length;f<g;++f){if(a=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(c[4-a.length],a)}return h.join("")},i=function(s){var o,a,l,c,h,f,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,g=(a=Object.keys(s).sort(function(p,m){return p-m})).length;f<g;f++)o=a[f],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,h=o.putStream;if(a.metadata instanceof r.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",m=0;m<g.length;m++)p+=String.fromCharCode(g[m]);var y=c();h({data:p,addLength1:!0,objectId:y}),l("endobj");var v=c();h({data:i(a.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var S=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+vc(a.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+r.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var C=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+vc(a.fontName)),l("/FontDescriptor "+S+" 0 R"),l("/W "+r.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+vc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+C+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,h=o.putStream;if(a.metadata instanceof r.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,g="",p=0;p<f.length;p++)g+=String.fromCharCode(f[p]);var m=c();h({data:g,addLength1:!0,objectId:m}),l("endobj");var y=c();h({data:i(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var v=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+r.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+vc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var S=0;S<a.metadata.hmtx.widths.length;S++)a.metadata.hmtx.widths[S]=parseInt(a.metadata.hmtx.widths[S]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+vc(a.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var n=function(s){var o,a=s.text||"",l=s.x,c=s.y,h=s.options||{},f=s.mutex||{},g=f.pdfEscape,p=f.activeFontKey,m=f.fonts,y=p,v="",S=0,C="",P=m[y].encoding;if(m[y].encoding!=="Identity-H")return{text:a,x:l,y:c,options:h,mutex:f};for(C=a,y=p,Array.isArray(a)&&(C=a[0]),S=0;S<C.length;S+=1)m[y].metadata.hasOwnProperty("cmap")&&(o=m[y].metadata.cmap.unicode.codeMap[C[S].charCodeAt(0)]),o||C[S].charCodeAt(0)<256&&m[y].metadata.hasOwnProperty("Unicode")?v+=C[S]:v+="";var X="";return parseInt(y.slice(1))<14||P==="WinAnsiEncoding"?X=g(v,y).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(X=t(v,m[y])),f.isHex=!0,{text:X,x:l,y:c,options:h,mutex:f}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([n(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(n(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=n(Object.assign({},l,{text:o})).text}])}(Ke),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Ke.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(i){var n,s,o,a,l,c,h,f=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,P=0;this.__bidiEngine__={};var X=function(_){var w=_.charCodeAt(),A=w>>8,j=y[A];return j!==void 0?f[256*j+(255&w)]:A===252||A===253?"AL":S.test(A)?"L":A===8?"R":"N"},T=function(_){for(var w,A=0;A<_.length;A++){if((w=X(_.charAt(A)))==="L")return!1;if(w==="R")return!0}return!1},E=function(_,w,A,j){var L,K,re,te,oe=w[j];switch(oe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(oe="AN");break;case"AL":C=!0,oe="R";break;case"WS":case"BN":oe="N";break;case"CS":j<1||j+1>=w.length||(L=A[j-1])!=="EN"&&L!=="AN"||(K=w[j+1])!=="EN"&&K!=="AN"?oe="N":C&&(K="AN"),oe=K===L?K:"N";break;case"ES":oe=(L=j>0?A[j-1]:"B")==="EN"&&j+1<w.length&&w[j+1]==="EN"?"EN":"N";break;case"ET":if(j>0&&A[j-1]==="EN"){oe="EN";break}if(C){oe="N";break}for(re=j+1,te=w.length;re<te&&w[re]==="ET";)re++;oe=re<te&&w[re]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(te=w.length,re=j+1;re<te&&w[re]==="NSM";)re++;if(re<te){var ve=_[j],ae=ve>=1425&&ve<=2303||ve===64286;if(L=w[re],ae&&(L==="R"||L==="AL")){oe="R";break}}}oe=j<1||(L=w[j-1])==="B"?"N":A[j-1];break;case"B":C=!1,n=!0,oe=P;break;case"S":s=!0,oe="N"}return oe},k=function(_,w,A){var j=_.split("");return A&&z(j,A,{hiLevel:P}),j.reverse(),w&&w.reverse(),j.join("")},z=function(_,w,A){var j,L,K,re,te,oe=-1,ve=_.length,ae=0,N=[],Y=P?p:g,F=[];for(C=!1,n=!1,s=!1,L=0;L<ve;L++)F[L]=X(_[L]);for(K=0;K<ve;K++){if(te=ae,N[K]=E(_,F,N,K),j=240&(ae=Y[te][m[N[K]]]),ae&=15,w[K]=re=Y[ae][5],j>0)if(j===16){for(L=oe;L<K;L++)w[L]=1;oe=-1}else oe=-1;if(Y[ae][6])oe===-1&&(oe=K);else if(oe>-1){for(L=oe;L<K;L++)w[L]=re;oe=-1}F[K]==="B"&&(w[K]=0),A.hiLevel|=re}s&&function(B,ee,le){for(var be=0;be<le;be++)if(B[be]==="S"){ee[be]=P;for(var me=be-1;me>=0&&B[me]==="WS";me--)ee[me]=P}}(F,w,ve)},Q=function(_,w,A,j,L){if(!(L.hiLevel<_)){if(_===1&&P===1&&!n)return w.reverse(),void(A&&A.reverse());for(var K,re,te,oe,ve=w.length,ae=0;ae<ve;){if(j[ae]>=_){for(te=ae+1;te<ve&&j[te]>=_;)te++;for(oe=ae,re=te-1;oe<re;oe++,re--)K=w[oe],w[oe]=w[re],w[re]=K,A&&(K=A[oe],A[oe]=A[re],A[re]=K);ae=te}ae++}}},W=function(_,w,A){var j=_.split(""),L={hiLevel:P};return A||(A=[]),z(j,A,L),function(K,re,te){if(te.hiLevel!==0&&h)for(var oe,ve=0;ve<K.length;ve++)re[ve]===1&&(oe=v.indexOf(K[ve]))>=0&&(K[ve]=v[oe+1])}(j,A,L),Q(2,j,w,A,L),Q(1,j,w,A,L),j.join("")};return this.__bidiEngine__.doBidiReorder=function(_,w,A){if(function(L,K){if(K)for(var re=0;re<L.length;re++)K[re]=re;a===void 0&&(a=T(L)),c===void 0&&(c=T(L))}(_,w),o||!l||c)if(o&&l&&a^c)P=a?1:0,_=k(_,w,A);else if(!o&&l&&c)P=a?1:0,_=W(_,w,A),_=k(_,w);else if(!o||a||l||c){if(o&&!l&&a^c)_=k(_,w),a?(P=0,_=W(_,w,A)):(P=1,_=W(_,w,A),_=k(_,w));else if(o&&a&&!l&&c)P=1,_=W(_,w,A),_=k(_,w);else if(!o&&!l&&a^c){var j=h;a?(P=1,_=W(_,w,A),P=0,h=!1,_=W(_,w,A),h=j):(P=0,_=W(_,w,A),_=k(_,w),P=1,h=!1,_=W(_,w,A),h=j,_=k(_,w))}}else P=0,_=W(_,w,A);else P=a?1:0,_=W(_,w,A);return _},this.__bidiEngine__.setOptions=function(_){_&&(o=_.isInputVisual,l=_.isOutputVisual,a=_.isInputRtl,c=_.isOutputRtl,h=_.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(i){var n=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(n)==="[object Array]"){var a=0;for(o=[],a=0;a<n.length;a+=1)Object.prototype.toString.call(n[a])==="[object Array]"?o.push([t.doBidiReorder(n[a][0]),n[a][1],n[a][2]]):o.push([t.doBidiReorder(n[a])]);i.text=o}else i.text=t.doBidiReorder(n);t.setOptions({isInputVisual:!0})}])}(Ke),Ke.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Oa(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new mE(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new iE(this.contents),this.head=new sE(this),this.name=new hE(this),this.cmap=new Ok(this),this.toUnicode={},this.hhea=new oE(this),this.maxp=new uE(this),this.hmtx=new fE(this),this.post=new lE(this),this.os2=new aE(this),this.loca=new OE(this),this.glyf=new dE(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,i,n,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(i=255&(n=this.post.italic_angle),32768&(t=n>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,i){var n,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)n=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(n))+i*(1e3/t)||0;return o*(t/1e3)},r.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},r}();var Zn,Oa=function(){function r(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},r.prototype.writeString=function(e){var t,i,n;for(n=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)n.push(this.writeByte(e.charCodeAt(t)));return n},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,i,n,s,o,a,l;return e=this.readByte(),t=this.readByte(),i=this.readByte(),n=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^n)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*n+16777216*s+65536*o+256*a+l},r.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},r.prototype.write=function(e){var t,i,n,s;for(s=[],i=0,n=e.length;i<n;i++)t=e[i],s.push(this.writeByte(t));return s},r}(),iE=function(){var r;function e(t){var i,n,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,s=this.tableCount;0<=s?n<s:n>s;n=0<=s?++n:--n)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,n,s,o,a,l,c,h,f,g,p,m,y;for(y in p=Object.keys(t).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),o=Math.floor(f/l),h=16*p-f,(n=new Oa).writeInt(this.scalarType),n.writeShort(p),n.writeShort(f),n.writeShort(o),n.writeShort(h),s=16*p,c=n.pos+s,a=null,m=[],t)for(g=t[y],n.writeString(y),n.writeInt(r(g)),n.writeInt(c),n.writeInt(g.length),m=m.concat(g),y==="head"&&(a=c),c+=g.length;c%4;)m.push(0),c++;return n.write(m),i=2981146554-r(n.data),n.pos=a+8,n.writeUInt32(i),n.data},r=function(t){var i,n,s,o;for(t=mk.call(t);t.length%4;)t.push(0);for(s=new Oa(t),n=0,i=0,o=t.length;i<o;i=i+=4)n+=s.readUInt32();return 4294967295&n},e}(),nE={}.hasOwnProperty,Es=function(r,e){for(var t in e)nE.call(e,t)&&(r[t]=e[t]);function i(){this.constructor=r}return i.prototype=e.prototype,r.prototype=new i,r.__super__=e.prototype,r};Zn=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var sE=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Es(r,Zn),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Oa).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r}(),kw=function(){function r(e,t){var i,n,s,o,a,l,c,h,f,g,p,m,y,v,S,C,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,s=function(){var X,T;for(T=[],l=X=0;0<=g?X<g:X>g;l=0<=g?++X:--X)T.push(e.readUInt16());return T}(),e.pos+=2,y=function(){var X,T;for(T=[],l=X=0;0<=g?X<g:X>g;l=0<=g?++X:--X)T.push(e.readUInt16());return T}(),c=function(){var X,T;for(T=[],l=X=0;0<=g?X<g:X>g;l=0<=g?++X:--X)T.push(e.readUInt16());return T}(),h=function(){var X,T;for(T=[],l=X=0;0<=g?X<g:X>g;l=0<=g?++X:--X)T.push(e.readUInt16());return T}(),n=(this.length-e.pos+this.offset)/2,a=function(){var X,T;for(T=[],l=X=0;0<=n?X<n:X>n;l=0<=n?++X:--X)T.push(e.readUInt16());return T}(),l=S=0,P=s.length;S<P;l=++S)for(v=s[l],i=C=m=y[l];m<=v?C<=v:C>=v;i=m<=v?++C:--C)h[l]===0?o=i+c[l]:(o=a[h[l]/2+(i-m)-(g-l)]||0)!==0&&(o+=c[l]),this.codeMap[i]=65535&o}e.pos=f}return r.encode=function(e,t){var i,n,s,o,a,l,c,h,f,g,p,m,y,v,S,C,P,X,T,E,k,z,Q,W,_,w,A,j,L,K,re,te,oe,ve,ae,N,Y,F,B,ee,le,be,me,_e,he,je;switch(j=new Oa,o=Object.keys(e).sort(function(pe,Oe){return pe-Oe}),t){case"macroman":for(y=0,v=function(){var pe=[];for(m=0;m<256;++m)pe.push(0);return pe}(),C={0:0},s={},L=0,oe=o.length;L<oe;L++)C[me=e[n=o[L]]]==null&&(C[me]=++y),s[n]={old:e[n],new:C[e[n]]},v[n]=C[e[n]];return j.writeUInt16(1),j.writeUInt16(0),j.writeUInt32(12),j.writeUInt16(0),j.writeUInt16(262),j.writeUInt16(0),j.write(v),{charMap:s,subtable:j.data,maxGlyphID:y+1};case"unicode":for(w=[],f=[],P=0,C={},i={},S=c=null,K=0,ve=o.length;K<ve;K++)C[T=e[n=o[K]]]==null&&(C[T]=++P),i[n]={old:T,new:C[T]},a=C[T]-n,S!=null&&a===c||(S&&f.push(S),w.push(n),c=a),S=n;for(S&&f.push(S),f.push(65535),w.push(65535),W=2*(Q=w.length),z=2*Math.pow(Math.log(Q)/Math.LN2,2),g=Math.log(z/2)/Math.LN2,k=2*Q-z,l=[],E=[],p=[],m=re=0,ae=w.length;re<ae;m=++re){if(_=w[m],h=f[m],_===65535){l.push(0),E.push(0);break}if(_-(A=i[_].new)>=32768)for(l.push(0),E.push(2*(p.length+Q-m)),n=te=_;_<=h?te<=h:te>=h;n=_<=h?++te:--te)p.push(i[n].new);else l.push(A-_),E.push(0)}for(j.writeUInt16(3),j.writeUInt16(1),j.writeUInt32(12),j.writeUInt16(4),j.writeUInt16(16+8*Q+2*p.length),j.writeUInt16(0),j.writeUInt16(W),j.writeUInt16(z),j.writeUInt16(g),j.writeUInt16(k),le=0,N=f.length;le<N;le++)n=f[le],j.writeUInt16(n);for(j.writeUInt16(0),be=0,Y=w.length;be<Y;be++)n=w[be],j.writeUInt16(n);for(_e=0,F=l.length;_e<F;_e++)a=l[_e],j.writeUInt16(a);for(he=0,B=E.length;he<B;he++)X=E[he],j.writeUInt16(X);for(je=0,ee=p.length;je<ee;je++)y=p[je],j.writeUInt16(y);return{charMap:i,subtable:j.data,maxGlyphID:P+1}}},r}(),Ok=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Es(r,Zn),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,i,n;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)t=new kw(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var i,n;return t==null&&(t="macroman"),i=kw.encode(e,t),(n=new Oa).writeUInt16(0),n.writeUInt16(1),i.table=n.data.concat(i.subtable),i},r}(),oE=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Es(r,Zn),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r}(),aE=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Es(r,Zn),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i}(),this.charRange=function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r}(),lE=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Es(r,Zn),r.prototype.tag="post",r.prototype.parse=function(e){var t,i,n;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(i=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],n=[];e.pos<this.offset+this.length;)t=e.readByte(),n.push(this.names.push(e.readString(t)));return n;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}.call(this)}},r}(),cE=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},hE=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Es(r,Zn),r.prototype.tag="name",r.prototype.parse=function(e){var t,i,n,s,o,a,l,c,h,f,g;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),i=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=h=0,f=i.length;h<f;s=++h)n=i[s],e.pos=n.offset,c=e.readString(n.length),o=new cE(c,n),l[g=n.nameID]==null&&(l[g]=[]),l[n.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(p){this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},r}(),uE=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Es(r,Zn),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r}(),fE=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Es(r,Zn),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,i,n,s,o,a,l;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,h;for(h=[],t=c=0;0<=n?c<n:c>n;t=0<=n?++c:--c)h.push(e.readInt16());return h}(),this.widths=function(){var c,h,f,g;for(g=[],c=0,h=(f=this.metrics).length;c<h;c++)s=f[c],g.push(s.advance);return g}.call(this),i=this.widths[this.widths.length-1],l=[],t=o=0;0<=n?o<n:o>n;t=0<=n?++o:--o)l.push(this.widths.push(i));return l},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r}(),mk=[].slice,dE=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Es(r,Zn),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,i,n,s,o,a,l,c,h,f;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,i=s.indexOf(e),(n=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,o=(a=new Oa(t.read(n))).readShort(),c=a.readShort(),f=a.readShort(),l=a.readShort(),h=a.readShort(),this.cache[e]=o===-1?new gE(a,c,f,l,h):new pE(a,o,c,f,l,h),this.cache[e]))},r.prototype.encode=function(e,t,i){var n,s,o,a,l;for(o=[],s=[],a=0,l=t.length;a<l;a++)n=e[t[a]],s.push(o.length),n&&(o=o.concat(n.encode(i)));return s.push(o.length),{table:o,offsets:s}},r}(),pE=function(){function r(e,t,i,n,s,o){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=n,this.xMax=s,this.yMax=o,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),gE=function(){function r(e,t,i,n,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=n,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return r.prototype.encode=function(){var e,t,i;for(t=new Oa(mk.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),OE=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Es(r,Zn),r.prototype.tag="loca",r.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?function(){var n,s;for(s=[],i=0,n=this.length;i<n;i+=2)s.push(2*e.readUInt16());return s}.call(this):function(){var n,s;for(s=[],i=0,n=this.length;i<n;i+=4)s.push(e.readUInt32());return s}.call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),n=0,s=0,o=0;o<i.length;++o)if(i[o]=n,s<t.length&&t[s]==o){++s,i[o]=n;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(n+=l)}for(var c=new Array(4*i.length),h=0;h<i.length;++h)c[4*h+3]=255&i[h],c[4*h+2]=(65280&i[h])>>8,c[4*h+1]=(16711680&i[h])>>16,c[4*h]=(4278190080&i[h])>>24;return c},r}(),mE=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,i,n,s;for(t in n=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[t],e[t]=n[i];return e},r.prototype.glyphsFor=function(e){var t,i,n,s,o,a,l;for(n={},o=0,a=e.length;o<a;o++)n[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],n)(i=n[s])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))i=l[s],n[s]=i;return n},r.prototype.encode=function(e,t){var i,n,s,o,a,l,c,h,f,g,p,m,y,v,S;for(n in i=Ok.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},S=i.charMap)p[(l=S[n]).old]=l.new;for(m in g=i.maxGlyphID,o)m in p||(p[m]=g++);return h=function(C){var P,X;for(P in X={},C)X[C[P]]=P;return X}(p),f=Object.keys(h).sort(function(C,P){return C-P}),y=function(){var C,P,X;for(X=[],C=0,P=f.length;C<P;C++)a=f[C],X.push(h[a]);return X}(),s=this.font.glyf.encode(o,y,p),c=this.font.loca.encode(s.offsets,y),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},r}();Ke.API.PDFObject=function(){var r;function e(){}return r=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,n,s,o;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)i=t[a],c.push(e.convert(i));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(n in s=["<<"],t)o=t[n],s.push("/"+n+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();let Fm=[],bk=[];(()=>{let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<r.length;e++)(e%2?bk:Fm).push(t=t+r[e])})();function bE(r){if(r<768)return!1;for(let e=0,t=Fm.length;;){let i=e+t>>1;if(r<Fm[i])t=i;else if(r>=bk[i])e=i+1;else return!0;if(e==t)return!1}}function $w(r){return r>=127462&&r<=127487}const Pw=8205;function yE(r,e,t=!0,i=!0){return(t?yk:xE)(r,e,i)}function yk(r,e,t){if(e==r.length)return e;e&&xk(r.charCodeAt(e))&&wk(r.charCodeAt(e-1))&&e--;let i=$0(r,e);for(e+=jw(i);e<r.length;){let n=$0(r,e);if(i==Pw||n==Pw||t&&bE(n))e+=jw(n),i=n;else if($w(n)){let s=0,o=e-2;for(;o>=0&&$w($0(r,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function xE(r,e,t){for(;e>0;){let i=yk(r,e-2,t);if(i<e)return i;e--}return 0}function $0(r,e){let t=r.charCodeAt(e);if(!wk(t)||e+1==r.length)return t;let i=r.charCodeAt(e+1);return xk(i)?(t-55296<<10)+(i-56320)+65536:t}function xk(r){return r>=56320&&r<57344}function wk(r){return r>=55296&&r<56320}function jw(r){return r<65536?1:2}class Ut{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=Yc(this,e,t);let n=[];return this.decompose(0,e,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(t,this.length,n,1),_s.from(n,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Yc(this,e,t);let i=[];return this.decompose(e,t,i,0),_s.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),n=new $u(this),s=new $u(e);for(let o=t,a=t;;){if(n.next(o),s.next(o),o=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(a+=n.value.length,n.done||a>=i)return!0}}iter(e=1){return new $u(this,e)}iterRange(e,t=this.length){return new vk(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let n=this.line(e).from;i=this.iterRange(n,Math.max(n,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Sk(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Ut.empty:e.length<=32?new Er(e):_s.from(Er.split(e,[]))}}class Er extends Ut{constructor(e,t=wE(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,n){for(let s=0;;s++){let o=this.text[s],a=n+o.length;if((t?i:a)>=e)return new vE(n,a,i,o);n=a+1,i++}}decompose(e,t,i,n){let s=e<=0&&t>=this.length?this:new Er(Qw(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(n&1){let o=i.pop(),a=dp(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new Er(a,o.length+s.length));else{let l=a.length>>1;i.push(new Er(a.slice(0,l)),new Er(a.slice(l)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof Er))return super.replace(e,t,i);[e,t]=Yc(this,e,t);let n=dp(this.text,dp(i.text,Qw(this.text,0,e)),t),s=this.length+i.length-(t-e);return n.length<=32?new Er(n,s):_s.from(Er.split(n,[]),s)}sliceString(e,t=this.length,i=`
`){[e,t]=Yc(this,e,t);let n="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(n+=i),e<l&&t>s&&(n+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return n}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],n=-1;for(let s of e)i.push(s),n+=s.length+1,i.length==32&&(t.push(new Er(i,n)),i=[],n=-1);return n>-1&&t.push(new Er(i,n)),t}}class _s extends Ut{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,n){for(let s=0;;s++){let o=this.children[s],a=n+o.length,l=i+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,i,n);n=a+1,i=l+1}}decompose(e,t,i,n){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let c=n&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!c?i.push(a):a.decompose(e-o,t-o,i,c)}o=l+1}}replace(e,t,i){if([e,t]=Yc(this,e,t),i.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let o=this.children[n],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,i),c=this.lines-o.lines+l.lines;if(l.lines<c>>5-1&&l.lines>c>>5+1){let h=this.children.slice();return h[n]=l,new _s(h,this.length-(t-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=Yc(this,e,t);let n="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(n+=i),e<l&&t>o&&(n+=a.sliceString(e-o,t-o,i)),o=l+1}return n}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof _s))return 0;let i=0,[n,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;n+=t,s+=t){if(n==o||s==a)return i;let l=this.children[n],c=e.children[s];if(l!=c)return i+l.scanIdentical(c,t);i+=l.length+1}}static from(e,t=e.reduce((i,n)=>i+n.length+1,-1)){let i=0;for(let p of e)i+=p.lines;if(i<32){let p=[];for(let m of e)m.flatten(p);return new Er(p,t)}let n=Math.max(32,i>>5),s=n<<1,o=n>>1,a=[],l=0,c=-1,h=[];function f(p){let m;if(p.lines>s&&p instanceof _s)for(let y of p.children)f(y);else p.lines>o&&(l>o||!l)?(g(),a.push(p)):p instanceof Er&&l&&(m=h[h.length-1])instanceof Er&&p.lines+m.lines<=32?(l+=p.lines,c+=p.length+1,h[h.length-1]=new Er(m.text.concat(p.text),m.length+1+p.length)):(l+p.lines>n&&g(),l+=p.lines,c+=p.length+1,h.push(p))}function g(){l!=0&&(a.push(h.length==1?h[0]:_s.from(h,c)),c=-1,l=h.length=0)}for(let p of e)f(p);return g(),a.length==1?a[0]:new _s(a,t)}}Ut.empty=new Er([""],0);function wE(r){let e=-1;for(let t of r)e+=t.length+1;return e}function dp(r,e,t=0,i=1e9){for(let n=0,s=0,o=!0;s<r.length&&n<=i;s++){let a=r[s],l=n+a.length;l>=t&&(l>i&&(a=a.slice(0,i-n)),n<t&&(a=a.slice(t-n)),o?(e[e.length-1]+=a,o=!1):e.push(a)),n=l+1}return e}function Qw(r,e,t){return dp(r,[""],e,t)}class $u{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Er?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],s=this.offsets[i],o=s>>1,a=n instanceof Er?n.text.length:n.children.length;if(o==(t>0?a:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(n instanceof Er){let l=n.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=n.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Er?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class vk{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new $u(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:n}=this.cursor.next(e);return this.pos+=(n.length+e)*t,this.value=n.length<=i?n:t<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Sk{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:n}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol!="undefined"&&(Ut.prototype[Symbol.iterator]=function(){return this.iter()},$u.prototype[Symbol.iterator]=vk.prototype[Symbol.iterator]=Sk.prototype[Symbol.iterator]=function(){return this});class vE{constructor(e,t,i,n){this.from=e,this.to=t,this.number=i,this.text=n}get length(){return this.to-this.from}}function Yc(r,e,t){return e=Math.max(0,Math.min(r.length,e)),[e,Math.max(e,Math.min(r.length,t))]}function Ui(r,e,t=!0,i=!0){return yE(r,e,t,i)}function SE(r){return r>=56320&&r<57344}function _E(r){return r>=55296&&r<56320}function kE(r,e){let t=r.charCodeAt(e);if(!_E(t)||e+1==r.length)return t;let i=r.charCodeAt(e+1);return SE(i)?(t-55296<<10)+(i-56320)+65536:t}function $E(r){return r<65536?1:2}const Vm=/\r\n?|\n/;var Ei=function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r}(Ei||(Ei={}));class bo{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,n=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(i,n,s),n+=s):n+=o,i+=s}}iterChangedRanges(e,t=!1){Zm(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],n=this.sections[t++];n<0?e.push(i,n):e.push(n,i)}return new bo(e)}composeDesc(e){return this.empty?e:e.empty?this:_k(this,e)}mapDesc(e,t=!1){return e.empty?this:Gm(this,e,t)}mapPos(e,t=-1,i=Ei.Simple){let n=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=n+a;if(l<0){if(c>e)return s+(e-n);s+=a}else{if(i!=Ei.Simple&&c>=e&&(i==Ei.TrackDel&&n<e&&c>e||i==Ei.TrackBefore&&n<e||i==Ei.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==n||t<0?s:s+l;s+=l}n=c}if(e>n)throw new RangeError(`Position ${e} is out of range for changeset of length ${n}`);return s}touchesRange(e,t=e){for(let i=0,n=0;i<this.sections.length&&n<=t;){let s=this.sections[i++],o=this.sections[i++],a=n+s;if(o>=0&&n<=t&&a>=e)return n<e&&a>t?"cover":!0;n=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],n=this.sections[t++];e+=(e?" ":"")+i+(n>=0?":"+n:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new bo(e)}static create(e){return new bo(e)}}class ii extends bo{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Zm(this,(t,i,n,s,o)=>e=e.replace(n,n+(i-t),o),!1),e}mapDesc(e,t=!1){return Gm(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let n=0,s=0;n<t.length;n+=2){let o=t[n],a=t[n+1];if(a>=0){t[n]=a,t[n+1]=o;let l=n>>1;for(;i.length<l;)i.push(Ut.empty);i.push(o?e.slice(s,s+o):Ut.empty)}s+=o}return new ii(t,i)}compose(e){return this.empty?e:e.empty?this:_k(this,e,!0)}map(e,t=!1){return e.empty?this:Gm(this,e,t,!0)}iterChanges(e,t=!1){Zm(this,e,t)}get desc(){return bo.create(this.sections)}filter(e){let t=[],i=[],n=[],s=new Iu(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let h=Math.min(s.len,l-a);Si(n,h,-1);let f=s.ins==-1?-1:s.off==0?s.ins:0;Si(t,h,f),f>0&&aa(i,t,s.text),s.forward(h),a+=h}let c=e[o++];for(;a<c;){if(s.done)break e;let h=Math.min(s.len,c-a);Si(t,h,-1),Si(n,h,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(h),a+=h}}return{changes:new ii(t,i),filtered:bo.create(n)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],n=this.sections[t+1];n<0?e.push(i):n==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let n=[],s=[],o=0,a=null;function l(h=!1){if(!h&&!n.length)return;o<t&&Si(n,t-o,-1);let f=new ii(n,s);a=a?a.compose(f.map(a)):f,n=[],s=[],o=0}function c(h){if(Array.isArray(h))for(let f of h)c(f);else if(h instanceof ii){if(h.length!=t)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${t})`);l(),a=a?a.compose(h.map(a)):h}else{let{from:f,to:g=f,insert:p}=h;if(f>g||f<0||g>t)throw new RangeError(`Invalid change range ${f} to ${g} (in doc of length ${t})`);let m=p?typeof p=="string"?Ut.of(p.split(i||Vm)):p:Ut.empty,y=m.length;if(f==g&&y==0)return;f<o&&l(),f>o&&Si(n,f-o,-1),Si(n,g-f,y),aa(s,n,m),o=g}}return c(e),l(!a),a}static empty(e){return new ii(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let n=0;n<e.length;n++){let s=e[n];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<n;)i.push(Ut.empty);i[n]=Ut.of(s.slice(1)),t.push(s[0],i[n].length)}}}return new ii(t,i)}static createSet(e,t){return new ii(e,t)}}function Si(r,e,t,i=!1){if(e==0&&t<=0)return;let n=r.length-2;n>=0&&t<=0&&t==r[n+1]?r[n]+=e:n>=0&&e==0&&r[n]==0?r[n+1]+=t:i?(r[n]+=e,r[n+1]+=t):r.push(e,t)}function aa(r,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<i;)r.push(Ut.empty);r.push(t)}}function Zm(r,e,t){let i=r.inserted;for(let n=0,s=0,o=0;o<r.sections.length;){let a=r.sections[o++],l=r.sections[o++];if(l<0)n+=a,s+=a;else{let c=n,h=s,f=Ut.empty;for(;c+=a,h+=l,l&&i&&(f=f.append(i[o-2>>1])),!(t||o==r.sections.length||r.sections[o+1]<0);)a=r.sections[o++],l=r.sections[o++];e(n,c,s,h,f),n=c,s=h}}}function Gm(r,e,t,i=!1){let n=[],s=i?[]:null,o=new Iu(r),a=new Iu(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);Si(n,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let c=a.len;for(Si(n,a.ins,-1);c;){let h=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=h&&(Si(n,0,o.ins),s&&aa(s,n,o.text),l=o.i),o.forward(h),c-=h}a.next()}else if(o.ins>=0){let c=0,h=o.len;for(;h;)if(a.ins==-1){let f=Math.min(h,a.len);c+=f,h-=f,a.forward(f)}else if(a.ins==0&&a.len<h)h-=a.len,a.next();else break;Si(n,c,l<o.i?o.ins:0),s&&l<o.i&&aa(s,n,o.text),l=o.i,o.forward(o.len-h)}else{if(o.done&&a.done)return s?ii.createSet(n,s):bo.create(n);throw new Error("Mismatched change set lengths")}}}function _k(r,e,t=!1){let i=[],n=t?[]:null,s=new Iu(r),o=new Iu(e);for(let a=!1;;){if(s.done&&o.done)return n?ii.createSet(i,n):bo.create(i);if(s.ins==0)Si(i,s.len,0,a),s.next();else if(o.len==0&&!o.done)Si(i,0,o.ins,a),n&&aa(n,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=i.length;if(s.ins==-1){let h=o.ins==-1?-1:o.off?0:o.ins;Si(i,l,h,a),n&&h&&aa(n,i,o.text)}else o.ins==-1?(Si(i,s.off?0:s.len,l,a),n&&aa(n,i,s.textBit(l))):(Si(i,s.off?0:s.len,o.off?0:o.ins,a),n&&!o.off&&aa(n,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>c),s.forward2(l),o.forward(l)}}}}class Iu{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Ut.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?Ut.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class xl{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,n;return this.empty?i=n=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),n=e.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new xl(i,n,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Xe.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Xe.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Xe.range(e.anchor,e.head)}static create(e,t,i){return new xl(e,t,i)}}class Xe{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Xe.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Xe([this.main],0)}addRange(e,t=!0){return Xe.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,Xe.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Xe(e.ranges.map(t=>xl.fromJSON(t)),e.main)}static single(e,t=e){return new Xe([Xe.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<e.length;n++){let s=e[n];if(s.empty?s.from<=i:s.from<i)return Xe.normalized(e.slice(),t);i=s.to}return new Xe(e,t)}static cursor(e,t=0,i,n){return xl.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(n!=null?n:16777215)<<6)}static range(e,t,i,n){let s=(i!=null?i:16777215)<<6|(n==null?7:Math.min(6,n));return t<e?xl.create(t,e,48|s):xl.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((n,s)=>n.from-s.from),t=e.indexOf(i);for(let n=1;n<e.length;n++){let s=e[n],o=e[n-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);n<=t&&t--,e.splice(--n,2,s.anchor>s.head?Xe.range(l,a):Xe.range(a,l))}}return new Xe(e,t)}}function kk(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Wb=0;class nt{constructor(e,t,i,n,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=n,this.id=Wb++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new nt(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:Yb),!!e.static,e.enables)}of(e){return new pp([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new pp(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new pp(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function Yb(r,e){return r==e||r.length==e.length&&r.every((t,i)=>t===e[i])}class pp{constructor(e,t,i,n){this.dependencies=e,this.facet=t,this.type=i,this.value=n,this.id=Wb++}dynamicSlot(e){var t;let i=this.value,n=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,h=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?c=!0:((t=e[f.id])!==null&&t!==void 0?t:1)&1||h.push(e[f.id]);return{create(f){return f.values[o]=i(f),1},update(f,g){if(l&&g.docChanged||c&&(g.docChanged||g.selection)||Hm(f,h)){let p=i(f);if(a?!Nw(p,f.values[o],n):!n(p,f.values[o]))return f.values[o]=p,1}return 0},reconfigure:(f,g)=>{let p,m=g.config.address[s];if(m!=null){let y=tg(g,m);if(this.dependencies.every(v=>v instanceof nt?g.facet(v)===f.facet(v):v instanceof Qa?g.field(v,!1)==f.field(v,!1):!0)||(a?Nw(p=i(f),y,n):n(p=i(f),y)))return f.values[o]=y,0}else p=i(f);return f.values[o]=p,1}}}}function Nw(r,e,t){if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(!t(r[i],e[i]))return!1;return!0}function Hm(r,e){let t=!1;for(let i of e)Pu(r,i)&1&&(t=!0);return t}function PE(r,e,t){let i=t.map(l=>r[l.id]),n=t.map(l=>l.type),s=i.filter(l=>!(l&1)),o=r[e.id]>>1;function a(l){let c=[];for(let h=0;h<i.length;h++){let f=tg(l,i[h]);if(n[h]==2)for(let g of f)c.push(g);else c.push(f)}return e.combine(c)}return{create(l){for(let c of i)Pu(l,c);return l.values[o]=a(l),1},update(l,c){if(!Hm(l,s))return 0;let h=a(l);return e.compare(h,l.values[o])?0:(l.values[o]=h,1)},reconfigure(l,c){let h=Hm(l,i),f=c.config.facets[e.id],g=c.facet(e);if(f&&!h&&Yb(t,f))return l.values[o]=g,0;let p=a(l);return e.compare(p,g)?(l.values[o]=g,0):(l.values[o]=p,1)}}}const wd=nt.define({static:!0});class Qa{constructor(e,t,i,n,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=n,this.spec=s,this.provides=void 0}static define(e){let t=new Qa(Wb++,e.create,e.update,e.compare||((i,n)=>i===n),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(wd).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,n)=>{let s=i.values[t],o=this.updateF(s,n);return this.compareF(s,o)?0:(i.values[t]=o,1)},reconfigure:(i,n)=>{let s=i.facet(wd),o=n.facet(wd),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(i.values[t]=a.create(i),1):n.config.address[this.id]!=null?(i.values[t]=n.field(this),0):(i.values[t]=this.create(i),1)}}}init(e){return[this,wd.of({field:this,create:e})]}get extension(){return this}}const dl={lowest:4,low:3,default:2,high:1,highest:0};function Zh(r){return e=>new $k(e,r)}const Ig={highest:Zh(dl.highest),high:Zh(dl.high),default:Zh(dl.default),low:Zh(dl.low),lowest:Zh(dl.lowest)};class $k{constructor(e,t){this.inner=e,this.prec=t}}class Wg{of(e){return new Km(this,e)}reconfigure(e){return Wg.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Km{constructor(e,t){this.compartment=e,this.inner=t}}class eg{constructor(e,t,i,n,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=n,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let n=[],s=Object.create(null),o=new Map;for(let g of jE(e,t,o))g instanceof Qa?n.push(g):(s[g.facet.id]||(s[g.facet.id]=[])).push(g);let a=Object.create(null),l=[],c=[];for(let g of n)a[g.id]=c.length<<1,c.push(p=>g.slot(p));let h=i==null?void 0:i.config.facets;for(let g in s){let p=s[g],m=p[0].facet,y=h&&h[g]||[];if(p.every(v=>v.type==0))if(a[m.id]=l.length<<1|1,Yb(y,p))l.push(i.facet(m));else{let v=m.combine(p.map(S=>S.value));l.push(i&&m.compare(v,i.facet(m))?i.facet(m):v)}else{for(let v of p)v.type==0?(a[v.id]=l.length<<1|1,l.push(v.value)):(a[v.id]=c.length<<1,c.push(S=>v.dynamicSlot(S)));a[m.id]=c.length<<1,c.push(v=>PE(v,m,p))}}let f=c.map(g=>g(a));return new eg(e,o,f,a,l,s)}}function jE(r,e,t){let i=[[],[],[],[],[]],n=new Map;function s(o,a){let l=n.get(o);if(l!=null){if(l<=a)return;let c=i[l].indexOf(o);c>-1&&i[l].splice(c,1),o instanceof Km&&t.delete(o.compartment)}if(n.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof Km){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),s(c,a)}else if(o instanceof $k)s(o.inner,o.prec);else if(o instanceof Qa)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof pp)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,dl.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(r,dl.default),i.reduce((o,a)=>o.concat(a))}function Pu(r,e){if(e&1)return 2;let t=e>>1,i=r.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;r.status[t]=4;let n=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|n}function tg(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const Pk=nt.define(),Jm=nt.define({combine:r=>r.some(e=>e),static:!0}),jk=nt.define({combine:r=>r.length?r[0]:void 0,static:!0}),Qk=nt.define(),Nk=nt.define(),Ak=nt.define(),Tk=nt.define({combine:r=>r.length?r[0]:!1});class Vl{constructor(e,t){this.type=e,this.value=t}static define(){return new QE}}class QE{of(e){return new Vl(this,e)}}class NE{constructor(e){this.map=e}of(e){return new _r(this,e)}}class _r{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new _r(this.type,t)}is(e){return this.type==e}static define(e={}){return new NE(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let n of e){let s=n.map(t);s&&i.push(s)}return i}}_r.reconfigure=_r.define();_r.appendConfig=_r.define();class gi{constructor(e,t,i,n,s,o){this.startState=e,this.changes=t,this.selection=i,this.effects=n,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&kk(i,t.newLength),s.some(a=>a.type==gi.time)||(this.annotations=s.concat(gi.time.of(Date.now())))}static create(e,t,i,n,s,o){return new gi(e,t,i,n,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(gi.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}gi.time=Vl.define();gi.userEvent=Vl.define();gi.addToHistory=Vl.define();gi.remote=Vl.define();function AE(r,e){let t=[];for(let i=0,n=0;;){let s,o;if(i<r.length&&(n==e.length||e[n]>=r[i]))s=r[i++],o=r[i++];else if(n<e.length)s=e[n++],o=e[n++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function Ck(r,e,t){var i;let n,s,o;return t?(n=e.changes,s=ii.empty(e.changes.length),o=r.changes.compose(e.changes)):(n=e.changes.map(r.changes),s=r.changes.mapDesc(e.changes,!0),o=r.changes.compose(n)),{changes:o,selection:e.selection?e.selection.map(s):(i=r.selection)===null||i===void 0?void 0:i.map(n),effects:_r.mapEffects(r.effects,n).concat(_r.mapEffects(e.effects,s)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function e1(r,e,t){let i=e.selection,n=Xc(e.annotations);return e.userEvent&&(n=n.concat(gi.userEvent.of(e.userEvent))),{changes:e.changes instanceof ii?e.changes:ii.of(e.changes||[],t,r.facet(jk)),selection:i&&(i instanceof Xe?i:Xe.single(i.anchor,i.head)),effects:Xc(e.effects),annotations:n,scrollIntoView:!!e.scrollIntoView}}function Xk(r,e,t){let i=e1(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;i=Ck(i,e1(r,e[s],o?i.changes.newLength:r.doc.length),o)}let n=gi.create(r,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return CE(t?TE(n):n)}function TE(r){let e=r.startState,t=!0;for(let n of e.facet(Qk)){let s=n(r);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:AE(t,s))}if(t!==!0){let n,s;if(t===!1)s=r.changes.invertedDesc,n=ii.empty(e.doc.length);else{let o=r.changes.filter(t);n=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}r=gi.create(e,n,r.selection&&r.selection.map(s),_r.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let i=e.facet(Nk);for(let n=i.length-1;n>=0;n--){let s=i[n](r);s instanceof gi?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof gi?r=s[0]:r=Xk(e,Xc(s),!1)}return r}function CE(r){let e=r.startState,t=e.facet(Ak),i=r;for(let n=t.length-1;n>=0;n--){let s=t[n](r);s&&Object.keys(s).length&&(i=Ck(i,e1(e,s,r.changes.newLength),!0))}return i==r?r:gi.create(e,r.changes,r.selection,i.effects,i.annotations,i.scrollIntoView)}const XE=[];function Xc(r){return r==null?XE:Array.isArray(r)?r:[r]}var mo=function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r}(mo||(mo={}));const EE=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let t1;try{t1=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(r){}function RE(r){if(t1)return t1.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||EE.test(t)))return!0}return!1}function UE(r){return e=>{if(!/\S/.test(e))return mo.Space;if(RE(e))return mo.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return mo.Word;return mo.Other}}class Dt{constructor(e,t,i,n,s,o){this.config=e,this.doc=t,this.selection=i,this.values=n,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Pu(this,a<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Pu(this,i),tg(this,i)}update(...e){return Xk(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:n}=t;for(let a of e.effects)a.is(Wg.reconfigure)?(t&&(n=new Map,t.compartments.forEach((l,c)=>n.set(c,l)),t=null),n.set(a.value.compartment,a.value.extension)):a.is(_r.reconfigure)?(t=null,i=a.value):a.is(_r.appendConfig)&&(t=null,i=Xc(i).concat(a.value));let s;t?s=e.startState.values.slice():(t=eg.resolve(i,n,this),s=new Dt(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(Jm)?e.newSelection:e.newSelection.asSingle();new Dt(t,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Xe.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),n=this.changes(i.changes),s=[i.range],o=Xc(i.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),c=this.changes(l.changes),h=c.map(n);for(let g=0;g<a;g++)s[g]=s[g].map(h);let f=n.mapDesc(c,!0);s.push(l.range.map(f)),n=n.compose(h),o=_r.mapEffects(o,h).concat(_r.mapEffects(Xc(l.effects),f))}return{changes:n,selection:Xe.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof ii?e:ii.of(e,this.doc.length,this.facet(Dt.lineSeparator))}toText(e){return Ut.of(e.split(this.facet(Dt.lineSeparator)||Vm))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Pu(this,t),tg(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let n=e[i];n instanceof Qa&&this.config.address[n.id]!=null&&(t[i]=n.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],a=e[s];n.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Dt.create({doc:e.doc,selection:Xe.fromJSON(e.selection),extensions:t.extensions?n.concat([t.extensions]):n})}static create(e={}){let t=eg.resolve(e.extensions||[],new Map),i=e.doc instanceof Ut?e.doc:Ut.of((e.doc||"").split(t.staticFacet(Dt.lineSeparator)||Vm)),n=e.selection?e.selection instanceof Xe?e.selection:Xe.single(e.selection.anchor,e.selection.head):Xe.single(0);return kk(n,i.length),t.staticFacet(Jm)||(n=n.asSingle()),new Dt(t,i,n,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Dt.tabSize)}get lineBreak(){return this.facet(Dt.lineSeparator)||`
`}get readOnly(){return this.facet(Tk)}phrase(e,...t){for(let i of this.facet(Dt.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,n)=>{if(n=="$")return"$";let s=+(n||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let n=[];for(let s of this.facet(Pk))for(let o of s(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&n.push(o[e]);return n}charCategorizer(e){return UE(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:n}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=Ui(t,o,!1);if(s(t.slice(l,o))!=mo.Word)break;o=l}for(;a<n;){let l=Ui(t,a);if(s(t.slice(a,l))!=mo.Word)break;a=l}return o==a?null:Xe.range(o+i,a+i)}}Dt.allowMultipleSelections=Jm;Dt.tabSize=nt.define({combine:r=>r.length?r[0]:4});Dt.lineSeparator=jk;Dt.readOnly=Tk;Dt.phrases=nt.define({compare(r,e){let t=Object.keys(r),i=Object.keys(e);return t.length==i.length&&t.every(n=>r[n]==e[n])}});Dt.languageData=Pk;Dt.changeFilter=Qk;Dt.transactionFilter=Nk;Dt.transactionExtender=Ak;Wg.reconfigure=_r.define();function LE(r,e,t={}){let i={};for(let n of r)for(let s of Object.keys(n)){let o=n[s],a=i[s];if(a===void 0)i[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let n in e)i[n]===void 0&&(i[n]=e[n]);return i}class El{eq(e){return this==e}range(e,t=e){return r1.create(e,t,this)}}El.prototype.startSide=El.prototype.endSide=0;El.prototype.point=!1;El.prototype.mapMode=Ei.TrackDel;let r1=class Ek{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new Ek(e,t,i)}};function i1(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class Db{constructor(e,t,i,n){this.from=e,this.to=t,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,n=0){let s=i?this.to:this.from;for(let o=n,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,t,i,n){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(n(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],n=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],h=this.from[l]+e,f=this.to[l]+e,g,p;if(h==f){let m=t.mapPos(h,c.startSide,c.mapMode);if(m==null||(g=p=m,c.startSide!=c.endSide&&(p=t.mapPos(h,c.endSide),p<g)))continue}else if(g=t.mapPos(h,c.startSide),p=t.mapPos(f,c.endSide),g>p||g==p&&c.startSide>0&&c.endSide<=0)continue;(p-g||c.endSide-c.startSide)<0||(o<0&&(o=g),c.point&&(a=Math.max(a,p-g)),i.push(c),n.push(g-o),s.push(p-o))}return{mapped:i.length?new Db(n,s,i,a):null,pos:o}}}class Zt{constructor(e,t,i,n){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=n}static create(e,t,i,n){return new Zt(e,t,i,n)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:n=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(i1)),this.isEmpty)return t.length?Zt.of(t):this;let a=new Rk(this,null,-1).goto(0),l=0,c=[],h=new Wu;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let f=t[l++];h.addInner(f.from,f.to,f.value)||c.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||n>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&h.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||n>a.to||s<a.from||o(a.from,a.to,a.value))&&(h.addInner(a.from,a.to,a.value)||c.push(r1.create(a.from,a.to,a.value))),a.next());return h.finishInner(this.nextLayer.isEmpty&&!c.length?Zt.empty:this.nextLayer.update({add:c,filter:o,filterFrom:n,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],n=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)n=Math.max(n,l.maxPoint),t.push(l),i.push(e.mapPos(a));else if(c===!0){let{mapped:h,pos:f}=l.map(a,e);h&&(n=Math.max(n,h.maxPoint),t.push(h),i.push(f))}}let s=this.nextLayer.map(e);return t.length==0?s:new Zt(i,t,s||Zt.empty,n)}between(e,t,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],o=this.chunk[n];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return Yu.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Yu.from(e).goto(t)}static compare(e,t,i,n,s=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),a=t.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),l=Aw(o,a,i),c=new Gh(o,l,s),h=new Gh(a,l,s);i.iterGaps((f,g,p)=>Tw(c,f,h,g,p,n)),i.empty&&i.length==0&&Tw(c,0,h,0,0,n)}static eq(e,t,i=0,n){n==null&&(n=1e9-1);let s=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0),o=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=Aw(s,o),l=new Gh(s,a,0).goto(i),c=new Gh(o,a,0).goto(i);for(;;){if(l.to!=c.to||!n1(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>n)return!0;l.next(),c.next()}}static spans(e,t,i,n,s=-1){let o=new Gh(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let c=Math.min(o.to,i);if(o.point){let h=o.activeForPoint(o.to),f=o.pointFrom<t?h.length+1:o.point.startSide<0?h.length:Math.min(h.length,l);n.point(a,c,o.point,h,f,o.pointRank),l=Math.min(o.openEnd(c),h.length)}else c>a&&(n.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>i)return l+(o.point&&o.to>i?1:0);a=o.to,o.next()}}static of(e,t=!1){let i=new Wu;for(let n of e instanceof r1?[e]:t?zE(e):e)i.add(n.from,n.to,n.value);return i.finish()}static join(e){if(!e.length)return Zt.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let n=e[i];n!=Zt.empty;n=n.nextLayer)t=new Zt(n.chunkPos,n.chunk,t,Math.max(n.maxPoint,t.maxPoint));return t}}Zt.empty=new Zt([],[],null,-1);function zE(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let i=r[t];if(i1(e,i)>0)return r.slice().sort(i1);e=i}return r}Zt.empty.nextLayer=Zt.empty;class Wu{finishChunk(e){this.chunks.push(new Db(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Wu)).add(e,t,i)}addInner(e,t,i){let n=e-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Zt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Zt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Aw(r,e,t){let i=new Map;for(let s of r)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let n=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&n.add(s.chunk[o])}return n}class Rk{constructor(e,t,i,n=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<e||n.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Yu{constructor(e){this.heap=e}static from(e,t=null,i=-1){let n=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&n.push(new Rk(o,t,i,s));return n.length==1?n[0]:new Yu(n)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)P0(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)P0(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),P0(this.heap,0)}}}function P0(r,e){for(let t=r[e];;){let i=(e<<1)+1;if(i>=r.length)break;let n=r[i];if(i+1<r.length&&n.compare(r[i+1])>=0&&(n=r[i+1],i++),t.compare(n)<0)break;r[i]=t,r[e]=n,e=i}}class Gh{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Yu.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){vd(this.active,e),vd(this.activeTo,e),vd(this.activeRank,e),this.minActive=Cw(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:n,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||n-this.activeTo[t])>0;)t++;Sd(this.active,t,i),Sd(this.activeTo,t,n),Sd(this.activeRank,t,s),e&&Sd(e,t,this.cursor.from),this.minActive=Cw(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>e){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),i&&vd(i,n)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let n=i.length-1;n>=0&&i[n]<e;n--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function Tw(r,e,t,i,n,s){r.goto(e),t.goto(i);let o=i+n,a=i,l=i-e;for(;;){let c=r.to+l-t.to,h=c||r.endSide-t.endSide,f=h<0?r.to+l:t.to,g=Math.min(f,o);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&n1(r.activeForPoint(r.to),t.activeForPoint(t.to))||s.comparePoint(a,g,r.point,t.point):g>a&&!n1(r.active,t.active)&&s.compareRange(a,g,r.active,t.active),f>o)break;(c||r.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(f),a=f,h<=0&&r.next(),h>=0&&t.next()}}function n1(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function vd(r,e){for(let t=e,i=r.length-1;t<i;t++)r[t]=r[t+1];r.pop()}function Sd(r,e,t){for(let i=r.length-1;i>=e;i--)r[i+1]=r[i];r[e]=t}function Cw(r,e){let t=-1,i=1e9;for(let n=0;n<e.length;n++)(e[n]-i||r[n].endSide-r[t].endSide)<0&&(t=n,i=e[n]);return t}function Yg(r,e,t=r.length){let i=0;for(let n=0;n<t&&n<r.length;)r.charCodeAt(n)==9?(i+=e-i%e,n++):(i++,n=Ui(r,n));return i}function qE(r,e,t,i){for(let n=0,s=0;;){if(s>=e)return n;if(n==r.length)break;s+=r.charCodeAt(n)==9?t-s%t:1,n=Ui(r,n)}return i===!0?-1:r.length}const s1="ͼ",Xw=typeof Symbol=="undefined"?"__"+s1:Symbol.for(s1),o1=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Ew=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{};class ma{constructor(e,t){this.rules=[];let{finish:i}=t||{};function n(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let h=[],f=/^@(\w+)\b/.exec(o[0]),g=f&&f[1]=="keyframes";if(f&&a==null)return l.push(o[0]+";");for(let p in a){let m=a[p];if(/&/.test(p))s(p.split(/,\s*/).map(y=>o.map(v=>y.replace(/&/,v))).reduce((y,v)=>y.concat(v)),m,l);else if(m&&typeof m=="object"){if(!f)throw new RangeError("The value of a property ("+p+") should be a primitive value.");s(n(p),m,h,g)}else m!=null&&h.push(p.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+m+";")}(h.length||g)&&l.push((i&&!f&&!c?o.map(i):o).join(", ")+" {"+h.join(" ")+"}")}for(let o in e)s(n(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Ew[Xw]||1;return Ew[Xw]=e+1,s1+e.toString(36)}static mount(e,t,i){let n=e[o1],s=i&&i.nonce;n?s&&n.setNonce(s):n=new IE(e,s),n.mount(Array.isArray(t)?t:[t],e)}}let Rw=new Map;class IE{constructor(e,t){let i=e.ownerDocument||e,n=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&n.CSSStyleSheet){let s=Rw.get(i);if(s)return e[o1]=s;this.sheet=new n.CSSStyleSheet,Rw.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[o1]=this}mount(e,t){let i=this.sheet,n=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),i)for(let c=0;c<a.rules.length;c++)i.insertRule(a.rules[c],n++)}else{for(;s<l;)n+=this.modules[s++].rules.length;n+=a.rules.length,s++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ba={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Du={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},WE=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),YE=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ui=0;ui<10;ui++)ba[48+ui]=ba[96+ui]=String(ui);for(var ui=1;ui<=24;ui++)ba[ui+111]="F"+ui;for(var ui=65;ui<=90;ui++)ba[ui]=String.fromCharCode(ui+32),Du[ui]=String.fromCharCode(ui);for(var j0 in ba)Du.hasOwnProperty(j0)||(Du[j0]=ba[j0]);function DE(r){var e=WE&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||YE&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?Du:ba)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Bu(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function a1(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function gp(r,e){if(!e.anchorNode)return!1;try{return a1(r,e.anchorNode)}catch(t){return!1}}function Mu(r){return r.nodeType==3?Ul(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function ju(r,e,t,i){return t?Uw(r,e,t,i,-1)||Uw(r,e,t,i,1):!1}function Rl(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function rg(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function Uw(r,e,t,i,n){for(;;){if(r==t&&e==i)return!0;if(e==(n<0?0:Ts(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;e=Rl(r)+(n<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(n<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=n<0?Ts(r):0}else return!1}}function Ts(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Dg(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function BE(r){let e=r.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function Uk(r,e){let t=e.width/r.offsetWidth,i=e.height/r.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-r.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-r.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function ME(r,e,t,i,n,s,o,a){let l=r.ownerDocument,c=l.defaultView||window;for(let h=r,f=!1;h&&!f;)if(h.nodeType==1){let g,p=h==l.body,m=1,y=1;if(p)g=BE(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(f=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let C=h.getBoundingClientRect();({scaleX:m,scaleY:y}=Uk(h,C)),g={left:C.left,right:C.left+h.clientWidth*m,top:C.top,bottom:C.top+h.clientHeight*y}}let v=0,S=0;if(n=="nearest")e.top<g.top?(S=e.top-(g.top+o),t>0&&e.bottom>g.bottom+S&&(S=e.bottom-g.bottom+o)):e.bottom>g.bottom&&(S=e.bottom-g.bottom+o,t<0&&e.top-S<g.top&&(S=e.top-(g.top+o)));else{let C=e.bottom-e.top,P=g.bottom-g.top;S=(n=="center"&&C<=P?e.top+C/2-P/2:n=="start"||n=="center"&&t<0?e.top-o:e.bottom-P+o)-g.top}if(i=="nearest"?e.left<g.left?(v=e.left-(g.left+s),t>0&&e.right>g.right+v&&(v=e.right-g.right+s)):e.right>g.right&&(v=e.right-g.right+s,t<0&&e.left<g.left+v&&(v=e.left-(g.left+s))):v=(i=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:i=="start"==a?e.left-s:e.right-(g.right-g.left)+s)-g.left,v||S)if(p)c.scrollBy(v,S);else{let C=0,P=0;if(S){let X=h.scrollTop;h.scrollTop+=S/y,P=(h.scrollTop-X)*y}if(v){let X=h.scrollLeft;h.scrollLeft+=v/m,C=(h.scrollLeft-X)*m}e={left:e.left-C,top:e.top-P,right:e.right-C,bottom:e.bottom-P},C&&Math.abs(C-v)<1&&(i="nearest"),P&&Math.abs(P-S)<1&&(n="nearest")}if(p)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function FE(r){let e=r.ownerDocument,t,i;for(let n=r.parentNode;n&&!(n==e.body||t&&i);)if(n.nodeType==1)!i&&n.scrollHeight>n.clientHeight&&(i=n),!t&&n.scrollWidth>n.clientWidth&&(t=n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;return{x:t,y:i}}class VE{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?Ts(t):0),i,Math.min(e.focusOffset,i?Ts(i):0))}set(e,t,i,n){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=n}}let mc=null;function Lk(r){if(r.setActive)return r.setActive();if(mc)return r.focus(mc);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus(mc==null?{get preventScroll(){return mc={preventScroll:!0},!0}}:void 0),!mc){mc=!1;for(let t=0;t<e.length;){let i=e[t++],n=e[t++],s=e[t++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let Lw;function Ul(r,e,t=e){let i=Lw||(Lw=document.createRange());return i.setEnd(r,t),i.setStart(r,e),i}function Ec(r,e,t,i){let n={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey}=i);let s=new KeyboardEvent("keydown",n);s.synthetic=!0,r.dispatchEvent(s);let o=new KeyboardEvent("keyup",n);return o.synthetic=!0,r.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function ZE(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function zk(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function GE(r,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,Ts(t));;)if(i){if(t.nodeType!=1)return!1;let n=t.childNodes[i-1];n.contentEditable=="false"?i--:(t=n,i=Ts(t))}else{if(t==r)return!0;i=Rl(t),t=t.parentNode}}function qk(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function Ik(r,e){for(let t=r,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=Ts(t)}else if(t.parentNode&&!rg(t))i=Rl(t),t=t.parentNode;else return null}}function Wk(r,e){for(let t=r,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!rg(t))i=Rl(t)+1,t=t.parentNode;else return null}}class Qi{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Qi(e.parentNode,Rl(e),t)}static after(e,t){return new Qi(e.parentNode,Rl(e)+1,t)}}const Bb=[];class sr{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,n=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=n?n.nextSibling:i.firstChild)){let a=sr.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=n?n.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&s!=o.dom&&(t.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=zw(s);else i.insertBefore(o.dom,s);n=o.dom}for(s=n?n.nextSibling:i.firstChild,s&&t&&t.node==i&&(t.written=!0);s;)s=zw(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let n=Ts(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;n==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?n=-1:n=1),e=s}n<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!sr.get(i);)i=i.nextSibling;if(!i)return this.length;for(let n=0,s=0;;n++){let o=this.children[n];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let n=-1,s=-1,o=-1,a=-1;for(let l=0,c=i,h=i;l<this.children.length;l++){let f=this.children[l],g=c+f.length;if(c<e&&g>t)return f.domBoundsAround(e,t,c);if(g>=e&&n==-1&&(n=l,s=c),c>t&&f.dom.parentNode==this.dom){o=l,a=h;break}h=g,c=g+f.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=Bb){this.markDirty();for(let n=e;n<t;n++){let s=this.children[n];s.parent==this&&i.indexOf(s)<0&&s.destroy()}i.length<250?this.children.splice(e,t-e,...i):this.children=[].concat(this.children.slice(0,e),i,this.children.slice(t));for(let n=0;n<i.length;n++)i[n].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Yk(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,n,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}sr.prototype.breakAfter=0;function zw(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class Yk{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function Dk(r,e,t,i,n,s,o,a,l){let{children:c}=r,h=c.length?c[e]:null,f=s.length?s[s.length-1]:null,g=f?f.breakAfter:o;if(!(e==i&&h&&!o&&!g&&s.length<2&&h.merge(t,n,s.length?f:null,t==0,a,l))){if(i<c.length){let p=c[i];p&&(n<p.length||p.breakAfter&&(f!=null&&f.breakAfter))?(e==i&&(p=p.split(n),n=0),!g&&f&&p.merge(0,n,f,!0,0,l)?s[s.length-1]=p:((n||p.children.length&&!p.children[0].length)&&p.merge(0,n,null,!1,0,l),s.push(p))):p!=null&&p.breakAfter&&(f?f.breakAfter=1:o=1),i++}for(h&&(h.breakAfter=o,t>0&&(!o&&s.length&&h.merge(t,h.length,s[0],!1,a,0)?h.breakAfter=s.shift().breakAfter:(t<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(t,h.length,null,!1,a,0),e++));e<i&&s.length;)if(c[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,a,l)&&e--,(e<i||s.length)&&r.replaceChildren(e,i,s)}}function Bk(r,e,t,i,n,s){let o=r.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:c,off:h}=o.findPos(e,-1),f=e-t;for(let g of i)f+=g.length;r.length+=f,Dk(r,c,h,a,l,i,0,n,s)}let Yi=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},l1=typeof document!="undefined"?document:{documentElement:{style:{}}};const c1=/Edge\/(\d+)/.exec(Yi.userAgent),Mk=/MSIE \d/.test(Yi.userAgent),h1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Yi.userAgent),Bg=!!(Mk||h1||c1),qw=!Bg&&/gecko\/(\d+)/i.test(Yi.userAgent),Q0=!Bg&&/Chrome\/(\d+)/.exec(Yi.userAgent),Iw="webkitFontSmoothing"in l1.documentElement.style,Fk=!Bg&&/Apple Computer/.test(Yi.vendor),Ww=Fk&&(/Mobile\/\w+/.test(Yi.userAgent)||Yi.maxTouchPoints>2);var Ye={mac:Ww||/Mac/.test(Yi.platform),windows:/Win/.test(Yi.platform),linux:/Linux|X11/.test(Yi.platform),ie:Bg,ie_version:Mk?l1.documentMode||6:h1?+h1[1]:c1?+c1[1]:0,gecko:qw,gecko_version:qw?+(/Firefox\/(\d+)/.exec(Yi.userAgent)||[0,0])[1]:0,chrome:!!Q0,chrome_version:Q0?+Q0[1]:0,ios:Ww,android:/Android\b/.test(Yi.userAgent),webkit:Iw,safari:Fk,webkit_version:Iw?+(/\bAppleWebKit\/(\d+)/.exec(Yi.userAgent)||[0,0])[1]:0,tabSize:l1.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const HE=256;class Dn extends sr{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof Dn)||this.length-(t-e)+i.length>HE||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Dn(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Qi(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return KE(this.dom,e,t)}}class wo extends sr{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let n of t)n.setParent(this)}setAttrs(e){if(zk(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,n,s,o){return i&&(!(i instanceof wo&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(Bk(this,e,t,i?i.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,n=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&t.push(i<e?a.split(e-i):a),n<0&&i>=e&&(n=s),i=l,s++}let o=this.length-e;return this.length=e,n>-1&&(this.children.length=n,this.markDirty()),new wo(this.mark,t,o)}domAtPos(e){return Vk(this,e)}coordsAt(e,t){return Gk(this,e,t)}}function KE(r,e,t){let i=r.nodeValue.length;e>i&&(e=i);let n=e,s=e,o=0;e==0&&t<0||e==i&&t>=0?Ye.chrome||Ye.gecko||(e?(n--,o=1):s<i&&(s++,o=-1)):t<0?n--:s<i&&s++;let a=Ul(r,n,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return Ye.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?Dg(l,o<0):l||null}class wl extends sr{static create(e,t,i){return new wl(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=wl.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,i,n,s,o){return i&&(!(i instanceof wl)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof wl&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Ut.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):Ut.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Qi.before(this.dom):Qi.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let n=this.dom.getClientRects(),s=null;if(!n.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?n.length-1:0;s=n[a],!(e>0?a==0:a==n.length-1||s.top<s.bottom);a+=o?-1:1);return Dg(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Dc extends sr{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Dc&&e.side==this.side}split(){return new Dc(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Qi.before(this.dom):Qi.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Ut.empty}get isHidden(){return!0}}Dn.prototype.children=wl.prototype.children=Dc.prototype.children=Bb;function Vk(r,e){let t=r.dom,{children:i}=r,n=0;for(let s=0;n<i.length;n++){let o=i[n],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=n;s>0;s--){let o=i[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=n;s<i.length;s++){let o=i[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new Qi(t,0)}function Zk(r,e,t){let i,{children:n}=r;t>0&&e instanceof wo&&n.length&&(i=n[n.length-1])instanceof wo&&i.mark.eq(e.mark)?Zk(i,e.children[0],t-1):(n.push(e),e.setParent(r)),r.length+=e.length}function Gk(r,e,t){let i=null,n=-1,s=null,o=-1;function a(c,h){for(let f=0,g=0;f<c.children.length&&g<=h;f++){let p=c.children[f],m=g+p.length;m>=h&&(p.children.length?a(p,h-g):(!s||s.isHidden&&(t>0||e7(s,p)))&&(m>h||g==m&&p.getSide()>0)?(s=p,o=h-g):(g<h||g==m&&p.getSide()<0&&!p.isHidden)&&(i=p,n=h-g)),g=m}}a(r,e);let l=(t<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?n:o),t):JE(r)}function JE(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=Mu(e);return t[t.length-1]||null}function e7(r,e){let t=r.coordsAt(0,1),i=e.coordsAt(0,1);return t&&i&&i.top<t.bottom}function u1(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}const Yw=Object.create(null);function ig(r,e,t){if(r==e)return!0;r||(r=Yw),e||(e=Yw);let i=Object.keys(r),n=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=n.length-(t&&n.indexOf(t)>-1?1:0))return!1;for(let s of i)if(s!=t&&(n.indexOf(s)==-1||r[s]!==e[s]))return!1;return!0}function f1(r,e,t){let i=!1;if(e)for(let n in e)t&&n in t||(i=!0,n=="style"?r.style.cssText="":r.removeAttribute(n));if(t)for(let n in t)e&&e[n]==t[n]||(i=!0,n=="style"?r.style.cssText=t[n]:r.setAttribute(n,t[n]));return i}function t7(r){let e=Object.create(null);for(let t=0;t<r.attributes.length;t++){let i=r.attributes[t];e[i.name]=i.value}return e}class Mg{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var vn=function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r}(vn||(vn={}));class kr extends El{constructor(e,t,i,n){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(e){return new mf(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new ya(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,n;if(e.isBlockGap)i=-5e8,n=4e8;else{let{start:s,end:o}=Hk(e,t);i=(s?t?-3e8:-1:5e8)-1,n=(o?t?2e8:1:-6e8)+1}return new ya(e,i,n,t,e.widget||null,!0)}static line(e){return new bf(e)}static set(e,t=!1){return Zt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}kr.none=Zt.empty;class mf extends kr{constructor(e){let{start:t,end:i}=Hk(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof mf&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&ig(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}mf.prototype.point=!1;class bf extends kr{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof bf&&this.spec.class==e.spec.class&&ig(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}bf.prototype.mapMode=Ei.TrackBefore;bf.prototype.point=!0;class ya extends kr{constructor(e,t,i,n,s,o){super(t,i,s,e),this.block=n,this.isReplace=o,this.mapMode=n?t<=0?Ei.TrackBefore:Ei.TrackAfter:Ei.TrackDel}get type(){return this.startSide!=this.endSide?vn.WidgetRange:this.startSide<=0?vn.WidgetBefore:vn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ya&&r7(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}ya.prototype.point=!0;function Hk(r,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=r;return t==null&&(t=r.inclusive),i==null&&(i=r.inclusive),{start:t!=null?t:e,end:i!=null?i:e}}function r7(r,e){return r==e||!!(r&&e&&r.compare(e))}function Op(r,e,t,i=0){let n=t.length-1;n>=0&&t[n]+i>=r?t[n]=Math.max(t[n],e):t.push(r,e)}class Yr extends sr{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,n,s,o){if(i){if(!(i instanceof Yr))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),Bk(this,e,t,i?i.children.slice():[],s,o),!0}split(e){let t=new Yr;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:n}=this.childPos(e);n&&(t.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){ig(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Zk(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=u1(t,this.attrs||{})),i&&(this.attrs=u1({class:i},this.attrs||{}))}domAtPos(e){return Vk(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(zk(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(f1(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let n=this.dom.lastChild;for(;n&&sr.get(n)instanceof wo;)n=n.lastChild;if(!n||!this.length||n.nodeName!="BR"&&((i=sr.get(n))===null||i===void 0?void 0:i.isEditable)==!1&&(!Ye.ios||!this.children.some(s=>s instanceof Dn))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof Dn)||/[^ -~]/.test(i.text))return null;let n=Mu(i.dom);if(n.length!=1)return null;e+=n[0].width,t=n[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=Gk(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:n}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-n.lineHeight)<2&&n.textHeight<s){let o=(s-n.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return e instanceof Yr&&this.children.length==0&&e.children.length==0&&ig(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let i=0,n=0;i<e.children.length;i++){let s=e.children[i],o=n+s.length;if(o>=t){if(s instanceof Yr)return s;if(o>t)break}n=o+s.breakAfter}return null}}class yo extends sr{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,n,s,o){return i&&(!(i instanceof yo)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Qi.before(this.dom):Qi.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new yo(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return Bb}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ut.empty}domBoundsAround(){return null}become(e){return e instanceof yo&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);return i||(this.widget instanceof d1?null:Dg(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class d1 extends Mg{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Qu{constructor(e,t,i,n){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof yo&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Yr),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(_d(new Dc(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof yo)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let n=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(_d(new Dn(this.text.slice(this.textOff,this.textOff+n)),t),i),this.atCursorPos=!0,this.textOff+=n,e-=n,i=0}}span(e,t,i,n){this.buildText(t-e,i,n),this.pos=t,this.openStart<0&&(this.openStart=n)}point(e,t,i,n,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof ya){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(i instanceof ya)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new yo(i.widget||Bc.block,a,i));else{let l=wl.create(i.widget||Bc.inline,a,a?0:i.startSide),c=this.atCursorPos&&!l.isEditable&&s<=n.length&&(e<t||i.startSide>0),h=!l.isEditable&&(e<t||s>n.length||i.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(n),c&&(f.append(_d(new Dc(1),n),s),s=n.length+Math.max(0,s-n.length)),f.append(_d(l,n),s),this.atCursorPos=h,this.pendingBuffer=h?e<t||s>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,n,s){let o=new Qu(e,t,i,s);return o.openEnd=Zt.spans(n,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function _d(r,e){for(let t of e)r=new wo(t,[r],r.length);return r}class Bc extends Mg{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Bc.inline=new Bc("span");Bc.block=new Bc("div");var Jr=function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r}(Jr||(Jr={}));const Ll=Jr.LTR,Mb=Jr.RTL;function Kk(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}const i7=Kk("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),n7=Kk("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),p1=Object.create(null),os=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);p1[e]=t,p1[t]=-e}function Jk(r){return r<=247?i7[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?n7[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}const s7=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class la{get dir(){return this.level%2?Mb:Ll}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,n){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==i)return o;(s<0||(n!=0?n<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function e4(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++){let i=r[t],n=e[t];if(i.from!=n.from||i.to!=n.to||i.direction!=n.direction||!e4(i.inner,n.inner))return!1}return!0}const nr=[];function o7(r,e,t,i,n){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,a=s<i.length?i[s].from:t,l=s?256:n;for(let c=o,h=l,f=l;c<a;c++){let g=Jk(r.charCodeAt(c));g==512?g=h:g==8&&f==4&&(g=16),nr[c]=g==4?2:g,g&7&&(f=g),h=g}for(let c=o,h=l,f=l;c<a;c++){let g=nr[c];if(g==128)c<a-1&&h==nr[c+1]&&h&24?g=nr[c]=h:nr[c]=256;else if(g==64){let p=c+1;for(;p<a&&nr[p]==64;)p++;let m=c&&h==8||p<t&&nr[p]==8?f==1?1:8:256;for(let y=c;y<p;y++)nr[y]=m;c=p-1}else g==8&&f==1&&(nr[c]=1);h=g,g&7&&(f=g)}}}function a7(r,e,t,i,n){let s=n==1?2:1;for(let o=0,a=0,l=0;o<=i.length;o++){let c=o?i[o-1].to:e,h=o<i.length?i[o].from:t;for(let f=c,g,p,m;f<h;f++)if(p=p1[g=r.charCodeAt(f)])if(p<0){for(let y=a-3;y>=0;y-=3)if(os[y+1]==-p){let v=os[y+2],S=v&2?n:v&4?v&1?s:n:0;S&&(nr[f]=nr[os[y]]=S),a=y;break}}else{if(os.length==189)break;os[a++]=f,os[a++]=g,os[a++]=l}else if((m=nr[f])==2||m==1){let y=m==n;l=y?0:1;for(let v=a-3;v>=0;v-=3){let S=os[v+2];if(S&2)break;if(y)os[v+2]|=2;else{if(S&4)break;os[v+2]|=4}}}}}function l7(r,e,t,i){for(let n=0,s=i;n<=t.length;n++){let o=n?t[n-1].to:r,a=n<t.length?t[n].from:e;for(let l=o;l<a;){let c=nr[l];if(c==256){let h=l+1;for(;;)if(h==a){if(n==t.length)break;h=t[n++].to,a=n<t.length?t[n].from:e}else if(nr[h]==256)h++;else break;let f=s==1,g=(h<e?nr[h]:i)==1,p=f==g?f?1:2:i;for(let m=h,y=n,v=y?t[y-1].to:r;m>l;)m==v&&(m=t[--y].from,v=y?t[y-1].to:r),nr[--m]=p;l=h}else s=c,l++}}}function g1(r,e,t,i,n,s,o){let a=i%2?2:1;if(i%2==n%2)for(let l=e,c=0;l<t;){let h=!0,f=!1;if(c==s.length||l<s[c].from){let y=nr[l];y!=a&&(h=!1,f=y==16)}let g=!h&&a==1?[]:null,p=h?i:i+1,m=l;e:for(;;)if(c<s.length&&m==s[c].from){if(f)break e;let y=s[c];if(!h)for(let v=y.to,S=c+1;;){if(v==t)break e;if(S<s.length&&s[S].from==v)v=s[S++].to;else{if(nr[v]==a)break e;break}}if(c++,g)g.push(y);else{y.from>l&&o.push(new la(l,y.from,p));let v=y.direction==Ll!=!(p%2);O1(r,v?i+1:i,n,y.inner,y.from,y.to,o),l=y.to}m=y.to}else{if(m==t||(h?nr[m]!=a:nr[m]==a))break;m++}g?g1(r,l,m,i+1,n,g,o):l<m&&o.push(new la(l,m,p)),l=m}else for(let l=t,c=s.length;l>e;){let h=!0,f=!1;if(!c||l>s[c-1].to){let y=nr[l-1];y!=a&&(h=!1,f=y==16)}let g=!h&&a==1?[]:null,p=h?i:i+1,m=l;e:for(;;)if(c&&m==s[c-1].to){if(f)break e;let y=s[--c];if(!h)for(let v=y.from,S=c;;){if(v==e)break e;if(S&&s[S-1].to==v)v=s[--S].from;else{if(nr[v-1]==a)break e;break}}if(g)g.push(y);else{y.to<l&&o.push(new la(y.to,l,p));let v=y.direction==Ll!=!(p%2);O1(r,v?i+1:i,n,y.inner,y.from,y.to,o),l=y.from}m=y.from}else{if(m==e||(h?nr[m-1]!=a:nr[m-1]==a))break;m--}g?g1(r,m,l,i+1,n,g,o):m<l&&o.push(new la(m,l,p)),l=m}}function O1(r,e,t,i,n,s,o){let a=e%2?2:1;o7(r,n,s,i,a),a7(r,n,s,i,a),l7(n,s,i,a),g1(r,n,s,e,t,i,o)}function c7(r,e,t){if(!r)return[new la(0,0,e==Mb?1:0)];if(e==Ll&&!t.length&&!s7.test(r))return t4(r.length);if(t.length)for(;r.length>nr.length;)nr[nr.length]=256;let i=[],n=e==Ll?0:1;return O1(r,n,n,t,0,r.length,i),i}function t4(r){return[new la(0,r,0)]}let r4="";function h7(r,e,t,i,n){var s;let o=i.head-r.from,a=la.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),l=e[a],c=l.side(n,t);if(o==c){let g=a+=n?1:-1;if(g<0||g>=e.length)return null;l=e[a=g],o=l.side(!n,t),c=l.side(n,t)}let h=Ui(r.text,o,l.forward(n,t));(h<l.from||h>l.to)&&(h=c),r4=r.text.slice(Math.min(o,h),Math.max(o,h));let f=a==(n?e.length-1:0)?null:e[a+(n?1:-1)];return f&&h==c&&f.level+(n?0:1)<l.level?Xe.cursor(f.side(!n,t)+r.from,f.forward(n,t)?1:-1,f.level):Xe.cursor(h+r.from,l.forward(n,t)?-1:1,l.level)}function u7(r,e,t){for(let i=e;i<t;i++){let n=Jk(r.charCodeAt(i));if(n==1)return Ll;if(n==2||n==4)return Mb}return Ll}const i4=nt.define(),n4=nt.define(),s4=nt.define(),o4=nt.define(),m1=nt.define(),a4=nt.define(),l4=nt.define(),Fb=nt.define(),Vb=nt.define(),c4=nt.define({combine:r=>r.some(e=>e)}),f7=nt.define({combine:r=>r.some(e=>e)}),h4=nt.define();class Rc{constructor(e,t="nearest",i="nearest",n=5,s=5,o=!1){this.range=e,this.y=t,this.x=i,this.yMargin=n,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Rc(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Rc(Xe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const kd=_r.define({map:(r,e)=>r.map(e)}),u4=_r.define();function js(r,e,t){let i=r.facet(o4);i.length?i[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const Oo=nt.define({combine:r=>r.length?r[0]:!0});let d7=0;const _c=nt.define({combine(r){return r.filter((e,t)=>{for(let i=0;i<t;i++)if(r[i].plugin==e.plugin)return!1;return!0})}});class xa{constructor(e,t,i,n,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=n,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(_c.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(_c.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:i,eventObservers:n,provide:s,decorations:o}=t||{};return new xa(d7++,e,i,n,a=>{let l=[];return o&&l.push(Fu.of(c=>{let h=c.plugin(a);return h?o(h):kr.none})),s&&l.push(s(a)),l})}static fromClass(e,t){return xa.define((i,n)=>new e(i,n),t)}}class N0{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(js(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(n){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){js(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){js(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const f4=nt.define(),Zb=nt.define(),Fu=nt.define(),d4=nt.define(),Fg=nt.define(),p4=nt.define();function Dw(r,e){let t=r.state.facet(p4);if(!t.length)return t;let i=t.map(s=>s instanceof Function?s(r):s),n=[];return Zt.spans(i,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,h=o-e.from,f=n;for(let g=a.length-1;g>=0;g--,l--){let p=a[g].spec.bidiIsolate,m;if(p==null&&(p=u7(e.text,c,h)),l>0&&f.length&&(m=f[f.length-1]).to==c&&m.direction==p)m.to=h,f=m.inner;else{let y={from:c,to:h,direction:p,inner:[]};f.push(y),f=y.inner}}}}),n}const g4=nt.define();function O4(r){let e=0,t=0,i=0,n=0;for(let s of r.state.facet(g4)){let o=s(r);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(n=Math.max(n,o.bottom)))}return{left:e,right:t,top:i,bottom:n}}const lu=nt.define();class Sn{constructor(e,t,i,n){this.fromA=e,this.toA=t,this.fromB=i,this.toB=n}join(e){return new Sn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let n=e[t-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let n=0,s=0,o=0,a=0;;n++){let l=n==e.length?null:e[n],c=o-a,h=l?l.fromB:1e9;for(;s<t.length&&t[s]<h;){let f=t[s],g=t[s+1],p=Math.max(a,f),m=Math.min(h,g);if(p<=m&&new Sn(p+c,m+c,p,m).addToSet(i),g>h)break;s+=2}if(!l)return i;new Sn(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}}class ng{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=ii.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let n=[];this.changes.iterChangedRanges((s,o,a,l)=>n.push(new Sn(s,o,a,l))),this.changedRanges=n}static create(e,t,i){return new ng(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Bw extends sr{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=kr.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Yr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Sn(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:c,toA:h})=>h<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let n=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?n=this.domChanged.newSel.head:!x7(e.changes,this.hasComposition)&&!e.selectionSet&&(n=e.state.selection.main.head));let s=n>-1?g7(this.view,e.changes,n):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:h}=this.hasComposition;i=new Sn(c,h,e.changes.mapPos(c,-1),e.changes.mapPos(h,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Ye.ie||Ye.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=b7(o,a,e.changes);return i=Sn.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Ye.chrome||Ye.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||n.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof yo&&o.widget instanceof d1&&s.push(o.dom);n.updateGaps(s)}updateChildren(e,t,i){let n=i?i.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=n.length-1;;o--){let a=o>=0?n[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:h,toB:f}=a,g,p,m,y;if(i&&i.range.fromB<f&&i.range.toB>h){let X=Qu.build(this.view.state.doc,h,i.range.fromB,this.decorations,this.dynamicDecorationMap),T=Qu.build(this.view.state.doc,i.range.toB,f,this.decorations,this.dynamicDecorationMap);p=X.breakAtStart,m=X.openStart,y=T.openEnd;let E=this.compositionView(i);T.breakAtStart?E.breakAfter=1:T.content.length&&E.merge(E.length,E.length,T.content[0],!1,T.openStart,0)&&(E.breakAfter=T.content[0].breakAfter,T.content.shift()),X.content.length&&E.merge(0,0,X.content[X.content.length-1],!0,0,X.openEnd)&&X.content.pop(),g=X.content.concat(E).concat(T.content)}else({content:g,breakAtStart:p,openStart:m,openEnd:y}=Qu.build(this.view.state.doc,h,f,this.decorations,this.dynamicDecorationMap));let{i:v,off:S}=s.findPos(c,1),{i:C,off:P}=s.findPos(l,-1);Dk(this,C,P,v,S,g,p,m,y)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(u4)&&(this.editContextFormatting=i.value)}compositionView(e){let t=new Dn(e.text.nodeValue);t.flags|=8;for(let{deco:n}of e.marks)t=new wo(n,[t],t.length);let i=new Yr;return i.append(t,0),i}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=sr.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},i=this.childPos(e.range.fromB,1),n=this.children[i.i];t(e.line,n);for(let s=e.marks.length-1;s>=-1;s--)i=n.childPos(i.off,1),n=n.children[i.i],t(s>=0?e.marks[s].node:e.text,n)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,n=i==this.dom,s=!n&&!(this.view.state.facet(Oo)||this.dom.tabIndex>-1)&&gp(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(n||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(Ye.gecko&&a.empty&&!this.hasComposition&&p7(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=c=new Qi(f,0),o=!0}let h=this.view.observer.selectionRange;(o||!h.focusNode||(!ju(l.node,l.offset,h.anchorNode,h.anchorOffset)||!ju(c.node,c.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,a))&&(this.view.observer.ignore(()=>{Ye.android&&Ye.chrome&&this.dom.contains(h.focusNode)&&y7(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=Bu(this.view.root);if(f)if(a.empty){if(Ye.gecko){let g=O7(l.node,l.offset);if(g&&g!=3){let p=(g==1?Ik:Wk)(l.node,l.offset);p&&(l=new Qi(p.node,p.offset))}}f.collapse(l.node,l.offset),a.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(c.node,c.offset)}catch(g){}}else{let g=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),g.setEnd(c.node,c.offset),g.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(g)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Qi(h.anchorNode,h.anchorOffset),this.impreciseHead=c.precise?null:new Qi(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&ju(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=Bu(e.root),{anchorNode:n,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=Yr.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let h=this.domAtPos(t.head+t.assoc);i.collapse(h.node,h.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=t.from&&i.collapse(n,s)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let n=e.offset;!i&&n<t.childNodes.length;n++){let s=sr.get(t.childNodes[n]);s instanceof Yr&&(i=s.domAtPos(0))}for(let n=e.offset-1;!i&&n>=0;n--){let s=sr.get(t.childNodes[n]);s instanceof Yr&&(i=s.domAtPos(s.length))}return i?new Qi(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=sr.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let n=this.children[t];if(i<n.length||n instanceof Yr)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,n=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!i||a instanceof Yr&&!(i instanceof Yr&&t>=0)))i=a,n=c;else if(i&&c==e&&l==e&&a instanceof yo&&Math.abs(t)<2){if(a.deco.startSide<0)break;o&&(i=null)}s=c}return i?i.coordsAt(e-n,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),n=this.children[t];if(!(n instanceof Yr))return null;for(;n.children.length;){let{i:a,off:l}=n.childPos(i,1);for(;;a++){if(a==n.children.length)return null;if((n=n.children[a]).length)break}i=l}if(!(n instanceof Dn))return null;let s=Ui(n.text,i);if(s==i)return null;let o=Ul(n.dom,i,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:n}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Jr.LTR;for(let c=0,h=0;h<this.children.length;h++){let f=this.children[h],g=c+f.length;if(g>n)break;if(c>=i){let p=f.dom.getBoundingClientRect();if(t.push(p.height),o){let m=f.dom.lastChild,y=m?Mu(m):[];if(y.length){let v=y[y.length-1],S=l?v.right-p.left:p.right-v.left;S>a&&(a=S,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=g)}}}c=g+f.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Jr.RTL:Jr.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Yr){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i,n;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Mu(e.firstChild)[0];t=e.getBoundingClientRect().height,i=s?s.width/27:7,n=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Yk(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,n=0;;n++){let s=n==t.viewports.length?null:t.viewports[n],o=s?s.from-1:this.length;if(o>i){let a=(t.lineBlockAt(o).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(kr.replace({widget:new d1(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return kr.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Fu).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,n=this.view.state.facet(d4).map((s,o)=>{let a=typeof s=="function";return a&&(i=!0),a?s(this.view):s});for(n.length&&(this.dynamicDecorationMap[e++]=i,t.push(Zt.join(n))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(h4))try{if(c(this.view,e.range,e))return!0}catch(h){js(this.view.state,h,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),n;if(!i)return;!t.empty&&(n=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,n.left),top:Math.min(i.top,n.top),right:Math.max(i.right,n.right),bottom:Math.max(i.bottom,n.bottom)});let s=O4(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;ME(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Jr.LTR)}}function p7(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function m4(r,e){let t=r.observer.selectionRange;if(!t.focusNode)return null;let i=Ik(t.focusNode,t.focusOffset),n=Wk(t.focusNode,t.focusOffset),s=i||n;if(n&&i&&n.node!=i.node){let a=sr.get(n.node);if(!a||a instanceof Dn&&a.text!=n.node.nodeValue)s=n;else if(r.docView.lastCompositionAfterCursor){let l=sr.get(i.node);!l||l instanceof Dn&&l.text!=i.node.nodeValue||(s=n)}}if(r.docView.lastCompositionAfterCursor=s!=i,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function g7(r,e,t){let i=m4(r,t);if(!i)return null;let{node:n,from:s,to:o}=i,a=n.nodeValue;if(/[\n\r]/.test(a)||r.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,c=new Sn(l.mapPos(s),l.mapPos(o),s,o),h=[];for(let f=n.parentNode;;f=f.parentNode){let g=sr.get(f);if(g instanceof wo)h.push({node:f,deco:g.mark});else{if(g instanceof Yr||f.nodeName=="DIV"&&f.parentNode==r.contentDOM)return{range:c,text:n,marks:h,line:f};if(f!=r.contentDOM)h.push({node:f,deco:new mf({inclusive:!0,attributes:t7(f),tagName:f.tagName.toLowerCase()})});else return null}}}function O7(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}let m7=class{constructor(){this.changes=[]}compareRange(e,t){Op(e,t,this.changes)}comparePoint(e,t){Op(e,t,this.changes)}boundChange(e){Op(e,e,this.changes)}};function b7(r,e,t){let i=new m7;return Zt.compare(r,e,t,i),i.changes}function y7(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function x7(r,e){let t=!1;return e&&r.iterChangedRanges((i,n)=>{i<e.to&&n>e.from&&(t=!0)}),t}function w7(r,e,t=1){let i=r.charCategorizer(e),n=r.doc.lineAt(e),s=e-n.from;if(n.length==0)return Xe.cursor(e);s==0?t=1:s==n.length&&(t=-1);let o=s,a=s;t<0?o=Ui(n.text,s,!1):a=Ui(n.text,s);let l=i(n.text.slice(o,a));for(;o>0;){let c=Ui(n.text,o,!1);if(i(n.text.slice(c,o))!=l)break;o=c}for(;a<n.length;){let c=Ui(n.text,a);if(i(n.text.slice(a,c))!=l)break;a=c}return Xe.range(o+n.from,a+n.from)}function v7(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function S7(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function A0(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function Mw(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function Fw(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function b1(r,e,t){let i,n,s,o,a=!1,l,c,h,f;for(let m=r.firstChild;m;m=m.nextSibling){let y=Mu(m);for(let v=0;v<y.length;v++){let S=y[v];n&&A0(n,S)&&(S=Mw(Fw(S,n.bottom),n.top));let C=v7(e,S),P=S7(t,S);if(C==0&&P==0)return m.nodeType==3?Vw(m,e,t):b1(m,e,t);(!i||o>P||o==P&&s>C)&&(i=m,n=S,s=C,o=P,a=C?e<S.left?v>0:v<y.length-1:!0),C==0?t>S.bottom&&(!h||h.bottom<S.bottom)?(l=m,h=S):t<S.top&&(!f||f.top>S.top)&&(c=m,f=S):h&&A0(h,S)?h=Fw(h,S.bottom):f&&A0(f,S)&&(f=Mw(f,S.top))}}if(h&&h.bottom>=t?(i=l,n=h):f&&f.top<=t&&(i=c,n=f),!i)return{node:r,offset:0};let g=Math.max(n.left,Math.min(n.right,e));if(i.nodeType==3)return Vw(i,g,t);if(a&&i.contentEditable!="false")return b1(i,g,t);let p=Array.prototype.indexOf.call(r.childNodes,i)+(e>=(n.left+n.right)/2?1:0);return{node:r,offset:p}}function Vw(r,e,t){let i=r.nodeValue.length,n=-1,s=1e9,o=0;for(let a=0;a<i;a++){let l=Ul(r,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let h=l[c];if(h.top==h.bottom)continue;o||(o=e-h.left);let f=(h.top>t?h.top-t:t-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&f<s){let g=e>=(h.left+h.right)/2,p=g;if((Ye.chrome||Ye.gecko)&&Ul(r,a).getBoundingClientRect().left==h.right&&(p=!g),f<=0)return{node:r,offset:a+(p?1:0)};n=a+(p?1:0),s=f}}}return{node:r,offset:n>-1?n:o>0?r.nodeValue.length:0}}function b4(r,e,t,i=-1){var n,s;let o=r.contentDOM.getBoundingClientRect(),a=o.top+r.viewState.paddingTop,l,{docHeight:c}=r.viewState,{x:h,y:f}=e,g=f-a;if(g<0)return 0;if(g>c)return r.state.doc.length;for(let X=r.viewState.heightOracle.textHeight/2,T=!1;l=r.elementAtHeight(g),l.type!=vn.Text;)for(;g=i>0?l.bottom+X:l.top-X,!(g>=0&&g<=c);){if(T)return t?null:0;T=!0,i=-i}f=a+g;let p=l.from;if(p<r.viewport.from)return r.viewport.from==0?0:t?null:Zw(r,o,l,h,f);if(p>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:t?null:Zw(r,o,l,h,f);let m=r.dom.ownerDocument,y=r.root.elementFromPoint?r.root:m,v=y.elementFromPoint(h,f);v&&!r.contentDOM.contains(v)&&(v=null),v||(h=Math.max(o.left+1,Math.min(o.right-1,h)),v=y.elementFromPoint(h,f),v&&!r.contentDOM.contains(v)&&(v=null));let S,C=-1;if(v&&((n=r.docView.nearest(v))===null||n===void 0?void 0:n.isEditable)!=!1){if(m.caretPositionFromPoint){let X=m.caretPositionFromPoint(h,f);X&&({offsetNode:S,offset:C}=X)}else if(m.caretRangeFromPoint){let X=m.caretRangeFromPoint(h,f);X&&({startContainer:S,startOffset:C}=X,(!r.contentDOM.contains(S)||Ye.safari&&_7(S,C,h)||Ye.chrome&&k7(S,C,h))&&(S=void 0))}S&&(C=Math.min(Ts(S),C))}if(!S||!r.docView.dom.contains(S)){let X=Yr.find(r.docView,p);if(!X)return g>l.top+l.height/2?l.to:l.from;({node:S,offset:C}=b1(X.dom,h,f))}let P=r.docView.nearest(S);if(!P)return null;if(P.isWidget&&((s=P.dom)===null||s===void 0?void 0:s.nodeType)==1){let X=P.dom.getBoundingClientRect();return e.y<X.top||e.y<=X.bottom&&e.x<=(X.left+X.right)/2?P.posAtStart:P.posAtEnd}else return P.localPosFromDOM(S,C)+P.posAtStart}function Zw(r,e,t,i,n){let s=Math.round((i-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let a=r.viewState.heightOracle.textHeight,l=Math.floor((n-t.top-(r.defaultLineHeight-a)*.5)/a);s+=l*r.viewState.heightOracle.lineLength}let o=r.state.sliceDoc(t.from,t.to);return t.from+qE(o,s,r.state.tabSize)}function _7(r,e,t){let i,n=r;if(r.nodeType!=3||e!=(i=r.nodeValue.length))return!1;for(;;){let s=n.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let o=n.parentNode;if(!o||o.nodeName=="DIV")break;n=o}}return Ul(r,i-1,i).getBoundingClientRect().right>t}function k7(r,e,t){if(e!=0)return!1;for(let n=r;;){let s=n.parentNode;if(!s||s.nodeType!=1||s.firstChild!=n)return!1;if(s.classList.contains("cm-line"))break;n=s}let i=r.nodeType==1?r.getBoundingClientRect():Ul(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function $7(r,e,t){let i=r.lineBlockAt(e);if(Array.isArray(i.type)){let n;for(let s of i.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!n||s.type==vn.Text&&(n.type!=s.type||(t<0?s.from<e:s.to>e)))&&(n=s)}}return n||i}return i}function P7(r,e,t,i){let n=$7(r,e.head,e.assoc||-1),s=!i||n.type!=vn.Text||!(r.lineWrapping||n.widgetLineBreaks)?null:r.coordsAtPos(e.assoc<0&&e.head>n.from?e.head-1:e.head);if(s){let o=r.dom.getBoundingClientRect(),a=r.textDirectionAt(n.from),l=r.posAtCoords({x:t==(a==Jr.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Xe.cursor(l,t?-1:1)}return Xe.cursor(t?n.to:n.from,t?-1:1)}function Gw(r,e,t,i){let n=r.state.doc.lineAt(e.head),s=r.bidiSpans(n),o=r.textDirectionAt(n.from);for(let a=e,l=null;;){let c=h7(n,s,o,a,t),h=r4;if(!c){if(n.number==(t?r.state.doc.lines:1))return a;h=`
`,n=r.state.doc.line(n.number+(t?1:-1)),s=r.bidiSpans(n),c=r.visualLineSide(n,!t)}if(l){if(!l(h))return a}else{if(!i)return c;l=i(h)}a=c}}function j7(r,e,t){let i=r.state.charCategorizer(e),n=i(t);return s=>{let o=i(s);return n==mo.Space&&(n=o),n==o}}function Q7(r,e,t,i){let n=e.head,s=t?1:-1;if(n==(t?r.state.doc.length:0))return Xe.cursor(n,e.assoc);let o=e.goalColumn,a,l=r.contentDOM.getBoundingClientRect(),c=r.coordsAtPos(n,e.assoc||-1),h=r.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let p=r.viewState.lineBlockAt(n);o==null&&(o=Math.min(l.right-l.left,r.defaultCharacterWidth*(n-p.from))),a=(s<0?p.top:p.bottom)+h}let f=l.left+o,g=i!=null?i:r.viewState.heightOracle.textHeight>>1;for(let p=0;;p+=10){let m=a+(g+p)*s,y=b4(r,{x:f,y:m},!1,s);if(m<l.top||m>l.bottom||(s<0?y<n:y>n)){let v=r.docView.coordsForChar(y),S=!v||m<v.top?-1:1;return Xe.cursor(y,S,void 0,o)}}}function mp(r,e,t){for(;;){let i=0;for(let n of r)n.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=i||t||(e-s<o-e?-1:1);e=l<0?s:o,i=l}});if(!i)return e}}function y4(r,e){let t=null;for(let i=0;i<e.ranges.length;i++){let n=e.ranges[i],s=null;if(n.empty){let o=mp(r,n.from,0);o!=n.from&&(s=Xe.cursor(o,-1))}else{let o=mp(r,n.from,-1),a=mp(r,n.to,1);(o!=n.from||a!=n.to)&&(s=Xe.range(n.from==n.anchor?o:a,n.from==n.head?o:a))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?Xe.create(t,e.mainIndex):e}function T0(r,e,t){let i=mp(r.state.facet(Fg).map(n=>n(r)),t.from,e.head>t.from?-1:1);return i==t.from?t:Xe.cursor(i,i<t.from?1:-1)}const cu="￿";class N7{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Dt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=cu}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let n=e;;){this.findPointBefore(i,n);let s=this.text.length;this.readNode(n);let o=n.nextSibling;if(o==t)break;let a=sr.get(n),l=sr.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:rg(n))||rg(o)&&(n.nodeName!="BR"||n.cmIgnore)&&this.text.length>s)&&this.lineBreak(),n=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=n.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let t=sr.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let n=i.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(A7(e,i.node,i.offset)?t:0))}}function A7(r,e,t){for(;;){if(!e||t<Ts(e))return!1;if(e==r)return!0;t=Rl(e)+1,e=e.parentNode}}class Hw{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class T7{constructor(e,t,i,n){this.typeOver=n,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let a=s||o?[]:E7(e),l=new N7(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=R7(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!a1(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!a1(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),h=e.viewport;if((Ye.ios||Ye.chrome)&&e.state.selection.main.empty&&l!=c&&(h.from>0||h.to<e.state.doc.length)){let f=Math.min(l,c),g=Math.max(l,c),p=h.from-f,m=h.to-g;(p==0||p==1||f==0)&&(m==0||m==-1||g==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=Xe.single(c,l)}}}function x4(r,e){let t,{newSel:i}=e,n=r.state.selection.main,s=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=n.from,c=null;(s===8||Ye.android&&e.text.length<a-o)&&(l=n.to,c="end");let h=X7(r.state.doc.sliceString(o,a,cu),e.text,l-o,c);h&&(Ye.chrome&&s==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==cu+cu&&h.toB--,t={from:o+h.from,to:o+h.toA,insert:Ut.of(e.text.slice(h.from,h.toB).split(cu))})}else i&&(!r.hasFocus&&r.state.facet(Oo)||i.main.eq(n))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!n.empty&&i&&i.main.empty?t={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,n.to)}:(Ye.mac||Ye.android)&&t&&t.from==t.to&&t.from==n.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=Xe.single(i.main.anchor-1,i.main.head-1)),t={from:t.from,to:t.to,insert:Ut.of([t.insert.toString().replace("."," ")])}):t&&t.from>=n.from&&t.to<=n.to&&(t.from!=n.from||t.to!=n.to)&&n.to-n.from-(t.to-t.from)<=4?t={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,n.to))}:Ye.chrome&&t&&t.from==t.to&&t.from==n.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(i&&(i=Xe.single(i.main.anchor-1,i.main.head-1)),t={from:n.from,to:n.to,insert:Ut.of([" "])}),t)return Gb(r,t,i,s);if(i&&!i.main.eq(n)){let o=!1,a="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(o=!0),a=r.inputState.lastSelectionOrigin,a=="select.pointer"&&(i=y4(r.state.facet(Fg).map(l=>l(r)),i))),r.dispatch({selection:i,scrollIntoView:o,userEvent:a}),!0}else return!1}function Gb(r,e,t,i=-1){if(Ye.ios&&r.inputState.flushIOSKey(e))return!0;let n=r.state.selection.main;if(Ye.android&&(e.to==n.to&&(e.from==n.from||e.from==n.from-1&&r.state.sliceDoc(e.from,n.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Ec(r.contentDOM,"Enter",13)||(e.from==n.from-1&&e.to==n.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>n.head)&&Ec(r.contentDOM,"Backspace",8)||e.from==n.from&&e.to==n.to+1&&e.insert.length==0&&Ec(r.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let o,a=()=>o||(o=C7(r,e,t));return r.state.facet(a4).some(l=>l(r,e.from,e.to,s,a))||r.dispatch(a()),!0}function C7(r,e,t){let i,n=r.state,s=n.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&r.inputState.composing<0){let a=s.from<e.from?n.sliceDoc(s.from,e.from):"",l=s.to>e.to?n.sliceDoc(e.to,s.to):"";i=n.replaceSelection(r.state.toText(a+e.insert.sliceString(0,void 0,r.state.lineBreak)+l))}else{let a=n.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(n.selection.ranges.length>1&&r.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=r.state.sliceDoc(e.from,e.to),h,f=t&&m4(r,t.main.head);if(f){let m=e.insert.length-(e.to-e.from);h={from:f.from,to:f.to-m}}else h=r.state.doc.lineAt(s.head);let g=s.to-e.to,p=s.to-s.from;i=n.changeByRange(m=>{if(m.from==s.from&&m.to==s.to)return{changes:a,range:l||m.map(a)};let y=m.to-g,v=y-c.length;if(m.to-m.from!=p||r.state.sliceDoc(v,y)!=c||m.to>=h.from&&m.from<=h.to)return{range:m};let S=n.changes({from:v,to:y,insert:e.insert}),C=m.to-s.to;return{changes:S,range:l?Xe.range(Math.max(0,l.anchor+C),Math.max(0,l.head+C)):m.map(S)}})}else i={changes:a,selection:l&&n.selection.replaceRange(l)}}let o="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,o+=".compose",r.inputState.compositionFirstChange&&(o+=".start",r.inputState.compositionFirstChange=!1)),n.update(i,{userEvent:o,scrollIntoView:!0})}function X7(r,e,t,i){let n=Math.min(r.length,e.length),s=0;for(;s<n&&r.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==n&&r.length==e.length)return null;let o=r.length,a=e.length;for(;o>0&&a>0&&r.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(i=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&r.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function E7(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:n,focusOffset:s}=r.observer.selectionRange;return t&&(e.push(new Hw(t,i)),(n!=t||s!=i)&&e.push(new Hw(n,s))),e}function R7(r,e){if(r.length==0)return null;let t=r[0].pos,i=r.length==2?r[1].pos:t;return t>-1&&i>-1?Xe.single(t+e,i+e):null}class U7{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Ye.safari&&e.contentDOM.addEventListener("input",()=>null),Ye.gecko&&J7(e.contentDOM.ownerDocument)}handleEvent(e){!B7(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let i=this.handlers[e];if(i){for(let n of i.observers)n(this.view,t);for(let n of i.handlers){if(t.defaultPrevented)break;if(n(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=L7(e),i=this.handlers,n=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,a=i[s];a&&o!=!a.handlers.length&&(n.removeEventListener(s,this.handleEvent),a=null),a||n.addEventListener(s,this.handleEvent,{passive:o})}for(let s in i)s!="scroll"&&!t[s]&&n.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&v4.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Ye.android&&Ye.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return Ye.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=w4.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||z7.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Ec(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Ye.safari&&!Ye.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Kw(r,e){return(t,i)=>{try{return e.call(r,i,t)}catch(n){js(t.state,n)}}}function L7(r){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of r){let n=i.spec,s=n&&n.plugin.domEventHandlers,o=n&&n.plugin.domEventObservers;if(s)for(let a in s){let l=s[a];l&&t(a).handlers.push(Kw(i.value,l))}if(o)for(let a in o){let l=o[a];l&&t(a).observers.push(Kw(i.value,l))}}for(let i in Bn)t(i).handlers.push(Bn[i]);for(let i in Pn)t(i).observers.push(Pn[i]);return e}const w4=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],z7="dthko",v4=[16,17,18,20,91,92,224,225],$d=6;function Pd(r){return Math.max(0,r)*.7+8}function q7(r,e){return Math.max(Math.abs(r.clientX-e.clientX),Math.abs(r.clientY-e.clientY))}class I7{constructor(e,t,i,n){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=FE(e.contentDOM),this.atoms=e.state.facet(Fg).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Dt.allowMultipleSelections)&&W7(e,t),this.dragging=D7(e,t)&&k4(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&q7(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,n=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:n,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=O4(this.view);e.clientX-l.left<=n+$d?t=-Pd(n-e.clientX):e.clientX+l.right>=o-$d&&(t=Pd(e.clientX-o)),e.clientY-l.top<=s+$d?i=-Pd(s-e.clientY):e.clientY+l.bottom>=a-$d&&(i=Pd(e.clientY-a)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,i=y4(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function W7(r,e){let t=r.state.facet(i4);return t.length?t[0](e):Ye.mac?e.metaKey:e.ctrlKey}function Y7(r,e){let t=r.state.facet(n4);return t.length?t[0](e):Ye.mac?!e.altKey:!e.ctrlKey}function D7(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let i=Bu(r.root);if(!i||i.rangeCount==0)return!0;let n=i.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let o=n[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function B7(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=sr.get(t))&&i.ignoreEvent(e))return!1;return!0}const Bn=Object.create(null),Pn=Object.create(null),S4=Ye.ie&&Ye.ie_version<15||Ye.ios&&Ye.webkit_version<604;function M7(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),_4(r,t.value)},50)}function Vg(r,e,t){for(let i of r.facet(e))t=i(t,r);return t}function _4(r,e){e=Vg(r.state,Fb,e);let{state:t}=r,i,n=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(y1!=null&&t.selection.ranges.every(l=>l.empty)&&y1==s.toString()){let l=-1;i=t.changeByRange(c=>{let h=t.doc.lineAt(c.from);if(h.from==l)return{range:c};l=h.from;let f=t.toText((o?s.line(n++).text:e)+t.lineBreak);return{changes:{from:h.from,insert:f},range:Xe.cursor(c.from+f.length)}})}else o?i=t.changeByRange(l=>{let c=s.line(n++);return{changes:{from:l.from,to:l.to,insert:c.text},range:Xe.cursor(l.from+c.length)}}):i=t.replaceSelection(s);r.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Pn.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};Bn.keydown=(r,e)=>(r.inputState.setSelectionOrigin("select"),e.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);Pn.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};Pn.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};Bn.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of r.state.facet(s4))if(t=i(r,e),t)break;if(!t&&e.button==0&&(t=Z7(r,e)),t){let i=!r.hasFocus;r.inputState.startMouseSelection(new I7(r,e,t,i)),i&&r.observer.ignore(()=>{Lk(r.contentDOM);let s=r.root.activeElement;s&&!s.contains(r.contentDOM)&&s.blur()});let n=r.inputState.mouseSelection;if(n)return n.start(e),n.dragging===!1}else r.inputState.setSelectionOrigin("select.pointer");return!1};function Jw(r,e,t,i){if(i==1)return Xe.cursor(e,t);if(i==2)return w7(r.state,e,t);{let n=Yr.find(r.docView,e),s=r.state.doc.lineAt(n?n.posAtEnd:e),o=n?n.posAtStart:s.from,a=n?n.posAtEnd:s.to;return a<r.state.doc.length&&a==s.to&&a++,Xe.range(o,a)}}let ev=(r,e,t)=>e>=t.top&&e<=t.bottom&&r>=t.left&&r<=t.right;function F7(r,e,t,i){let n=Yr.find(r.docView,e);if(!n)return 1;let s=e-n.posAtStart;if(s==0)return 1;if(s==n.length)return-1;let o=n.coordsAt(s,-1);if(o&&ev(t,i,o))return-1;let a=n.coordsAt(s,1);return a&&ev(t,i,a)?1:o&&o.bottom>=i?-1:1}function tv(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:F7(r,t,e.clientX,e.clientY)}}const V7=Ye.ie&&Ye.ie_version<=11;let rv=null,iv=0,nv=0;function k4(r){if(!V7)return r.detail;let e=rv,t=nv;return rv=r,nv=Date.now(),iv=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(iv+1)%3:1}function Z7(r,e){let t=tv(r,e),i=k4(e),n=r.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),n=n.map(s.changes))},get(s,o,a){let l=tv(r,s),c,h=Jw(r,l.pos,l.bias,i);if(t.pos!=l.pos&&!o){let f=Jw(r,t.pos,t.bias,i),g=Math.min(f.from,h.from),p=Math.max(f.to,h.to);h=g<h.from?Xe.range(g,p):Xe.range(p,g)}return o?n.replaceRange(n.main.extend(h.from,h.to)):a&&i==1&&n.ranges.length>1&&(c=G7(n,l.pos))?c:a?n.addRange(h):Xe.create([h])}}}function G7(r,e){for(let t=0;t<r.ranges.length;t++){let{from:i,to:n}=r.ranges[t];if(i<=e&&n>=e)return Xe.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}return null}Bn.dragstart=(r,e)=>{let{selection:{main:t}}=r.state;if(e.target.draggable){let n=r.docView.nearest(e.target);if(n&&n.isWidget){let s=n.posAtStart,o=s+n.length;(s>=t.to||o<=t.from)&&(t=Xe.range(s,o))}}let{inputState:i}=r;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Vg(r.state,Vb,r.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Bn.dragend=r=>(r.inputState.draggedContent=null,!1);function sv(r,e,t,i){if(t=Vg(r.state,Fb,t),!t)return;let n=r.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=r.inputState,o=i&&s&&Y7(r,e)?{from:s.from,to:s.to}:null,a={from:n,insert:t},l=r.state.changes(o?[o,a]:a);r.focus(),r.dispatch({changes:l,selection:{anchor:l.mapPos(n,-1),head:l.mapPos(n,1)},userEvent:o?"move.drop":"input.drop"}),r.inputState.draggedContent=null}Bn.drop=(r,e)=>{if(!e.dataTransfer)return!1;if(r.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),n=0,s=()=>{++n==t.length&&sv(r,e,i.filter(o=>o!=null).join(r.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(t[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return sv(r,e,i,!0),!0}return!1};Bn.paste=(r,e)=>{if(r.state.readOnly)return!0;r.observer.flush();let t=S4?null:e.clipboardData;return t?(_4(r,t.getData("text/plain")||t.getData("text/uri-list")),!0):(M7(r),!1)};function H7(r,e){let t=r.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),r.focus()},50)}function K7(r){let e=[],t=[],i=!1;for(let n of r.selection.ranges)n.empty||(e.push(r.sliceDoc(n.from,n.to)),t.push(n));if(!e.length){let n=-1;for(let{from:s}of r.selection.ranges){let o=r.doc.lineAt(s);o.number>n&&(e.push(o.text),t.push({from:o.from,to:Math.min(r.doc.length,o.to+1)})),n=o.number}i=!0}return{text:Vg(r,Vb,e.join(r.lineBreak)),ranges:t,linewise:i}}let y1=null;Bn.copy=Bn.cut=(r,e)=>{let{text:t,ranges:i,linewise:n}=K7(r.state);if(!t&&!n)return!1;y1=n?t:null,e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=S4?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(H7(r,t),!1)};const $4=Vl.define();function P4(r,e){let t=[];for(let i of r.facet(l4)){let n=i(r,e);n&&t.push(n)}return t.length?r.update({effects:t,annotations:$4.of(!0)}):null}function j4(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=P4(r.state,e);t?r.dispatch(t):r.update([])}},10)}Pn.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),j4(r)};Pn.blur=r=>{r.observer.clearSelectionRange(),j4(r)};Pn.compositionstart=Pn.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};Pn.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,Ye.chrome&&Ye.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};Pn.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};Bn.beforeinput=(r,e)=>{var t,i;if(e.inputType=="insertReplacementText"&&r.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=r.posAtDOM(a.startContainer,a.startOffset),c=r.posAtDOM(a.endContainer,a.endOffset);return Gb(r,{from:l,to:c,insert:r.state.toText(s)},null),!0}}let n;if(Ye.chrome&&Ye.android&&(n=w4.find(s=>s.inputType==e.inputType))&&(r.observer.delayAndroidKey(n.key,n.keyCode),n.key=="Backspace"||n.key=="Delete")){let s=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return Ye.ios&&e.inputType=="deleteContentForward"&&r.observer.flushSoon(),Ye.safari&&e.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>Pn.compositionend(r,e),20),!1};const ov=new Set;function J7(r){ov.has(r)||(ov.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const av=["pre-wrap","normal","pre-line","break-spaces"];let Mc=!1;function lv(){Mc=!1}class eR{constructor(e){this.lineWrapping=e,this.doc=Ut.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return av.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let n=e[i];n<0?i++:this.heightSamples[Math.floor(n*10)]||(t=!0,this.heightSamples[Math.floor(n*10)]=!0)}return t}refresh(e,t,i,n,s,o){let a=av.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=i,this.textHeight=n,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let h=o[c];h<0?c++:this.heightSamples[Math.floor(h*10)]=!0}}return l}}class tR{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class ks{constructor(e,t,i,n,s){this.from=e,this.length=t,this.top=i,this.height=n,this._content=s}get type(){return typeof this._content=="number"?vn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ya?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new ks(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var dr=function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r}(dr||(dr={}));const bp=.001;class Li{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>bp&&(Mc=!0),this.height=e)}replace(e,t,i){return Li.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,n){let s=this,o=i.doc;for(let a=n.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:h,toB:f}=n[a],g=s.lineAt(l,dr.ByPosNoHeight,i.setDoc(t),0,0),p=g.to>=c?g:s.lineAt(c,dr.ByPosNoHeight,i,0,0);for(f+=p.to-c,c=p.to;a>0&&g.from<=n[a-1].toA;)l=n[a-1].fromA,h=n[a-1].fromB,a--,l<g.from&&(g=s.lineAt(l,dr.ByPosNoHeight,i,0,0));h+=g.from-l,l=g.from;let m=Hb.build(i.setDoc(o),e,h,f);s=sg(s,s.replace(l,c,m))}return s.updateHeight(i,0)}static empty(){return new on(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,n=0,s=0;for(;;)if(t==i)if(n>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),i+=1+a.break,n-=a.size}else if(s>n*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,s-=a.size}else break;else if(n<s){let a=e[t++];a&&(n+=a.size)}else{let a=e[--i];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new rR(Li.of(e.slice(0,t)),o,Li.of(e.slice(i)))}}function sg(r,e){return r==e?r:(r.constructor!=e.constructor&&(Mc=!0),e)}Li.prototype.size=1;class Q4 extends Li{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,n){return new ks(n,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,n,s){return this.blockAt(0,i,n,s)}forEachLine(e,t,i,n,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,i,n,s))}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more&&this.setHeight(n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class on extends Q4{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,n){return new ks(n,this.length,i,this.height,this.breaks)}replace(e,t,i){let n=i[0];return i.length==1&&(n instanceof on||n instanceof hi&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof hi?n=new on(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):Li.of(i)}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more?this.setHeight(n.heights[n.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class hi extends Li{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,n=e.doc.lineAt(t+this.length).number,s=n-i+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:n,perLine:o,perChar:a}}blockAt(e,t,i,n){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,n);if(t.lineWrapping){let c=n+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),h=t.doc.lineAt(c),f=a+h.length*l,g=Math.max(i,e-f/2);return new ks(h.from,h.length,g,f,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-i)/a))),{from:h,length:f}=t.doc.line(s+c);return new ks(h,f,i+a*c,a,0)}}lineAt(e,t,i,n,s){if(t==dr.ByHeight)return this.blockAt(e,i,n,s);if(t==dr.ByPosNoHeight){let{from:p,to:m}=i.doc.lineAt(e);return new ks(p,m-p,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,s),c=i.doc.lineAt(e),h=a+c.length*l,f=c.number-o,g=n+a*f+l*(c.from-s-f);return new ks(c.from,c.length,Math.max(n,Math.min(g,n+this.height-h)),h,0)}forEachLine(e,t,i,n,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(i,s);for(let h=e,f=n;h<=t;){let g=i.doc.lineAt(h);if(h==e){let m=g.number-a;f+=l*m+c*(e-s-m)}let p=l+c*g.length;o(new ks(g.from,g.length,f,p,0)),f+=p,h=g.to+1}}replace(e,t,i){let n=this.length-t;if(n>0){let s=i[i.length-1];s instanceof hi?i[i.length-1]=new hi(s.length+n):i.push(null,new hi(n-1))}if(e>0){let s=i[0];s instanceof hi?i[0]=new hi(e+s.length):i.unshift(new hi(e-1),null)}return Li.of(i)}decomposeLeft(e,t){t.push(new hi(e-1),null)}decomposeRight(e,t){t.push(null,new hi(this.length-e-1))}updateHeight(e,t=0,i=!1,n){let s=t+this.length;if(n&&n.from<=t+this.length&&n.more){let o=[],a=Math.max(t,n.from),l=-1;for(n.from>t&&o.push(new hi(n.from-t-1).updateHeight(e,t));a<=s&&n.more;){let h=e.doc.lineAt(a).length;o.length&&o.push(null);let f=n.heights[n.index++];l==-1?l=f:Math.abs(f-l)>=bp&&(l=-2);let g=new on(h,f);g.outdated=!1,o.push(g),a+=h+1}a<=s&&o.push(null,new hi(s-a).updateHeight(e,a));let c=Li.of(o);return(l<0||Math.abs(c.height-this.height)>=bp||Math.abs(l-this.heightMetrics(e,t).perLine)>=bp)&&(Mc=!0),sg(this,c)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class rR extends Li{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,n){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,n):this.right.blockAt(e,t,s,n+this.left.length+this.break)}lineAt(e,t,i,n,s){let o=n+this.left.height,a=s+this.left.length+this.break,l=t==dr.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,t,i,n,s):this.right.lineAt(e,t,i,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let h=t==dr.ByPosNoHeight?dr.ByPosNoHeight:dr.ByPos;return l?c.join(this.right.lineAt(a,h,i,o,a)):this.left.lineAt(a,h,i,n,s).join(c)}forEachLine(e,t,i,n,s,o){let a=n+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,n,s,o),t>=l&&this.right.forEachLine(e,t,i,a,l,o);else{let c=this.lineAt(l,dr.ByPos,i,n,s);e<c.from&&this.left.forEachLine(e,c.from-1,i,n,s,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,a,l,o)}}replace(e,t,i){let n=this.left.length+this.break;if(t<n)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-n,t-n,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of i)s.push(a);if(e>0&&cv(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),cv(s,a)}return Li.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,n=i+this.break;if(e>=n)return this.right.decomposeRight(e-n,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<n&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Li.of(this.break?[e,null,t]:[e,t]):(this.left=sg(this.left,e),this.right=sg(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,n){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return n&&n.from<=t+s.length&&n.more?l=s=s.updateHeight(e,t,i,n):s.updateHeight(e,t,i),n&&n.from<=a+o.length&&n.more?l=o=o.updateHeight(e,a,i,n):o.updateHeight(e,a,i),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function cv(r,e){let t,i;r[e]==null&&(t=r[e-1])instanceof hi&&(i=r[e+1])instanceof hi&&r.splice(e-1,3,new hi(t.length+1+i.length))}const iR=5;class Hb{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof on?n.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new on(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new Q4(o,n,i)):(o||s||n>=iR)&&this.addLineDeco(n,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new on(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new hi(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof on)return e;let t=new on(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let n=this.ensureLine();n.length+=i,n.collapsed+=i,n.widgetHeight=Math.max(n.widgetHeight,e),n.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof on)&&!this.isCovered?this.nodes.push(new on(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let n of this.nodes)n instanceof on&&n.updateHeight(this.oracle,i),i+=n?n.length:1;return this.nodes}static build(e,t,i,n){let s=new Hb(i,e);return Zt.spans(t,i,n,s,0),s.finish(i)}}function nR(r,e,t){let i=new sR;return Zt.compare(r,e,t,i,0),i.changes}class sR{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,n){(e<t||i&&i.heightRelevant||n&&n.heightRelevant)&&Op(e,t,this.changes,5)}}function oR(r,e){let t=r.getBoundingClientRect(),i=r.ownerDocument,n=i.defaultView||window,s=Math.max(0,t.left),o=Math.min(n.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(n.innerHeight,t.bottom);for(let c=r.parentNode;c&&c!=i.body;)if(c.nodeType==1){let h=c,f=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&f.overflow!="visible"){let g=h.getBoundingClientRect();s=Math.max(s,g.left),o=Math.min(o,g.right),a=Math.max(a,g.top),l=Math.min(c==r.parentNode?n.innerHeight:l,g.bottom)}c=f.position=="absolute"||f.position=="fixed"?h.offsetParent:h.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function aR(r){let e=r.getBoundingClientRect(),t=r.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function lR(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class C0{constructor(e,t,i,n){this.from=e,this.to=t,this.size=i,this.displaySize=n}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],s=t[i];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(e,t){return kr.replace({widget:new cR(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class cR extends Mg{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class hv{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=uv,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Jr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Zb).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new eR(t),this.stateDeco=e.facet(Fu).filter(i=>typeof i!="function"),this.heightMap=Li.empty().applyChanges(this.stateDeco,Ut.empty,this.heightOracle.setDoc(e.doc),[new Sn(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=kr.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let n=i?t.head:t.anchor;if(!e.some(({from:s,to:o})=>n>=s&&n<=o)){let{from:s,to:o}=this.lineBlockAt(n);e.push(new jd(s,o))}}return this.viewports=e.sort((i,n)=>i.from-n.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?uv:new Kb(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(hu(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Fu).filter(h=>typeof h!="function");let n=e.changedRanges,s=Sn.extendWithRanges(n,nR(i,this.stateDeco,e?e.changes:ii.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);lv(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||Mc)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(f7)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),n=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Jr.RTL:Jr.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,h=0;if(a.width&&a.height){let{scaleX:X,scaleY:T}=Uk(t,a);(X>.005&&Math.abs(this.scaleX-X)>.005||T>.005&&Math.abs(this.scaleY-T)>.005)&&(this.scaleX=X,this.scaleY=T,c|=16,o=l=!0)}let f=(parseInt(i.paddingTop)||0)*this.scaleY,g=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=g)&&(this.paddingTop=f,this.paddingBottom=g,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(n.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let p=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=qk(e.scrollDOM);let m=(this.printing?lR:oR)(t,this.paddingTop),y=m.top-this.pixelViewport.top,v=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let S=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(S!=this.inView&&(this.inView=S,S&&(l=!0)),!this.inView&&!this.scrollTarget&&!aR(e.dom))return 0;let C=a.width;if((this.contentDOMWidth!=C||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let X=e.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(X)&&(o=!0),o||n.lineWrapping&&Math.abs(C-this.contentDOMWidth)>n.charWidth){let{lineHeight:T,charWidth:E,textHeight:k}=e.docView.measureTextSize();o=T>0&&n.refresh(s,T,E,k,Math.max(5,C/E),X),o&&(e.docView.minWidth=0,c|=16)}y>0&&v>0?h=Math.max(y,v):y<0&&v<0&&(h=Math.min(y,v)),lv();for(let T of this.viewports){let E=T.from==this.viewport.from?X:e.docView.measureVisibleLineHeights(T);this.heightMap=(o?Li.empty().applyChanges(this.stateDeco,Ut.empty,this.heightOracle,[new Sn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(n,0,o,new tR(T.from,E))}Mc&&(c|=2)}let P=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return P&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),c|=this.updateForViewport()),(c&2||P)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),n=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new jd(n.lineAt(o-i*1e3,dr.ByHeight,s,0,0).from,n.lineAt(a+(1-i)*1e3,dr.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=n.lineAt(c,dr.ByPos,s,0,0),g;t.y=="center"?g=(f.top+f.bottom)/2-h/2:t.y=="start"||t.y=="nearest"&&c<l.from?g=f.top:g=f.bottom-h,l=new jd(n.lineAt(g-1e3/2,dr.ByHeight,s,0,0).from,n.lineAt(g+h+1e3/2,dr.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),n=t.mapPos(e.to,1);return new jd(this.heightMap.lineAt(i,dr.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,dr.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(e,dr.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,dr.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||n<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&n>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let n of e)t.touchesRange(n.from,n.to)||i.push(new C0(t.mapPos(n.from),t.mapPos(n.to),n.size,n.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,n=i?1e4:2e3,s=n>>1,o=n<<1;if(this.defaultTextDirection!=Jr.LTR&&!i)return[];let a=[],l=(h,f,g,p)=>{if(f-h<s)return;let m=this.state.selection.main,y=[m.from];m.empty||y.push(m.to);for(let S of y)if(S>h&&S<f){l(h,S-10,g,p),l(S+10,f,g,p);return}let v=uR(e,S=>S.from>=g.from&&S.to<=g.to&&Math.abs(S.from-h)<s&&Math.abs(S.to-f)<s&&!y.some(C=>S.from<C&&S.to>C));if(!v){if(f<g.to&&t&&i&&t.visibleRanges.some(P=>P.from<=f&&P.to>=f)){let P=t.moveToLineBoundary(Xe.cursor(f),!1,!0).head;P>h&&(f=P)}let S=this.gapSize(g,h,f,p),C=i||S<2e6?S:2e6;v=new C0(h,f,S,C)}a.push(v)},c=h=>{if(h.length<o||h.type!=vn.Text)return;let f=hR(h.from,h.to,this.stateDeco);if(f.total<o)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,p,m;if(i){let y=n/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,S;if(g!=null){let C=Nd(f,g),P=((this.visibleBottom-this.visibleTop)/2+y)/h.height;v=C-P,S=C+P}else v=(this.visibleTop-h.top-y)/h.height,S=(this.visibleBottom-h.top+y)/h.height;p=Qd(f,v),m=Qd(f,S)}else{let y=f.total*this.heightOracle.charWidth,v=n*this.heightOracle.charWidth,S=0;if(y>2e6)for(let E of e)E.from>=h.from&&E.from<h.to&&E.size!=E.displaySize&&E.from*this.heightOracle.charWidth+S<this.pixelViewport.left&&(S=E.size-E.displaySize);let C=this.pixelViewport.left+S,P=this.pixelViewport.right+S,X,T;if(g!=null){let E=Nd(f,g),k=((P-C)/2+v)/y;X=E-k,T=E+k}else X=(C-v)/y,T=(P+v)/y;p=Qd(f,X),m=Qd(f,T)}p>h.from&&l(h.from,p,h,f),m<h.to&&l(m,h.to,h,f)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(c):c(h);return a}gapSize(e,t,i,n){let s=Nd(n,i)-Nd(n,t);return this.heightOracle.lineWrapping?e.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(e){C0.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=kr.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];Zt.spans(t,this.viewport.from,this.viewport.to,{span(s,o){i.push({from:s,to:o})},point(){}},20);let n=0;if(i.length!=this.visibleRanges.length)n=12;else for(let s=0;s<i.length&&!(n&8);s++){let o=this.visibleRanges[s],a=i[s];(o.from!=a.from||o.to!=a.to)&&(n|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(n|=8))}return this.visibleRanges=i,n}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||hu(this.heightMap.lineAt(e,dr.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||hu(this.heightMap.lineAt(this.scaler.fromDOM(e),dr.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return hu(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class jd{constructor(e,t){this.from=e,this.to=t}}function hR(r,e,t){let i=[],n=r,s=0;return Zt.spans(t,r,e,{span(){},point(o,a){o>n&&(i.push({from:n,to:o}),s+=o-n),n=a}},20),n<e&&(i.push({from:n,to:e}),s+=e-n),{total:s,ranges:i}}function Qd({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(r*t);for(let n=0;;n++){let{from:s,to:o}=e[n],a=o-s;if(i<=a)return s+i;i-=a}}function Nd(r,e){let t=0;for(let{from:i,to:n}of r.ranges){if(e<=n){t+=e-i;break}t+=n-i}return t/r.total}function uR(r,e){for(let t of r)if(e(t))return t}const uv={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}};class Kb{constructor(e,t,i){let n=0,s=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let c=t.lineAt(a,dr.ByPos,e,0,0).top,h=t.lineAt(l,dr.ByPos,e,0,0).bottom;return n+=h-c,{from:a,to:l,top:c,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(t.height-n);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return n+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,n=s.domBottom}}fromDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-n)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,n=s.domBottom}}eq(e){return e instanceof Kb?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function hu(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),i=e.toDOM(r.bottom);return new ks(r.from,r.length,t,i-t,Array.isArray(r._content)?r._content.map(n=>hu(n,e)):r._content)}const Ad=nt.define({combine:r=>r.join(" ")}),x1=nt.define({combine:r=>r.indexOf(!0)>-1}),w1=ma.newName(),N4=ma.newName(),A4=ma.newName(),T4={"&light":"."+N4,"&dark":"."+A4};function v1(r,e,t){return new ma(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,n=>{if(n=="&")return r;if(!t||!t[n])throw new RangeError(`Unsupported selector: ${n}`);return t[n]}):r+" "+i}})}const fR=v1("."+w1,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},T4),dR={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},X0=Ye.ie&&Ye.ie_version<=11;class pR{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new VE,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(Ye.ie&&Ye.ie_version<=11||Ye.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Ye.android&&e.constructor.EDIT_CONTEXT!==!1&&!(Ye.chrome&&Ye.chrome_version<126)&&(this.editContext=new OR(e),e.state.facet(Oo)&&(e.contentDOM.editContext=this.editContext.editContext)),X0&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,n=this.selectionRange;if(i.state.facet(Oo)?i.root.activeElement!=this.dom:!gp(this.dom,n))return;let s=n.anchorNode&&i.docView.nearest(n.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Ye.ie&&Ye.ie_version<=11||Ye.android&&Ye.chrome)&&!i.state.selection.main.empty&&n.focusNode&&ju(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Bu(e.root);if(!t)return!1;let i=Ye.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&gR(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let n=gp(this.dom,i);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&GE(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,dR),X0&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),X0&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let n=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Ec(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(n)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,n=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(n=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:n}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),n=this.selectionChanged&&gp(this.dom,this.selectionRange);if(e<0&&!n)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new T7(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,n=x4(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),n}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=fv(t,e.previousSibling||e.target.previousSibling,-1),n=fv(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:n?t.posBefore(n):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Oo)!=e.state.facet(Oo)&&(e.view.contentDOM.editContext=e.state.facet(Oo)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function fv(r,e,t){for(;e;){let i=sr.get(e);if(i&&i.parent==r)return i;let n=e.parentNode;e=n!=r.dom?n:t>0?e.nextSibling:e.previousSibling}return null}function dv(r,e){let t=e.startContainer,i=e.startOffset,n=e.endContainer,s=e.endOffset,o=r.docView.domAtPos(r.state.selection.main.anchor);return ju(o.node,o.offset,n,s)&&([t,i,n,s]=[n,s,t,i]),{anchorNode:t,anchorOffset:i,focusNode:n,focusOffset:s}}function gR(r,e){if(e.getComposedRanges){let n=e.getComposedRanges(r.root)[0];if(n)return dv(r,n)}let t=null;function i(n){n.preventDefault(),n.stopImmediatePropagation(),t=n.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",i,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",i,!0),t?dv(r,t):null}class OR{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let n=e.state.selection.main,{anchor:s,head:o}=n,a=this.toEditorPos(i.updateRangeStart),l=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:a,drifted:!1});let c={from:a,to:l,insert:Ut.of(i.text.split(`
`))};if(c.from==this.from&&s<this.from?c.from=s:c.to==this.to&&s>this.to&&(c.to=s),c.from==c.to&&!c.insert.length){let h=Xe.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));h.main.eq(n)||e.dispatch({selection:h,userEvent:"select"});return}if((Ye.mac||Ye.android)&&c.from==o-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:a,to:l,insert:Ut.of([i.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let h=this.to-this.from+(c.to-c.from+c.insert.length);Gb(e,c,Xe.single(this.toEditorPos(i.selectionStart,h),this.toEditorPos(i.selectionEnd,h)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=i=>{let n=[],s=null;for(let o=this.toEditorPos(i.rangeStart),a=this.toEditorPos(i.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,n.push(s)}t.updateCharacterBounds(i.rangeStart,n)},this.handlers.textformatupdate=i=>{let n=[];for(let s of i.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(l<c){let h=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;n.push(kr.mark({attributes:{style:h}}).range(l,c))}}}e.dispatch({effects:u4.of(kr.set(n))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let n=Bu(i.root);n&&n.rangeCount&&this.editContext.updateSelectionBounds(n.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,n=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(i)return;let h=c.length-(o-s);if(n&&o>=n.to)if(n.from==s&&n.to==o&&n.insert.eq(c)){n=this.pendingContextChange=null,t+=h,this.to+=h;return}else n=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=h,this.to+=h;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=h}t+=h}),n&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange,i=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(i.from,i.to)&&e.transactions.some(n=>!n.isUserEvent("input.type")&&n.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),n=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=n)&&this.editContext.updateSelection(i,n)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class lt{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(n=>n.forEach(s=>i(s,this)))||(n=>this.update(n)),this.dispatch=this.dispatch.bind(this),this._root=e.root||ZE(e.parent)||document,this.viewState=new hv(e.state||Dt.create(e)),e.scrollTo&&e.scrollTo.is(kd)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(_c).map(n=>new N0(n));for(let n of this.plugins)n.update(this);this.observer=new pR(this),this.inputState=new U7(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Bw(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof gi?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,n,s=this.state;for(let g of e){if(g.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=g.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(g=>g.annotation($4))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=P4(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,h=null;if(c?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(Dt.phrases)!=this.state.facet(Dt.phrases))return this.setState(s);n=ng.create(this,s,e),n.flags|=a;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(f&&(f=f.map(g.changes)),g.scrollIntoView){let{main:p}=g.state.selection;f=new Rc(p.empty?p:Xe.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of g.effects)p.is(kd)&&(f=p.value.clip(this.state))}this.viewState.update(n,f),this.bidiCache=og.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),t=this.docView.update(n),this.state.facet(lu)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(Ad)!=n.state.facet(Ad)&&(this.viewState.mustMeasureContent=!0),(t||i||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!n.empty)for(let g of this.state.facet(m1))try{g(n)}catch(p){js(this.state,p,"update listener")}(l||h)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!x4(this,h)&&c.force&&Ec(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new hv(e),this.plugins=e.facet(_c).map(i=>new N0(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new Bw(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(_c),i=e.state.facet(_c);if(t!=i){let n=[];for(let s of i){let o=t.indexOf(s);if(o<0)n.push(new N0(s));else{let a=this.plugins[o];a.mustUpdate=e,n.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=n,this.pluginMap.clear()}else for(let n of this.plugins)n.mustUpdate=e;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){js(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,n=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(qk(i))s=-1,o=this.viewState.heightMap.height;else{let p=this.viewState.scrollAnchorAt(n);s=p.from,o=p.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let h=c.map(p=>{try{return p.read(this)}catch(m){return js(this.state,m),pv}}),f=ng.create(this,this.state,[]),g=!1;f.flags|=l,t?t.flags|=l:t=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),g=this.docView.update(f),g&&this.docViewUpdate());for(let p=0;p<c.length;p++)if(h[p]!=pv)try{let m=c[p];m.write&&m.write(h[p],this)}catch(m){js(this.state,m)}if(g&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let m=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(m>1||m<-1){n=n+m,i.scrollTop=n/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(m1))a(t)}get themeClasses(){return w1+" "+(this.state.facet(x1)?A4:N4)+" "+this.state.facet(Ad)}updateAttrs(){let e=gv(this,f4,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Oo)?"true":"false",class:"cm-content",style:`${Ye.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),gv(this,Zb,t);let i=this.observer.ignore(()=>{let n=f1(this.contentDOM,this.contentAttrs,t),s=f1(this.dom,this.editorAttrs,e);return n||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let n of i.effects)if(n.is(lt.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(lu);let e=this.state.facet(lt.cspNonce);ma.mount(this.root,this.styleModules.concat(fR).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return T0(this,e,Gw(this,e,t,i))}moveByGroup(e,t){return T0(this,e,Gw(this,e,t,i=>j7(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),n=this.textDirectionAt(e.from),s=i[t?i.length-1:0];return Xe.cursor(s.side(t,n)+e.from,s.forward(!t,n)?1:-1)}moveToLineBoundary(e,t,i=!0){return P7(this,e,t,i)}moveVertically(e,t,i){return T0(this,e,Q7(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),b4(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(e),s=this.bidiSpans(n),o=s[la.find(s,e-n.from,-1,t)];return Dg(i,o.dir==Jr.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(c4)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>mR)return t4(e.length);let t=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||e4(s.isolates,i=Dw(this,e))))return s.order;i||(i=Dw(this,e));let n=c7(e.text,t,i);return this.bidiCache.push(new og(e.from,e.to,t,i,!0,n)),n}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ye.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Lk(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return kd.of(new Rc(typeof e=="number"?Xe.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return kd.of(new Rc(Xe.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return xa.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return xa.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=ma.newName(),n=[Ad.of(i),lu.of(v1(`.${i}`,e))];return t&&t.dark&&n.push(x1.of(!0)),n}static baseTheme(e){return Ig.lowest(lu.of(v1("."+w1,e,T4)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),n=i&&sr.get(i)||sr.get(e);return((t=n==null?void 0:n.rootView)===null||t===void 0?void 0:t.view)||null}}lt.styleModule=lu;lt.inputHandler=a4;lt.clipboardInputFilter=Fb;lt.clipboardOutputFilter=Vb;lt.scrollHandler=h4;lt.focusChangeEffect=l4;lt.perLineTextDirection=c4;lt.exceptionSink=o4;lt.updateListener=m1;lt.editable=Oo;lt.mouseSelectionStyle=s4;lt.dragMovesSelection=n4;lt.clickAddsSelectionRange=i4;lt.decorations=Fu;lt.outerDecorations=d4;lt.atomicRanges=Fg;lt.bidiIsolatedRanges=p4;lt.scrollMargins=g4;lt.darkTheme=x1;lt.cspNonce=nt.define({combine:r=>r.length?r[0]:""});lt.contentAttributes=Zb;lt.editorAttributes=f4;lt.lineWrapping=lt.contentAttributes.of({class:"cm-lineWrapping"});lt.announce=_r.define();const mR=4096,pv={};class og{constructor(e,t,i,n,s,o){this.from=e,this.to=t,this.dir=i,this.isolates=n,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let i=[],n=e.length?e[e.length-1].dir:Jr.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==n&&!t.touchesRange(o.from,o.to)&&i.push(new og(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function gv(r,e,t){for(let i=r.state.facet(e),n=i.length-1;n>=0;n--){let s=i[n],o=typeof s=="function"?s(r):s;o&&u1(o,t)}return t}const bR=Ye.mac?"mac":Ye.windows?"win":Ye.linux?"linux":"key";function yR(r,e){const t=r.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let n,s,o,a;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(i="Alt-"+i),s&&(i="Ctrl-"+i),a&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function Td(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}const xR=Ig.default(lt.domEventHandlers({keydown(r,e){return _R(wR(e.state),r,e,"editor")}})),Jb=nt.define({enables:xR}),Ov=new WeakMap;function wR(r){let e=r.facet(Jb),t=Ov.get(e);return t||Ov.set(e,t=SR(e.reduce((i,n)=>i.concat(n),[]))),t}let na=null;const vR=4e3;function SR(r,e=bR){let t=Object.create(null),i=Object.create(null),n=(o,a)=>{let l=i[o];if(l==null)i[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,h)=>{var f,g;let p=t[o]||(t[o]=Object.create(null)),m=a.split(/ (?!$)/).map(S=>yR(S,e));for(let S=1;S<m.length;S++){let C=m.slice(0,S).join(" ");n(C,!0),p[C]||(p[C]={preventDefault:!0,stopPropagation:!1,run:[P=>{let X=na={view:P,prefix:C,scope:o};return setTimeout(()=>{na==X&&(na=null)},vR),!0}]})}let y=m.join(" ");n(y,!1);let v=p[y]||(p[y]={preventDefault:!1,stopPropagation:!1,run:((g=(f=p._any)===null||f===void 0?void 0:f.run)===null||g===void 0?void 0:g.slice())||[]});l&&v.run.push(l),c&&(v.preventDefault=!0),h&&(v.stopPropagation=!0)};for(let o of r){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let h=t[c]||(t[c]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=o;for(let g in h)h[g].run.push(p=>f(p,S1))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return t}let S1=null;function _R(r,e,t,i){S1=e;let n=DE(e),s=kE(n,0),o=$E(s)==n.length&&n!=" ",a="",l=!1,c=!1,h=!1;na&&na.view==t&&na.scope==i&&(a=na.prefix+" ",v4.indexOf(e.keyCode)<0&&(c=!0,na=null));let f=new Set,g=v=>{if(v){for(let S of v.run)if(!f.has(S)&&(f.add(S),S(t)))return v.stopPropagation&&(h=!0),!0;v.preventDefault&&(v.stopPropagation&&(h=!0),c=!0)}return!1},p=r[i],m,y;return p&&(g(p[a+Td(n,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ye.windows&&e.ctrlKey&&e.altKey)&&!(Ye.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(m=ba[e.keyCode])&&m!=n?(g(p[a+Td(m,e,!0)])||e.shiftKey&&(y=Du[e.keyCode])!=n&&y!=m&&g(p[a+Td(y,e,!1)]))&&(l=!0):o&&e.shiftKey&&g(p[a+Td(n,e,!0)])&&(l=!0),!l&&g(p._any)&&(l=!0)),c&&(l=!0),l&&h&&e.stopPropagation(),S1=null,l}class zl extends El{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}zl.prototype.elementClass="";zl.prototype.toDOM=void 0;zl.prototype.mapMode=Ei.TrackBefore;zl.prototype.startSide=zl.prototype.endSide=-1;zl.prototype.point=!0;const E0=nt.define(),kR=nt.define(),yp=nt.define(),_1=nt.define({combine:r=>r.some(e=>e)});function $R(r){let e=[PR];return r&&r.fixed===!1&&e.push(_1.of(!0)),e}const PR=xa.fromClass(class{constructor(r){this.view=r,this.domAfter=null,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(yp).map(e=>new bv(r,e)),this.fixed=!r.state.facet(_1);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}if(r.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(_1)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Zt.iter(this.view.state.facet(E0),this.view.viewport.from),i=[],n=this.gutters.map(s=>new jR(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==vn.Text&&o){k1(t,i,a.from);for(let l of n)l.line(this.view,a,i);o=!1}else if(a.widget)for(let l of n)l.widget(this.view,a)}else if(s.type==vn.Text){k1(t,i,s.from);for(let o of n)o.line(this.view,s,i)}else if(s.widget)for(let o of n)o.widget(this.view,s);for(let s of n)s.finish();r&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(r){let e=r.startState.facet(yp),t=r.state.facet(yp),i=r.docChanged||r.heightChanged||r.viewportChanged||!Zt.eq(r.startState.facet(E0),r.state.facet(E0),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let n of this.gutters)n.update(r)&&(i=!0);else{i=!0;let n=[];for(let s of t){let o=e.indexOf(s);o<0?n.push(new bv(this.view,s)):(this.gutters[o].update(r),n.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),n.indexOf(s)<0&&s.destroy();for(let s of n)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=n}return i}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:r=>lt.scrollMargins.of(e=>{let t=e.plugin(r);if(!t||t.gutters.length==0||!t.fixed)return null;let i=t.dom.offsetWidth*e.scaleX,n=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Jr.LTR?{left:i,right:n}:{right:i,left:n}})});function mv(r){return Array.isArray(r)?r:[r]}function k1(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}class jR{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Zt.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:n}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==n.elements.length){let a=new C4(e,o,s,i);n.elements.push(a),n.dom.appendChild(a.dom)}else n.elements[this.i].update(e,o,s,i);this.height=t.bottom,this.i++}line(e,t,i){let n=[];k1(this.cursor,n,t.from),i.length&&(n=n.concat(i));let s=this.gutter.config.lineMarker(e,t,n);s&&n.unshift(s);let o=this.gutter;n.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,n)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),n=i?[i]:null;for(let s of e.state.facet(kR)){let o=s(e,t.widget,t);o&&(n||(n=[])).push(o)}n&&this.addElement(e,t,n)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class bv{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,n=>{let s=n.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=n.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[i](e,a,n)&&n.preventDefault()});this.markers=mv(t.markers(e)),t.initialSpacer&&(this.spacer=new C4(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=mv(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}let i=e.view.viewport;return!Zt.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class C4{constructor(e,t,i,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,n)}update(e,t,i,n){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),QR(this.markers,n)||this.setMarkers(e,n)}setMarkers(e,t){let i="cm-gutterElement",n=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,c=!1;if(l){let h=l.elementClass;h&&(i+=" "+h);for(let f=o;f<this.markers.length;f++)if(this.markers[f].compare(l)){a=f,c=!0;break}}else a=this.markers.length;for(;o<a;){let h=this.markers[o++];if(h.toDOM){h.destroy(n);let f=n.nextSibling;n.remove(),n=f}}if(!l)break;l.toDOM&&(c?n=n.nextSibling:this.dom.insertBefore(l.toDOM(e),n)),c&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function QR(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}const NR=nt.define(),AR=nt.define(),kc=nt.define({combine(r){return LE(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let n in t){let s=i[n],o=t[n];i[n]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return i}})}});class R0 extends zl{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function U0(r,e){return r.state.facet(kc).formatNumber(e,r.state)}const TR=yp.compute([kc],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(NR)},lineMarker(e,t,i){return i.some(n=>n.toDOM)?null:new R0(U0(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let n of e.state.facet(AR)){let s=n(e,t,i);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(kc)!=e.state.facet(kc),initialSpacer(e){return new R0(U0(e,yv(e.state.doc.lines)))},updateSpacer(e,t){let i=U0(t.view,yv(t.view.state.doc.lines));return i==e.number?e:new R0(i)},domEventHandlers:r.facet(kc).domEventHandlers,side:"before"}));function CR(r={}){return[kc.of(r),$R(),TR]}function yv(r){let e=9;for(;e<r;)e=e*10+9;return e}const XR=1024;let ER=0,L0=class{constructor(e,t){this.from=e,this.to=t}},zt=class{constructor(e={}){this.id=ER++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Cs.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}};zt.closedBy=new zt({deserialize:r=>r.split(" ")});zt.openedBy=new zt({deserialize:r=>r.split(" ")});zt.group=new zt({deserialize:r=>r.split(" ")});zt.isolate=new zt({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});zt.contextHash=new zt({perNode:!0});zt.lookAhead=new zt({perNode:!0});zt.mounted=new zt({perNode:!0});let ag=class{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[zt.mounted.id]}};const RR=Object.create(null);let Cs=class X4{constructor(e,t,i,n=0){this.name=e,this.props=t,this.id=i,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):RR,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new X4(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(zt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let n of i.split(" "))t[n]=e[i];return i=>{for(let n=i.prop(zt.group),s=-1;s<(n?n.length:0);s++){let o=t[s<0?i.name:n[s]];if(o)return o}}}};Cs.none=new Cs("",Object.create(null),0,8);const Cd=new WeakMap,xv=new WeakMap;var fi;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(fi||(fi={}));let cn=class $1{constructor(e,t,i,n,s){if(this.type=e,this.children=t,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=ag.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let n=i.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Q1(this.topNode,e)}cursorAt(e,t=0,i=0){let n=Cd.get(this)||this.topNode,s=new Q1(n);return s.moveTo(e,t),Cd.set(this,s._tree),s}get topNode(){return new wa(this,0,0,null)}resolve(e,t=0){let i=Vu(Cd.get(this)||this.topNode,e,t,!1);return Cd.set(this,i),i}resolveInner(e,t=0){let i=Vu(xv.get(this)||this.topNode,e,t,!0);return xv.set(this,i),i}resolveStack(e,t=0){return qR(this,e,t)}iterate(e){let{enter:t,leave:i,from:n=0,to:s=this.length}=e,o=e.mode||0,a=(o&fi.IncludeAnonymous)>0;for(let l=this.cursor(o|fi.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=n&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:ty(Cs.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,n)=>new $1(this.type,t,i,n,this.propValues),e.makeTree||((t,i,n)=>new $1(Cs.none,t,i,n)))}static build(e){return IR(e)}};cn.empty=new cn(Cs.none,[],[],0);let UR=class E4{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new E4(this.buffer,this.index)}},Fc=class R4{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Cs.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,n,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(U4(s,n,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i){let n=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=n[a++],s[l++]=n[a++]-i;let c=s[l++]=n[a++]-i;s[l++]=n[a++]-e,o=Math.max(o,c)}return new R4(s,o,this.set)}};function U4(r,e,t,i){switch(r){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Vu(r,e,t,i){for(var n;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let o=!i&&r instanceof wa&&r.index<0?null:r.parent;if(!o)return r;r=o}let s=i?0:fi.IgnoreOverlays;if(i)for(let o=r,a=o.parent;a;o=a,a=o.parent)o instanceof wa&&o.index<0&&((n=a.enter(e,t,s))===null||n===void 0?void 0:n.from)!=o.from&&(r=a);for(;;){let o=r.enter(e,t,s);if(!o)return r;r=o}}let L4=class{cursor(e=0){return new Q1(this,e)}getChild(e,t=null,i=null){let n=wv(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return wv(this,e,t,i)}resolve(e,t=0){return Vu(this,e,t,!1)}resolveInner(e,t=0){return Vu(this,e,t,!0)}matchContext(e){return P1(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}get node(){return this}get next(){return this.parent}},wa=class xp extends L4{constructor(e,t,i,n){super(),this._tree=e,this.from=t,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,n,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let h=a[e],f=l[e]+o.from;if(U4(n,i,f,f+h.length)){if(h instanceof Fc){if(s&fi.ExcludeBuffers)continue;let g=h.findChild(0,h.buffer.length,t,i-f,n);if(g>-1)return new j1(new LR(o,h,e,f),null,g)}else if(s&fi.IncludeAnonymous||!h.type.isAnonymous||ey(h)){let g;if(!(s&fi.IgnoreMounts)&&(g=ag.get(h))&&!g.overlay)return new xp(g.tree,f,e,o);let p=new xp(h,f,e,o);return s&fi.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(t<0?h.children.length-1:0,t,i,n)}}}if(s&fi.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let n;if(!(i&fi.IgnoreOverlays)&&(n=ag.get(this._tree))&&n.overlay){let s=e-this.from;for(let{from:o,to:a}of n.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new xp(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function wv(r,e,t,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=n.type.is(t),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function P1(r,e,t=e.length-1){for(let i=r;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}let LR=class{constructor(e,t,i,n){this.parent=e,this.buffer=t,this.index=i,this.start=n}},j1=class uu extends L4{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new uu(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&fi.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new uu(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new uu(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new uu(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let o=i.buffer[this.index+1];e.push(i.slice(n,s,o)),t.push(0)}return new cn(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function z4(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let o=r[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let i=t instanceof wa&&t.index<0?null:t.parent,n=r.slice();return i?n[e]=i:n.splice(e,1),new zR(n,t)}let zR=class{constructor(e,t){this.heads=e,this.node=t}get next(){return z4(this.heads)}};function qR(r,e,t){let i=r.resolveInner(e,t),n=null;for(let s=i instanceof wa?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(n||(n=[i])).push(o.resolve(e,t)),s=o}else{let o=ag.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new wa(o.tree,o.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(Vu(a,e,t,!1))}}return n?z4(n):i}let Q1=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof wa)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return e?e instanceof wa?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&fi.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&fi.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&fi.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(t.findChild(n,this.index,-1,0,4))}else{let n=t.buffer[this.index+3];if(n<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=n)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&fi.IncludeAnonymous||a instanceof Fc||!a.type.isAnonymous||ey(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,i=s+1;break e}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)t=new j1(this.buffer,t,this.stack[n]);return this.bufferNode=new j1(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&t&&t(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return P1(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return P1(this._tree,e,n);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}};function ey(r){return r.children.some(e=>e instanceof Fc||!e.type.isAnonymous||ey(e))}function IR(r){var e;let{buffer:t,nodeSet:i,maxBufferLength:n=XR,reused:s=[],minRepeatType:o=i.types.length}=r,a=Array.isArray(t)?new UR(t,t.length):t,l=i.types,c=0,h=0;function f(T,E,k,z,Q,W){let{id:_,start:w,end:A,size:j}=a,L=h,K=c;for(;j<0;)if(a.next(),j==-1){let ae=s[_];k.push(ae),z.push(w-T);return}else if(j==-3){c=_;return}else if(j==-4){h=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let re=l[_],te,oe,ve=w-T;if(A-w<=n&&(oe=v(a.pos-E,Q))){let ae=new Uint16Array(oe.size-oe.skip),N=a.pos-oe.size,Y=ae.length;for(;a.pos>N;)Y=S(oe.start,ae,Y);te=new Fc(ae,A-oe.start,i),ve=oe.start-T}else{let ae=a.pos-j;a.next();let N=[],Y=[],F=_>=o?_:-1,B=0,ee=A;for(;a.pos>ae;)F>=0&&a.id==F&&a.size>=0?(a.end<=ee-n&&(m(N,Y,w,B,a.end,ee,F,L,K),B=N.length,ee=a.end),a.next()):W>2500?g(w,ae,N,Y):f(w,ae,N,Y,F,W+1);if(F>=0&&B>0&&B<N.length&&m(N,Y,w,B,w,ee,F,L,K),N.reverse(),Y.reverse(),F>-1&&B>0){let le=p(re,K);te=ty(re,N,Y,0,N.length,0,A-w,le,le)}else te=y(re,N,Y,A-w,L-A,K)}k.push(te),z.push(ve)}function g(T,E,k,z){let Q=[],W=0,_=-1;for(;a.pos>E;){let{id:w,start:A,end:j,size:L}=a;if(L>4)a.next();else{if(_>-1&&A<_)break;_<0&&(_=j-n),Q.push(w,A,j),W++,a.next()}}if(W){let w=new Uint16Array(W*4),A=Q[Q.length-2];for(let j=Q.length-3,L=0;j>=0;j-=3)w[L++]=Q[j],w[L++]=Q[j+1]-A,w[L++]=Q[j+2]-A,w[L++]=L;k.push(new Fc(w,Q[2]-A,i)),z.push(A-T)}}function p(T,E){return(k,z,Q)=>{let W=0,_=k.length-1,w,A;if(_>=0&&(w=k[_])instanceof cn){if(!_&&w.type==T&&w.length==Q)return w;(A=w.prop(zt.lookAhead))&&(W=z[_]+w.length+A)}return y(T,k,z,Q,W,E)}}function m(T,E,k,z,Q,W,_,w,A){let j=[],L=[];for(;T.length>z;)j.push(T.pop()),L.push(E.pop()+k-Q);T.push(y(i.types[_],j,L,W-Q,w-W,A)),E.push(Q-k)}function y(T,E,k,z,Q,W,_){if(W){let w=[zt.contextHash,W];_=_?[w].concat(_):[w]}if(Q>25){let w=[zt.lookAhead,Q];_=_?[w].concat(_):[w]}return new cn(T,E,k,z,_)}function v(T,E){let k=a.fork(),z=0,Q=0,W=0,_=k.end-n,w={size:0,start:0,skip:0};e:for(let A=k.pos-T;k.pos>A;){let j=k.size;if(k.id==E&&j>=0){w.size=z,w.start=Q,w.skip=W,W+=4,z+=4,k.next();continue}let L=k.pos-j;if(j<0||L<A||k.start<_)break;let K=k.id>=o?4:0,re=k.start;for(k.next();k.pos>L;){if(k.size<0)if(k.size==-3)K+=4;else break e;else k.id>=o&&(K+=4);k.next()}Q=re,z+=j,W+=K}return(E<0||z==T)&&(w.size=z,w.start=Q,w.skip=W),w.size>4?w:void 0}function S(T,E,k){let{id:z,start:Q,end:W,size:_}=a;if(a.next(),_>=0&&z<o){let w=k;if(_>4){let A=a.pos-(_-4);for(;a.pos>A;)k=S(T,E,k)}E[--k]=w,E[--k]=W-T,E[--k]=Q-T,E[--k]=z}else _==-3?c=z:_==-4&&(h=z);return k}let C=[],P=[];for(;a.pos>0;)f(r.start||0,r.bufferStart||0,C,P,-1,0);let X=(e=r.length)!==null&&e!==void 0?e:C.length?P[0]+C[0].length:0;return new cn(l[r.topID],C.reverse(),P.reverse(),X)}const vv=new WeakMap;function wp(r,e){if(!r.isAnonymous||e instanceof Fc||e.type!=r)return 1;let t=vv.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=r||!(i instanceof cn)){t=1;break}t+=wp(r,i)}vv.set(e,t)}return t}function ty(r,e,t,i,n,s,o,a,l){let c=0;for(let m=i;m<n;m++)c+=wp(r,e[m]);let h=Math.ceil(c*1.5/8),f=[],g=[];function p(m,y,v,S,C){for(let P=v;P<S;){let X=P,T=y[P],E=wp(r,m[P]);for(P++;P<S;P++){let k=wp(r,m[P]);if(E+k>=h)break;E+=k}if(P==X+1){if(E>h){let k=m[X];p(k.children,k.positions,0,k.children.length,y[X]+C);continue}f.push(m[X])}else{let k=y[P-1]+m[P-1].length-T;f.push(ty(r,m,y,X,P,T,k,null,l))}g.push(T+C-s)}}return p(e,t,i,n,0),(a||l)(f,g,o)}class kl{constructor(e,t,i,n,s=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=n,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let n=[new kl(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&n.push(s);return n}static applyChanges(e,t,i=128){if(!t.length)return e;let n=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let h=a<t.length?t[a]:null,f=h?h.fromA:1e9;if(f-l>=i)for(;o&&o.from<f;){let g=o;if(l>=g.from||f<=g.to||c){let p=Math.max(g.from,l)-c,m=Math.min(g.to,f)-c;g=p>=m?null:new kl(p,m,g.tree,g.offset+c,a>0,!!h)}if(g&&n.push(g),o.to>f)break;o=s<e.length?e[s++]:null}if(!h)break;l=h.toA,c=h.toA-h.toB}return n}}let WR=class{startParse(e,t,i){return typeof e=="string"&&(e=new YR(e)),i=i?i.length?i.map(n=>new L0(n.from,n.to)):[new L0(0,0)]:[new L0(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let n=this.startParse(e,t,i);for(;;){let s=n.advance();if(s)return s}}},YR=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new zt({perNode:!0});let DR=0,uo=class N1{constructor(e,t,i,n){this.name=e,this.set=t,this.base=i,this.modified=n,this.id=DR++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof N1&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let n=new N1(i,[],null,[]);if(n.set.push(n),t)for(let s of t.set)n.set.push(s);return n}static defineModifier(e){let t=new Sv(e);return i=>i.modified.indexOf(t)>-1?i:Sv.get(i.base||i,i.modified.concat(t).sort((n,s)=>n.id-s.id))}},BR=0,Sv=class q4{constructor(e){this.name=e,this.instances=[],this.id=BR++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&MR(t,a.modified));if(i)return i;let n=[],s=new uo(e.name,n,e,t);for(let a of t)a.instances.push(s);let o=FR(t);for(let a of e.set)if(!a.modified.length)for(let l of o)n.push(q4.get(a,l));return s}};function MR(r,e){return r.length==e.length&&r.every((t,i)=>t==e[i])}function FR(r){let e=[[]];for(let t=0;t<r.length;t++)for(let i=0,n=e.length;i<n;i++)e.push(e[i].concat(r[t]));return e.sort((t,i)=>i.length-t.length)}function VR(r){let e=Object.create(null);for(let t in r){let i=r[t];Array.isArray(i)||(i=[i]);for(let n of t.split(" "))if(n){let s=[],o=2,a=n;for(let f=0;;){if(a=="..."&&f>0&&f+3==n.length){o=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!g)throw new RangeError("Invalid path: "+n);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),f+=g[0].length,f==n.length)break;let p=n[f++];if(f==n.length&&p=="!"){o=0;break}if(p!="/")throw new RangeError("Invalid path: "+n);a=n.slice(f)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+n);let h=new lg(i,o,l>0?s.slice(0,l):null);e[c]=h.sort(e[c])}}return I4.add(e)}const I4=new zt;let lg=class{constructor(e,t,i,n){this.tags=e,this.mode=t,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}};lg.empty=new lg([],2,null);function W4(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:n=null}=e||{};return{style:s=>{let o=n;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:i}}function ZR(r,e){let t=null;for(let i of r){let n=i.style(e);n&&(t=t?t+" "+n:n)}return t}function GR(r,e,t,i=0,n=r.length){let s=new HR(i,Array.isArray(e)?e:[e],t);s.highlightRange(r.cursor(),i,n,"",s.highlighters),s.flush(n)}class HR{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,n,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=t)return;o.isTop&&(s=this.highlighters.filter(p=>!p.scope||p.scope(o)));let c=n,h=KR(e)||lg.empty,f=ZR(s,h.tags);if(f&&(c&&(c+=" "),c+=f,h.mode==1&&(n+=(n?" ":"")+f)),this.startSpan(Math.max(t,a),c),h.opaque)return;let g=e.tree&&e.tree.prop(zt.mounted);if(g&&g.overlay){let p=e.node.enter(g.overlay[0].from+a,1),m=this.highlighters.filter(v=>!v.scope||v.scope(g.tree.type)),y=e.firstChild();for(let v=0,S=a;;v++){let C=v<g.overlay.length?g.overlay[v]:null,P=C?C.from+a:l,X=Math.max(t,S),T=Math.min(i,P);if(X<T&&y)for(;e.from<T&&(this.highlightRange(e,X,T,n,s),this.startSpan(Math.min(T,e.to),c),!(e.to>=P||!e.nextSibling())););if(!C||P>i)break;S=C.to+a,S>t&&(this.highlightRange(p.cursor(),Math.max(t,C.from+a),Math.min(i,S),"",m),this.startSpan(Math.min(i,S),c))}y&&e.parent()}else if(e.firstChild()){g&&(n="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,n,s),this.startSpan(Math.min(i,e.to),c)}while(e.nextSibling());e.parent()}}}function KR(r){let e=r.type.prop(I4);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const Re=uo.define,Xd=Re(),Fo=Re(),_v=Re(Fo),kv=Re(Fo),Vo=Re(),Ed=Re(Vo),z0=Re(Vo),Os=Re(),sl=Re(Os),as=Re(),ls=Re(),A1=Re(),Hh=Re(A1),Rd=Re(),Ie={comment:Xd,lineComment:Re(Xd),blockComment:Re(Xd),docComment:Re(Xd),name:Fo,variableName:Re(Fo),typeName:_v,tagName:Re(_v),propertyName:kv,attributeName:Re(kv),className:Re(Fo),labelName:Re(Fo),namespace:Re(Fo),macroName:Re(Fo),literal:Vo,string:Ed,docString:Re(Ed),character:Re(Ed),attributeValue:Re(Ed),number:z0,integer:Re(z0),float:Re(z0),bool:Re(Vo),regexp:Re(Vo),escape:Re(Vo),color:Re(Vo),url:Re(Vo),keyword:as,self:Re(as),null:Re(as),atom:Re(as),unit:Re(as),modifier:Re(as),operatorKeyword:Re(as),controlKeyword:Re(as),definitionKeyword:Re(as),moduleKeyword:Re(as),operator:ls,derefOperator:Re(ls),arithmeticOperator:Re(ls),logicOperator:Re(ls),bitwiseOperator:Re(ls),compareOperator:Re(ls),updateOperator:Re(ls),definitionOperator:Re(ls),typeOperator:Re(ls),controlOperator:Re(ls),punctuation:A1,separator:Re(A1),bracket:Hh,angleBracket:Re(Hh),squareBracket:Re(Hh),paren:Re(Hh),brace:Re(Hh),content:Os,heading:sl,heading1:Re(sl),heading2:Re(sl),heading3:Re(sl),heading4:Re(sl),heading5:Re(sl),heading6:Re(sl),contentSeparator:Re(Os),list:Re(Os),quote:Re(Os),emphasis:Re(Os),strong:Re(Os),link:Re(Os),monospace:Re(Os),strikethrough:Re(Os),inserted:Re(),deleted:Re(),changed:Re(),invalid:Re(),meta:Rd,documentMeta:Re(Rd),annotation:Re(Rd),processingInstruction:Re(Rd),definition:uo.defineModifier("definition"),constant:uo.defineModifier("constant"),function:uo.defineModifier("function"),standard:uo.defineModifier("standard"),local:uo.defineModifier("local"),special:uo.defineModifier("special")};for(let r in Ie){let e=Ie[r];e instanceof uo&&(e.name=r)}W4([{tag:Ie.link,class:"tok-link"},{tag:Ie.heading,class:"tok-heading"},{tag:Ie.emphasis,class:"tok-emphasis"},{tag:Ie.strong,class:"tok-strong"},{tag:Ie.keyword,class:"tok-keyword"},{tag:Ie.atom,class:"tok-atom"},{tag:Ie.bool,class:"tok-bool"},{tag:Ie.url,class:"tok-url"},{tag:Ie.labelName,class:"tok-labelName"},{tag:Ie.inserted,class:"tok-inserted"},{tag:Ie.deleted,class:"tok-deleted"},{tag:Ie.literal,class:"tok-literal"},{tag:Ie.string,class:"tok-string"},{tag:Ie.number,class:"tok-number"},{tag:[Ie.regexp,Ie.escape,Ie.special(Ie.string)],class:"tok-string2"},{tag:Ie.variableName,class:"tok-variableName"},{tag:Ie.local(Ie.variableName),class:"tok-variableName tok-local"},{tag:Ie.definition(Ie.variableName),class:"tok-variableName tok-definition"},{tag:Ie.special(Ie.variableName),class:"tok-variableName2"},{tag:Ie.definition(Ie.propertyName),class:"tok-propertyName tok-definition"},{tag:Ie.typeName,class:"tok-typeName"},{tag:Ie.namespace,class:"tok-namespace"},{tag:Ie.className,class:"tok-className"},{tag:Ie.macroName,class:"tok-macroName"},{tag:Ie.propertyName,class:"tok-propertyName"},{tag:Ie.operator,class:"tok-operator"},{tag:Ie.comment,class:"tok-comment"},{tag:Ie.meta,class:"tok-meta"},{tag:Ie.invalid,class:"tok-invalid"},{tag:Ie.punctuation,class:"tok-punctuation"}]);var q0;const $c=new zt;function JR(r){return nt.define({combine:r?e=>e.concat(r):void 0})}const eU=new zt;class qn{constructor(e,t,i=[],n=""){this.data=e,this.name=n,Dt.prototype.hasOwnProperty("tree")||Object.defineProperty(Dt.prototype,"tree",{get(){return jn(this)}}),this.parser=t,this.extension=[Zc.of(this),Dt.languageData.of((s,o,a)=>{let l=$v(s,o,a),c=l.type.prop($c);if(!c)return[];let h=s.facet(c),f=l.type.prop(eU);if(f){let g=l.resolve(o-l.from,a);for(let p of f)if(p.test(g,s)){let m=s.facet(p.facet);return p.type=="replace"?m:m.concat(h)}}return h})].concat(i)}isActiveAt(e,t,i=-1){return $v(e,t,i).type.prop($c)==this.data}findRegions(e){let t=e.facet(Zc);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],n=(s,o)=>{if(s.prop($c)==this.data){i.push({from:o,to:o+s.length});return}let a=s.prop(zt.mounted);if(a){if(a.tree.prop($c)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+o,to:l.to+o});else i.push({from:o,to:o+s.length});return}else if(a.overlay){let l=i.length;if(n(a.tree,a.overlay[0].from+o),i.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof cn&&n(c,s.positions[l]+o)}};return n(jn(e),0),i}get allowsNesting(){return!0}}qn.setState=_r.define();function $v(r,e,t){let i=r.facet(Zc),n=jn(r).topNode;if(!i||i.allowsNesting)for(let s=n;s;s=s.enter(e,t,fi.ExcludeBuffers))s.type.isTop&&(n=s);return n}class Zu extends qn{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=JR(e.languageData);return new Zu(t,e.parser.configure({props:[$c.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new Zu(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function jn(r){let e=r.field(qn.state,!1);return e?e.tree:cn.empty}class tU{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let Kh=null;class cg{constructor(e,t,i=[],n,s,o,a,l){this.parser=e,this.state=t,this.fragments=i,this.tree=n,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new cg(e,t,[],cn.empty,0,i,[],null)}startParse(){return this.parser.startParse(new tU(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=cn.empty&&this.isDone(t!=null?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let n=Date.now()+e;e=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(kl.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(t!=null?t:this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(kl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Kh;Kh=this;try{return e()}finally{Kh=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Pv(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:n,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,h,f,g)=>l.push({fromA:c,toA:h,fromB:f,toB:g})),i=kl.applyChanges(i,l),n=cn.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let h=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);h<f&&a.push({from:h,to:f})}}}return new cg(this.parser,t,i,n,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:n,to:s}=this.skipped[i];n<e.to&&s>e.from&&(this.fragments=Pv(this.fragments,n,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends WR{createParse(t,i,n){let s=n[0].from,o=n[n.length-1].to;return{parsedPos:s,advance(){let l=Kh;if(l){for(let c of n)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new cn(Cs.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Kh}}function Pv(r,e,t){return kl.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}class Vc{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new Vc(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=cg.create(e.facet(Zc).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new Vc(i)}}qn.state=Qa.define({create:Vc.init,update(r,e){for(let t of e.effects)if(t.is(qn.setState))return t.value;return e.startState.facet(Zc)!=e.state.facet(Zc)?Vc.init(e.state):r.apply(e)}});let Y4=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback!="undefined"&&(Y4=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const I0=typeof navigator!="undefined"&&(!((q0=navigator.scheduling)===null||q0===void 0)&&q0.isInputPending)?()=>navigator.scheduling.isInputPending():null,rU=xa.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(qn.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(qn.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Y4(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,s=i.field(qn.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!I0?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<n&&i.doc.length>n+1e3,l=s.context.work(()=>I0&&I0()||Date.now()>o,n+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:qn.setState.of(new Vc(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>js(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Zc=nt.define({combine(r){return r.length?r[0]:null},enables:r=>[qn.state,rU,lt.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]});class D4{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const iU=nt.define(),Zg=nt.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function hg(r){let e=r.facet(Zg);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function ug(r,e){let t="",i=r.tabSize,n=r.facet(Zg)[0];if(n=="	"){for(;e>=i;)t+="	",e-=i;n=" "}for(let s=0;s<e;s++)t+=n;return t}function B4(r,e){r instanceof Dt&&(r=new Gg(r));for(let i of r.state.facet(iU)){let n=i(r,e);if(n!==void 0)return n}let t=jn(r.state);return t.length>=e?nU(r,t,e):null}class Gg{constructor(e,t={}){this.state=e,this.options=t,this.unit=hg(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:n,simulateDoubleBreak:s}=this.options;return n!=null&&n>=i.from&&n<=i.to?s&&n==e?{text:"",from:e}:(t<0?n<e:n<=e)?{text:i.text.slice(n-i.from),from:n}:{text:i.text.slice(0,n-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:n}=this.lineAt(e,t);return i.slice(e-n,Math.min(i.length,e+100-n))}column(e,t=1){let{text:i,from:n}=this.lineAt(e,t),s=this.countColumn(i,e-n),o=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return Yg(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:n}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(n);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const ry=new zt;function nU(r,e,t){let i=e.resolveStack(t),n=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(n!=i.node){let s=[];for(let o=n;o&&!(o.from<i.node.from||o.to>i.node.to||o.from==i.node.from&&o.type==i.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)i={node:s[o],next:i}}return M4(i,r,t)}function M4(r,e,t){for(let i=r;i;i=i.next){let n=oU(i.node);if(n)return n(iy.create(e,t,i))}return 0}function sU(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function oU(r){let e=r.type.prop(ry);if(e)return e;let t=r.firstChild,i;if(t&&(i=t.type.prop(zt.closedBy))){let n=r.lastChild,s=n&&i.indexOf(n.name)>-1;return o=>F4(o,!0,1,void 0,s&&!sU(o)?n.from:void 0)}return r.parent==null?aU:null}function aU(){return 0}class iy extends Gg{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new iy(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(lU(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return M4(this.context.next,this.base,this.pos)}}function lU(r,e){for(let t=e;t;t=t.parent)if(r==t)return!0;return!1}function cU(r){let e=r.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let n=r.options.simulateBreak,s=r.state.doc.lineAt(t.from),o=n==null||n<=s.from?s.to:Math.min(s.to,n);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function vp({closing:r,align:e=!0,units:t=1}){return i=>F4(i,e,t,r)}function F4(r,e,t,i,n){let s=r.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||n==r.pos+o,l=e?cU(r):null;return l?a?r.column(l.from):r.column(l.to):r.baseIndent+(a?0:r.unit*t)}const hU=r=>r.baseIndent;function W0({except:r,units:e=1}={}){return t=>{let i=r&&r.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const V4=new zt;function Z4(r){let e=r.firstChild,t=r.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?r.to:t.from}:null}class yf{constructor(e,t){this.specs=e;let i;function n(a){let l=ma.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?n(t.all):void 0,o=t.scope;this.scope=o instanceof qn?a=>a.prop($c)==o.data:o?a=>a==o:void 0,this.style=W4(e.map(a=>({tag:a.tag,class:a.class||n(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=i?new ma(i):null,this.themeType=t.themeType}static define(e,t){return new yf(e,t||{})}}const T1=nt.define(),G4=nt.define({combine(r){return r.length?[r[0]]:null}});function Y0(r){let e=r.facet(T1);return e.length?e:r.facet(G4)}function H4(r,e){let t=[fU],i;return r instanceof yf&&(r.module&&t.push(lt.styleModule.of(r.module)),i=r.themeType),e!=null&&e.fallback?t.push(G4.of(r)):i?t.push(T1.computeN([lt.darkTheme],n=>n.facet(lt.darkTheme)==(i=="dark")?[r]:[])):t.push(T1.of(r)),t}class uU{constructor(e){this.markCache=Object.create(null),this.tree=jn(e.state),this.decorations=this.buildDeco(e,Y0(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=jn(e.state),i=Y0(e.state),n=i!=Y0(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!n&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||n)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return kr.none;let i=new Wu;for(let{from:n,to:s}of e.visibleRanges)GR(this.tree,t,(o,a,l)=>{i.add(o,a,this.markCache[l]||(this.markCache[l]=kr.mark({class:l})))},n,s);return i.finish()}}const fU=Ig.high(xa.fromClass(uU,{decorations:r=>r.decorations})),dU=yf.define([{tag:Ie.meta,color:"#404740"},{tag:Ie.link,textDecoration:"underline"},{tag:Ie.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Ie.emphasis,fontStyle:"italic"},{tag:Ie.strong,fontWeight:"bold"},{tag:Ie.strikethrough,textDecoration:"line-through"},{tag:Ie.keyword,color:"#708"},{tag:[Ie.atom,Ie.bool,Ie.url,Ie.contentSeparator,Ie.labelName],color:"#219"},{tag:[Ie.literal,Ie.inserted],color:"#164"},{tag:[Ie.string,Ie.deleted],color:"#a11"},{tag:[Ie.regexp,Ie.escape,Ie.special(Ie.string)],color:"#e40"},{tag:Ie.definition(Ie.variableName),color:"#00f"},{tag:Ie.local(Ie.variableName),color:"#30a"},{tag:[Ie.typeName,Ie.namespace],color:"#085"},{tag:Ie.className,color:"#167"},{tag:[Ie.special(Ie.variableName),Ie.macroName],color:"#256"},{tag:Ie.definition(Ie.propertyName),color:"#00c"},{tag:Ie.comment,color:"#940"},{tag:Ie.invalid,color:"#f00"}]),pU=1e4,gU="()[]{}",OU=new zt;function C1(r,e,t){let i=r.prop(e<0?zt.openedBy:zt.closedBy);if(i)return i;if(r.name.length==1){let n=t.indexOf(r.name);if(n>-1&&n%2==(e<0?1:0))return[t[n+e]]}return null}function X1(r){let e=r.type.prop(OU);return e?e(r.node):r}function Pc(r,e,t,i={}){let n=i.maxScanDistance||pU,s=i.brackets||gU,o=jn(r),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let c=C1(l.type,t,s);if(c&&l.from<l.to){let h=X1(l);if(h&&(t>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return mU(r,e,t,l,h,c,s)}}return bU(r,e,t,o,a.type,n,s)}function mU(r,e,t,i,n,s,o){let a=i.parent,l={from:n.from,to:n.to},c=0,h=a==null?void 0:a.cursor();if(h&&(t<0?h.childBefore(i.from):h.childAfter(i.to)))do if(t<0?h.to<=i.from:h.from>=i.to){if(c==0&&s.indexOf(h.type.name)>-1&&h.from<h.to){let f=X1(h);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(C1(h.type,t,o))c++;else if(C1(h.type,-t,o)){if(c==0){let f=X1(h);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(t<0?h.prevSibling():h.nextSibling());return{start:l,matched:!1}}function bU(r,e,t,i,n,s,o){let a=t<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},h=r.doc.iterRange(e,t>0?r.doc.length:0),f=0;for(let g=0;!h.next().done&&g<=s;){let p=h.value;t<0&&(g+=p.length);let m=e+g*t;for(let y=t>0?0:p.length-1,v=t>0?p.length:-1;y!=v;y+=t){let S=o.indexOf(p[y]);if(!(S<0||i.resolveInner(m+y,1).type!=n))if(S%2==0==t>0)f++;else{if(f==1)return{start:c,end:{from:m+y,to:m+y+1},matched:S>>1==l>>1};f--}}t>0&&(g+=p.length)}return h.done?{start:c,matched:!1}:null}const yU=Object.create(null),jv=[Cs.none],Qv=[],Nv=Object.create(null),xU=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])xU[r]=wU(yU,e);function D0(r,e){Qv.indexOf(r)>-1||(Qv.push(r),console.warn(e))}function wU(r,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let h=r[c]||Ie[c];h?typeof h=="function"?l.length?l=l.map(h):D0(c,`Modifier ${c} used at start of tag`):l.length?D0(c,`Tag ${c} used as modifier`):l=Array.isArray(h)?h:[h]:D0(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),n=i+" "+t.map(a=>a.id),s=Nv[n];if(s)return s.id;let o=Nv[n]=Cs.define({id:jv.length,name:i,props:[VR({[i]:t})]});return jv.push(o),o.id}Jr.RTL,Jr.LTR;const vU=1024;let SU=0,Or=class{constructor(e={}){this.id=SU++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ql.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}};Or.closedBy=new Or({deserialize:r=>r.split(" ")});Or.openedBy=new Or({deserialize:r=>r.split(" ")});Or.group=new Or({deserialize:r=>r.split(" ")});Or.isolate=new Or({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});Or.contextHash=new Or({perNode:!0});Or.lookAhead=new Or({perNode:!0});Or.mounted=new Or({perNode:!0});let fg=class{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[Or.mounted.id]}};const _U=Object.create(null);let ql=class K4{constructor(e,t,i,n=0){this.name=e,this.props=t,this.id=i,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):_U,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new K4(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Or.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let n of i.split(" "))t[n]=e[i];return i=>{for(let n=i.prop(Or.group),s=-1;s<(n?n.length:0);s++){let o=t[s<0?i.name:n[s]];if(o)return o}}}};ql.none=new ql("",Object.create(null),0,8);const Ud=new WeakMap,Av=new WeakMap;var _i;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(_i||(_i={}));let $l=class E1{constructor(e,t,i,n,s){if(this.type=e,this.children=t,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=fg.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let n=i.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new L1(this.topNode,e)}cursorAt(e,t=0,i=0){let n=Ud.get(this)||this.topNode,s=new L1(n);return s.moveTo(e,t),Ud.set(this,s._tree),s}get topNode(){return new va(this,0,0,null)}resolve(e,t=0){let i=Gu(Ud.get(this)||this.topNode,e,t,!1);return Ud.set(this,i),i}resolveInner(e,t=0){let i=Gu(Av.get(this)||this.topNode,e,t,!0);return Av.set(this,i),i}resolveStack(e,t=0){return jU(this,e,t)}iterate(e){let{enter:t,leave:i,from:n=0,to:s=this.length}=e,o=e.mode||0,a=(o&_i.IncludeAnonymous)>0;for(let l=this.cursor(o|_i.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=n&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:sy(ql.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,n)=>new E1(this.type,t,i,n,this.propValues),e.makeTree||((t,i,n)=>new E1(ql.none,t,i,n)))}static build(e){return QU(e)}};$l.empty=new $l(ql.none,[],[],0);let kU=class J4{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new J4(this.buffer,this.index)}},Gc=class e${constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return ql.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,n,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(t$(s,n,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i){let n=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=n[a++],s[l++]=n[a++]-i;let c=s[l++]=n[a++]-i;s[l++]=n[a++]-e,o=Math.max(o,c)}return new e$(s,o,this.set)}};function t$(r,e,t,i){switch(r){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Gu(r,e,t,i){for(var n;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let o=!i&&r instanceof va&&r.index<0?null:r.parent;if(!o)return r;r=o}let s=i?0:_i.IgnoreOverlays;if(i)for(let o=r,a=o.parent;a;o=a,a=o.parent)o instanceof va&&o.index<0&&((n=a.enter(e,t,s))===null||n===void 0?void 0:n.from)!=o.from&&(r=a);for(;;){let o=r.enter(e,t,s);if(!o)return r;r=o}}let r$=class{cursor(e=0){return new L1(this,e)}getChild(e,t=null,i=null){let n=Tv(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return Tv(this,e,t,i)}resolve(e,t=0){return Gu(this,e,t,!1)}resolveInner(e,t=0){return Gu(this,e,t,!0)}matchContext(e){return R1(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}get node(){return this}get next(){return this.parent}},va=class Sp extends r${constructor(e,t,i,n){super(),this._tree=e,this.from=t,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,n,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let h=a[e],f=l[e]+o.from;if(t$(n,i,f,f+h.length)){if(h instanceof Gc){if(s&_i.ExcludeBuffers)continue;let g=h.findChild(0,h.buffer.length,t,i-f,n);if(g>-1)return new U1(new $U(o,h,e,f),null,g)}else if(s&_i.IncludeAnonymous||!h.type.isAnonymous||ny(h)){let g;if(!(s&_i.IgnoreMounts)&&(g=fg.get(h))&&!g.overlay)return new Sp(g.tree,f,e,o);let p=new Sp(h,f,e,o);return s&_i.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(t<0?h.children.length-1:0,t,i,n)}}}if(s&_i.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let n;if(!(i&_i.IgnoreOverlays)&&(n=fg.get(this._tree))&&n.overlay){let s=e-this.from;for(let{from:o,to:a}of n.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Sp(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function Tv(r,e,t,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=n.type.is(t),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function R1(r,e,t=e.length-1){for(let i=r;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}let $U=class{constructor(e,t,i,n){this.parent=e,this.buffer=t,this.index=i,this.start=n}},U1=class fu extends r${get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new fu(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&_i.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new fu(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new fu(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new fu(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let o=i.buffer[this.index+1];e.push(i.slice(n,s,o)),t.push(0)}return new $l(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function i$(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let o=r[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let i=t instanceof va&&t.index<0?null:t.parent,n=r.slice();return i?n[e]=i:n.splice(e,1),new PU(n,t)}let PU=class{constructor(e,t){this.heads=e,this.node=t}get next(){return i$(this.heads)}};function jU(r,e,t){let i=r.resolveInner(e,t),n=null;for(let s=i instanceof va?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(n||(n=[i])).push(o.resolve(e,t)),s=o}else{let o=fg.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new va(o.tree,o.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(Gu(a,e,t,!1))}}return n?i$(n):i}let L1=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof va)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return e?e instanceof va?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&_i.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&_i.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&_i.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(t.findChild(n,this.index,-1,0,4))}else{let n=t.buffer[this.index+3];if(n<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=n)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&_i.IncludeAnonymous||a instanceof Gc||!a.type.isAnonymous||ny(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,i=s+1;break e}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)t=new U1(this.buffer,t,this.stack[n]);return this.bufferNode=new U1(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&t&&t(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return R1(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return R1(this._tree,e,n);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}};function ny(r){return r.children.some(e=>e instanceof Gc||!e.type.isAnonymous||ny(e))}function QU(r){var e;let{buffer:t,nodeSet:i,maxBufferLength:n=vU,reused:s=[],minRepeatType:o=i.types.length}=r,a=Array.isArray(t)?new kU(t,t.length):t,l=i.types,c=0,h=0;function f(T,E,k,z,Q,W){let{id:_,start:w,end:A,size:j}=a,L=h,K=c;for(;j<0;)if(a.next(),j==-1){let ae=s[_];k.push(ae),z.push(w-T);return}else if(j==-3){c=_;return}else if(j==-4){h=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let re=l[_],te,oe,ve=w-T;if(A-w<=n&&(oe=v(a.pos-E,Q))){let ae=new Uint16Array(oe.size-oe.skip),N=a.pos-oe.size,Y=ae.length;for(;a.pos>N;)Y=S(oe.start,ae,Y);te=new Gc(ae,A-oe.start,i),ve=oe.start-T}else{let ae=a.pos-j;a.next();let N=[],Y=[],F=_>=o?_:-1,B=0,ee=A;for(;a.pos>ae;)F>=0&&a.id==F&&a.size>=0?(a.end<=ee-n&&(m(N,Y,w,B,a.end,ee,F,L,K),B=N.length,ee=a.end),a.next()):W>2500?g(w,ae,N,Y):f(w,ae,N,Y,F,W+1);if(F>=0&&B>0&&B<N.length&&m(N,Y,w,B,w,ee,F,L,K),N.reverse(),Y.reverse(),F>-1&&B>0){let le=p(re,K);te=sy(re,N,Y,0,N.length,0,A-w,le,le)}else te=y(re,N,Y,A-w,L-A,K)}k.push(te),z.push(ve)}function g(T,E,k,z){let Q=[],W=0,_=-1;for(;a.pos>E;){let{id:w,start:A,end:j,size:L}=a;if(L>4)a.next();else{if(_>-1&&A<_)break;_<0&&(_=j-n),Q.push(w,A,j),W++,a.next()}}if(W){let w=new Uint16Array(W*4),A=Q[Q.length-2];for(let j=Q.length-3,L=0;j>=0;j-=3)w[L++]=Q[j],w[L++]=Q[j+1]-A,w[L++]=Q[j+2]-A,w[L++]=L;k.push(new Gc(w,Q[2]-A,i)),z.push(A-T)}}function p(T,E){return(k,z,Q)=>{let W=0,_=k.length-1,w,A;if(_>=0&&(w=k[_])instanceof $l){if(!_&&w.type==T&&w.length==Q)return w;(A=w.prop(Or.lookAhead))&&(W=z[_]+w.length+A)}return y(T,k,z,Q,W,E)}}function m(T,E,k,z,Q,W,_,w,A){let j=[],L=[];for(;T.length>z;)j.push(T.pop()),L.push(E.pop()+k-Q);T.push(y(i.types[_],j,L,W-Q,w-W,A)),E.push(Q-k)}function y(T,E,k,z,Q,W,_){if(W){let w=[Or.contextHash,W];_=_?[w].concat(_):[w]}if(Q>25){let w=[Or.lookAhead,Q];_=_?[w].concat(_):[w]}return new $l(T,E,k,z,_)}function v(T,E){let k=a.fork(),z=0,Q=0,W=0,_=k.end-n,w={size:0,start:0,skip:0};e:for(let A=k.pos-T;k.pos>A;){let j=k.size;if(k.id==E&&j>=0){w.size=z,w.start=Q,w.skip=W,W+=4,z+=4,k.next();continue}let L=k.pos-j;if(j<0||L<A||k.start<_)break;let K=k.id>=o?4:0,re=k.start;for(k.next();k.pos>L;){if(k.size<0)if(k.size==-3)K+=4;else break e;else k.id>=o&&(K+=4);k.next()}Q=re,z+=j,W+=K}return(E<0||z==T)&&(w.size=z,w.start=Q,w.skip=W),w.size>4?w:void 0}function S(T,E,k){let{id:z,start:Q,end:W,size:_}=a;if(a.next(),_>=0&&z<o){let w=k;if(_>4){let A=a.pos-(_-4);for(;a.pos>A;)k=S(T,E,k)}E[--k]=w,E[--k]=W-T,E[--k]=Q-T,E[--k]=z}else _==-3?c=z:_==-4&&(h=z);return k}let C=[],P=[];for(;a.pos>0;)f(r.start||0,r.bufferStart||0,C,P,-1,0);let X=(e=r.length)!==null&&e!==void 0?e:C.length?P[0]+C[0].length:0;return new $l(l[r.topID],C.reverse(),P.reverse(),X)}const Cv=new WeakMap;function _p(r,e){if(!r.isAnonymous||e instanceof Gc||e.type!=r)return 1;let t=Cv.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=r||!(i instanceof $l)){t=1;break}t+=_p(r,i)}Cv.set(e,t)}return t}function sy(r,e,t,i,n,s,o,a,l){let c=0;for(let m=i;m<n;m++)c+=_p(r,e[m]);let h=Math.ceil(c*1.5/8),f=[],g=[];function p(m,y,v,S,C){for(let P=v;P<S;){let X=P,T=y[P],E=_p(r,m[P]);for(P++;P<S;P++){let k=_p(r,m[P]);if(E+k>=h)break;E+=k}if(P==X+1){if(E>h){let k=m[X];p(k.children,k.positions,0,k.children.length,y[X]+C);continue}f.push(m[X])}else{let k=y[P-1]+m[P-1].length-T;f.push(sy(r,m,y,X,P,T,k,null,l))}g.push(T+C-s)}}return p(e,t,i,n,0),(a||l)(f,g,o)}new Or({perNode:!0});const NU=r=>{let{state:e}=r,t=e.doc.lineAt(e.selection.main.from),i=ay(r.state,t.from);return i.line?AU(r):i.block?CU(r):!1};function oy(r,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let n=r(e,t);return n?(i(t.update(n)),!0):!1}}const AU=oy(RU,0),TU=oy(n$,0),CU=oy((r,e)=>n$(r,e,EU(e)),0);function ay(r,e){let t=r.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const Jh=50;function XU(r,{open:e,close:t},i,n){let s=r.sliceDoc(i-Jh,i),o=r.sliceDoc(n,n+Jh),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+t.length)==t)return{open:{pos:i-a,margin:a&&1},close:{pos:n+l,margin:l&&1}};let h,f;n-i<=2*Jh?h=f=r.sliceDoc(i,n):(h=r.sliceDoc(i,i+Jh),f=r.sliceDoc(n-Jh,n));let g=/^\s*/.exec(h)[0].length,p=/\s*$/.exec(f)[0].length,m=f.length-p-t.length;return h.slice(g,g+e.length)==e&&f.slice(m,m+t.length)==t?{open:{pos:i+g+e.length,margin:/\s/.test(h.charAt(g+e.length))?1:0},close:{pos:n-p-t.length,margin:/\s/.test(f.charAt(m-1))?1:0}}:null}function EU(r){let e=[];for(let t of r.selection.ranges){let i=r.doc.lineAt(t.from),n=t.to<=i.to?i:r.doc.lineAt(t.to);n.from>i.from&&n.from==t.to&&(n=t.to==i.to+1?i:r.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=n.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:n.to})}return e}function n$(r,e,t=e.selection.ranges){let i=t.map(s=>ay(e,s.from).block);if(!i.every(s=>s))return null;let n=t.map((s,o)=>XU(e,i[o],s.from,s.to));if(r!=2&&!n.every(s=>s))return{changes:e.changes(t.map((s,o)=>n[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(r!=1&&n.some(s=>s)){let s=[];for(let o=0,a;o<n.length;o++)if(a=n[o]){let l=i[o],{open:c,close:h}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:h.pos-h.margin,to:h.pos+l.close.length})}return{changes:s}}return null}function RU(r,e,t=e.selection.ranges){let i=[],n=-1;for(let{from:s,to:o}of t){let a=i.length,l=1e9,c=ay(e,s).line;if(c){for(let h=s;h<=o;){let f=e.doc.lineAt(h);if(f.from>n&&(s==o||o>f.from)){n=f.from;let g=/^\s*/.exec(f.text)[0].length,p=g==f.length,m=f.text.slice(g,g+c.length)==c?g:-1;g<f.text.length&&g<l&&(l=g),i.push({line:f,comment:m,token:c,indent:g,empty:p,single:!1})}h=f.to+1}if(l<1e9)for(let h=a;h<i.length;h++)i[h].indent<i[h].line.text.length&&(i[h].indent=l);i.length==a+1&&(i[a].single=!0)}}if(r!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:h,single:f}of i)(f||!h)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(r!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of i)if(a>=0){let c=o.from+a,h=c+l.length;o.text[h-o.from]==" "&&h++,s.push({from:c,to:h})}return{changes:s}}return null}function ch(r,e){return Xe.create(r.ranges.map(e),r.mainIndex)}function Rs(r,e){return r.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Gn({state:r,dispatch:e},t){let i=ch(r.selection,t);return i.eq(r.selection,!0)?!1:(e(Rs(r,i)),!0)}function Hg(r,e){return Xe.cursor(e?r.to:r.from)}function s$(r,e){return Gn(r,t=>t.empty?r.moveByChar(t,e):Hg(t,e))}function Ni(r){return r.textDirectionAt(r.state.selection.main.head)==Jr.LTR}const o$=r=>s$(r,!Ni(r)),a$=r=>s$(r,Ni(r));function l$(r,e){return Gn(r,t=>t.empty?r.moveByGroup(t,e):Hg(t,e))}const UU=r=>l$(r,!Ni(r)),LU=r=>l$(r,Ni(r));function zU(r,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(r.sliceDoc(e.from,e.to)))||e.firstChild}function Kg(r,e,t){let i=jn(r).resolveInner(e.head),n=t?Or.closedBy:Or.openedBy;for(let l=e.head;;){let c=t?i.childAfter(l):i.childBefore(l);if(!c)break;zU(r,c,n)?i=c:l=t?c.to:c.from}let s=i.type.prop(n),o,a;return s&&(o=t?Pc(r,i.from,1):Pc(r,i.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?i.to:i.from,Xe.cursor(a,t?-1:1)}const qU=r=>Gn(r,e=>Kg(r.state,e,!Ni(r))),IU=r=>Gn(r,e=>Kg(r.state,e,Ni(r)));function c$(r,e){return Gn(r,t=>{if(!t.empty)return Hg(t,e);let i=r.moveVertically(t,e);return i.head!=t.head?i:r.moveToLineBoundary(t,e)})}const h$=r=>c$(r,!1),u$=r=>c$(r,!0);function f$(r){let e=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,t=0,i=0,n;if(e){for(let s of r.state.facet(lt.scrollMargins)){let o=s(r);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(i=Math.max(o==null?void 0:o.bottom,i))}n=r.scrollDOM.clientHeight-t-i}else n=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(r.defaultLineHeight,n-5)}}function d$(r,e){let t=f$(r),{state:i}=r,n=ch(i.selection,o=>o.empty?r.moveVertically(o,e,t.height):Hg(o,e));if(n.eq(i.selection))return!1;let s;if(t.selfScroll){let o=r.coordsAtPos(i.selection.main.head),a=r.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,c=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<c&&(s=lt.scrollIntoView(n.main.head,{y:"start",yMargin:o.top-l}))}return r.dispatch(Rs(i,n),{effects:s}),!0}const Xv=r=>d$(r,!1),z1=r=>d$(r,!0);function Na(r,e,t){let i=r.lineBlockAt(e.head),n=r.moveToLineBoundary(e,t);if(n.head==e.head&&n.head!=(t?i.to:i.from)&&(n=r.moveToLineBoundary(e,t,!1)),!t&&n.head==i.from&&i.length){let s=/^\s*/.exec(r.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(n=Xe.cursor(i.from+s))}return n}const WU=r=>Gn(r,e=>Na(r,e,!0)),YU=r=>Gn(r,e=>Na(r,e,!1)),DU=r=>Gn(r,e=>Na(r,e,!Ni(r))),BU=r=>Gn(r,e=>Na(r,e,Ni(r))),MU=r=>Gn(r,e=>Xe.cursor(r.lineBlockAt(e.head).from,1)),FU=r=>Gn(r,e=>Xe.cursor(r.lineBlockAt(e.head).to,-1));function VU(r,e,t){let i=!1,n=ch(r.selection,s=>{let o=Pc(r,s.head,-1)||Pc(r,s.head,1)||s.head>0&&Pc(r,s.head-1,1)||s.head<r.doc.length&&Pc(r,s.head+1,-1);if(!o||!o.end)return s;i=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return t?Xe.range(s.anchor,a):Xe.cursor(a)});return i?(e(Rs(r,n)),!0):!1}const ZU=({state:r,dispatch:e})=>VU(r,e,!1);function Qn(r,e){let t=ch(r.state.selection,i=>{let n=e(i);return Xe.range(i.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)});return t.eq(r.state.selection)?!1:(r.dispatch(Rs(r.state,t)),!0)}function p$(r,e){return Qn(r,t=>r.moveByChar(t,e))}const g$=r=>p$(r,!Ni(r)),O$=r=>p$(r,Ni(r));function m$(r,e){return Qn(r,t=>r.moveByGroup(t,e))}const GU=r=>m$(r,!Ni(r)),HU=r=>m$(r,Ni(r)),KU=r=>Qn(r,e=>Kg(r.state,e,!Ni(r))),JU=r=>Qn(r,e=>Kg(r.state,e,Ni(r)));function b$(r,e){return Qn(r,t=>r.moveVertically(t,e))}const y$=r=>b$(r,!1),x$=r=>b$(r,!0);function w$(r,e){return Qn(r,t=>r.moveVertically(t,e,f$(r).height))}const Ev=r=>w$(r,!1),Rv=r=>w$(r,!0),eL=r=>Qn(r,e=>Na(r,e,!0)),tL=r=>Qn(r,e=>Na(r,e,!1)),rL=r=>Qn(r,e=>Na(r,e,!Ni(r))),iL=r=>Qn(r,e=>Na(r,e,Ni(r))),nL=r=>Qn(r,e=>Xe.cursor(r.lineBlockAt(e.head).from)),sL=r=>Qn(r,e=>Xe.cursor(r.lineBlockAt(e.head).to)),Uv=({state:r,dispatch:e})=>(e(Rs(r,{anchor:0})),!0),Lv=({state:r,dispatch:e})=>(e(Rs(r,{anchor:r.doc.length})),!0),zv=({state:r,dispatch:e})=>(e(Rs(r,{anchor:r.selection.main.anchor,head:0})),!0),qv=({state:r,dispatch:e})=>(e(Rs(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),oL=({state:r,dispatch:e})=>(e(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),aL=({state:r,dispatch:e})=>{let t=Jg(r).map(({from:i,to:n})=>Xe.range(i,Math.min(n+1,r.doc.length)));return e(r.update({selection:Xe.create(t),userEvent:"select"})),!0},lL=({state:r,dispatch:e})=>{let t=ch(r.selection,i=>{let n=jn(r),s=n.resolveStack(i.from,1);if(i.empty){let o=n.resolveStack(i.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<i.from&&a.to>=i.to||a.to>i.to&&a.from<=i.from)&&o.next)return Xe.range(a.to,a.from)}return i});return t.eq(r.selection)?!1:(e(Rs(r,t)),!0)},cL=({state:r,dispatch:e})=>{let t=r.selection,i=null;return t.ranges.length>1?i=Xe.create([t.main]):t.main.empty||(i=Xe.create([Xe.cursor(t.main.head)])),i?(e(Rs(r,i)),!0):!1};function xf(r,e){if(r.state.readOnly)return!1;let t="delete.selection",{state:i}=r,n=i.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(t="delete.backward",l=Ld(r,l,!1)):l>o&&(t="delete.forward",l=Ld(r,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=Ld(r,o,!1),a=Ld(r,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Xe.cursor(o,o<s.head?-1:1)}});return n.changes.empty?!1:(r.dispatch(i.update(n,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?lt.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Ld(r,e,t){if(r instanceof lt)for(let i of r.state.facet(lt.atomicRanges).map(n=>n(r)))i.between(e,e,(n,s)=>{n<e&&s>e&&(e=t?s:n)});return e}const v$=(r,e,t)=>xf(r,i=>{let n=i.from,{state:s}=r,o=s.doc.lineAt(n),a,l;if(t&&!e&&n>o.from&&n<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,n-o.from))){if(a[a.length-1]=="	")return n-1;let c=Yg(a,s.tabSize),h=c%hg(s)||hg(s);for(let f=0;f<h&&a[a.length-1-f]==" ";f++)n--;l=n}else l=Ui(o.text,n-o.from,e,e)+o.from,l==n&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,n-o.from))&&(l=Ui(o.text,l-o.from,!1,!1)+o.from);return l}),q1=r=>v$(r,!1,!0),S$=r=>v$(r,!0,!1),_$=(r,e)=>xf(r,t=>{let i=t.head,{state:n}=r,s=n.doc.lineAt(i),o=n.charCategorizer(i);for(let a=null;;){if(i==(e?s.to:s.from)){i==t.head&&s.number!=(e?n.doc.lines:1)&&(i+=e?1:-1);break}let l=Ui(s.text,i-s.from,e)+s.from,c=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),h=o(c);if(a!=null&&h!=a)break;(c!=" "||i!=t.head)&&(a=h),i=l}return i}),k$=r=>_$(r,!1),hL=r=>_$(r,!0),uL=r=>xf(r,e=>{let t=r.lineBlockAt(e.head).to;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),fL=r=>xf(r,e=>{let t=r.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),dL=r=>xf(r,e=>{let t=r.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),pL=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Ut.of(["",""])},range:Xe.cursor(i.from)}));return e(r.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},gL=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(i=>{if(!i.empty||i.from==0||i.from==r.doc.length)return{range:i};let n=i.from,s=r.doc.lineAt(n),o=n==s.from?n-1:Ui(s.text,n-s.from,!1)+s.from,a=n==s.to?n+1:Ui(s.text,n-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:r.doc.slice(n,a).append(r.doc.slice(o,n))},range:Xe.cursor(a)}});return t.changes.empty?!1:(e(r.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Jg(r){let e=[],t=-1;for(let i of r.selection.ranges){let n=r.doc.lineAt(i.from),s=r.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=r.doc.lineAt(i.to-1)),t>=n.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:n.from,to:s.to,ranges:[i]});t=s.number+1}return e}function $$(r,e,t){if(r.readOnly)return!1;let i=[],n=[];for(let s of Jg(r)){if(t?s.to==r.doc.length:s.from==0)continue;let o=r.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+r.lineBreak});for(let l of s.ranges)n.push(Xe.range(Math.min(r.doc.length,l.anchor+a),Math.min(r.doc.length,l.head+a)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:r.lineBreak+o.text});for(let l of s.ranges)n.push(Xe.range(l.anchor-a,l.head-a))}}return i.length?(e(r.update({changes:i,scrollIntoView:!0,selection:Xe.create(n,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const OL=({state:r,dispatch:e})=>$$(r,e,!1),mL=({state:r,dispatch:e})=>$$(r,e,!0);function P$(r,e,t){if(r.readOnly)return!1;let i=[];for(let n of Jg(r))t?i.push({from:n.from,insert:r.doc.slice(n.from,n.to)+r.lineBreak}):i.push({from:n.to,insert:r.lineBreak+r.doc.slice(n.from,n.to)});return e(r.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const bL=({state:r,dispatch:e})=>P$(r,e,!1),yL=({state:r,dispatch:e})=>P$(r,e,!0),xL=r=>{if(r.state.readOnly)return!1;let{state:e}=r,t=e.changes(Jg(e).map(({from:n,to:s})=>(n>0?n--:s<e.doc.length&&s++,{from:n,to:s}))),i=ch(e.selection,n=>{let s;if(r.lineWrapping){let o=r.lineBlockAt(n.head),a=r.coordsAtPos(n.head,n.assoc||1);a&&(s=o.bottom+r.documentTop-a.bottom+r.defaultLineHeight/2)}return r.moveVertically(n,!0,s)}).map(t);return r.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function wL(r,e){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=jn(r).resolveInner(e),i=t.childBefore(e),n=t.childAfter(e),s;return i&&n&&i.to<=e&&n.from>=e&&(s=i.type.prop(Or.closedBy))&&s.indexOf(n.name)>-1&&r.doc.lineAt(i.to).from==r.doc.lineAt(n.from).from&&!/\S/.test(r.sliceDoc(i.to,n.from))?{from:i.to,to:n.from}:null}const Iv=j$(!1),vL=j$(!0);function j$(r){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(n=>{let{from:s,to:o}=n,a=e.doc.lineAt(s),l=!r&&s==o&&wL(e,s);r&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new Gg(e,{simulateBreak:s,simulateDoubleBreak:!!l}),h=B4(c,s);for(h==null&&(h=Yg(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let f=["",ug(e,h)];return l&&f.push(ug(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:Ut.of(f)},range:Xe.cursor(s+1+f[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function ly(r,e){let t=-1;return r.changeByRange(i=>{let n=[];for(let o=i.from;o<=i.to;){let a=r.doc.lineAt(o);a.number>t&&(i.empty||i.to>a.from)&&(e(a,n,i),t=a.number),o=a.to+1}let s=r.changes(n);return{changes:n,range:Xe.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const SL=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=Object.create(null),i=new Gg(r,{overrideIndentation:s=>{let o=t[s];return o==null?-1:o}}),n=ly(r,(s,o,a)=>{let l=B4(i,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],h=ug(r,l);(c!=h||a.from<s.from+c.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:h}))});return n.changes.empty||e(r.update(n,{userEvent:"indent"})),!0},_L=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(ly(r,(t,i)=>{i.push({from:t.from,insert:r.facet(Zg)})}),{userEvent:"input.indent"})),!0),kL=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(ly(r,(t,i)=>{let n=/^\s*/.exec(t.text)[0];if(!n)return;let s=Yg(n,r.tabSize),o=0,a=ug(r,Math.max(0,s-hg(r)));for(;o<n.length&&o<a.length&&n.charCodeAt(o)==a.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+n.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),$L=r=>(r.setTabFocusMode(),!0),PL=[{key:"Ctrl-b",run:o$,shift:g$,preventDefault:!0},{key:"Ctrl-f",run:a$,shift:O$},{key:"Ctrl-p",run:h$,shift:y$},{key:"Ctrl-n",run:u$,shift:x$},{key:"Ctrl-a",run:MU,shift:nL},{key:"Ctrl-e",run:FU,shift:sL},{key:"Ctrl-d",run:S$},{key:"Ctrl-h",run:q1},{key:"Ctrl-k",run:uL},{key:"Ctrl-Alt-h",run:k$},{key:"Ctrl-o",run:pL},{key:"Ctrl-t",run:gL},{key:"Ctrl-v",run:z1}],jL=[{key:"ArrowLeft",run:o$,shift:g$,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:UU,shift:GU,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:DU,shift:rL,preventDefault:!0},{key:"ArrowRight",run:a$,shift:O$,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:LU,shift:HU,preventDefault:!0},{mac:"Cmd-ArrowRight",run:BU,shift:iL,preventDefault:!0},{key:"ArrowUp",run:h$,shift:y$,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Uv,shift:zv},{mac:"Ctrl-ArrowUp",run:Xv,shift:Ev},{key:"ArrowDown",run:u$,shift:x$,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Lv,shift:qv},{mac:"Ctrl-ArrowDown",run:z1,shift:Rv},{key:"PageUp",run:Xv,shift:Ev},{key:"PageDown",run:z1,shift:Rv},{key:"Home",run:YU,shift:tL,preventDefault:!0},{key:"Mod-Home",run:Uv,shift:zv},{key:"End",run:WU,shift:eL,preventDefault:!0},{key:"Mod-End",run:Lv,shift:qv},{key:"Enter",run:Iv,shift:Iv},{key:"Mod-a",run:oL},{key:"Backspace",run:q1,shift:q1},{key:"Delete",run:S$},{key:"Mod-Backspace",mac:"Alt-Backspace",run:k$},{key:"Mod-Delete",mac:"Alt-Delete",run:hL},{mac:"Mod-Backspace",run:fL},{mac:"Mod-Delete",run:dL}].concat(PL.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),QL=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:qU,shift:KU},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:IU,shift:JU},{key:"Alt-ArrowUp",run:OL},{key:"Shift-Alt-ArrowUp",run:bL},{key:"Alt-ArrowDown",run:mL},{key:"Shift-Alt-ArrowDown",run:yL},{key:"Escape",run:cL},{key:"Mod-Enter",run:vL},{key:"Alt-l",mac:"Ctrl-l",run:aL},{key:"Mod-i",run:lL,preventDefault:!0},{key:"Mod-[",run:kL},{key:"Mod-]",run:_L},{key:"Mod-Alt-\\",run:SL},{key:"Shift-Mod-k",run:xL},{key:"Shift-Mod-\\",run:ZU},{key:"Mod-/",run:NU},{key:"Alt-A",run:TU},{key:"Ctrl-m",mac:"Shift-Alt-m",run:$L}].concat(jL),Q$=1024;let NL=0;class B0{constructor(e,t){this.from=e,this.to=t}}let mr=class{constructor(e={}){this.id=NL++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=vo.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}};mr.closedBy=new mr({deserialize:r=>r.split(" ")});mr.openedBy=new mr({deserialize:r=>r.split(" ")});mr.group=new mr({deserialize:r=>r.split(" ")});mr.isolate=new mr({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});mr.contextHash=new mr({perNode:!0});mr.lookAhead=new mr({perNode:!0});mr.mounted=new mr({perNode:!0});let dg=class{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[mr.mounted.id]}};const AL=Object.create(null);let vo=class N${constructor(e,t,i,n=0){this.name=e,this.props=t,this.id=i,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):AL,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new N$(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(mr.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let n of i.split(" "))t[n]=e[i];return i=>{for(let n=i.prop(mr.group),s=-1;s<(n?n.length:0);s++){let o=t[s<0?i.name:n[s]];if(o)return o}}}};vo.none=new vo("",Object.create(null),0,8);class cy{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let n=null;for(let s of e){let o=s(i);o&&(n||(n=Object.assign({},i.props)),n[o[0].id]=o[1])}t.push(n?new vo(i.name,n,i.id,i.flags):i)}return new cy(t)}}const zd=new WeakMap,Wv=new WeakMap;var di;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(di||(di={}));let Wn=class I1{constructor(e,t,i,n,s){if(this.type=e,this.children=t,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=dg.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let n=i.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new D1(this.topNode,e)}cursorAt(e,t=0,i=0){let n=zd.get(this)||this.topNode,s=new D1(n);return s.moveTo(e,t),zd.set(this,s._tree),s}get topNode(){return new Sa(this,0,0,null)}resolve(e,t=0){let i=Hu(zd.get(this)||this.topNode,e,t,!1);return zd.set(this,i),i}resolveInner(e,t=0){let i=Hu(Wv.get(this)||this.topNode,e,t,!0);return Wv.set(this,i),i}resolveStack(e,t=0){return EL(this,e,t)}iterate(e){let{enter:t,leave:i,from:n=0,to:s=this.length}=e,o=e.mode||0,a=(o&di.IncludeAnonymous)>0;for(let l=this.cursor(o|di.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=n&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:uy(vo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,n)=>new I1(this.type,t,i,n,this.propValues),e.makeTree||((t,i,n)=>new I1(vo.none,t,i,n)))}static build(e){return RL(e)}};Wn.empty=new Wn(vo.none,[],[],0);let TL=class A${constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new A$(this.buffer,this.index)}},Hc=class T${constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return vo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,n,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(C$(s,n,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i){let n=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=n[a++],s[l++]=n[a++]-i;let c=s[l++]=n[a++]-i;s[l++]=n[a++]-e,o=Math.max(o,c)}return new T$(s,o,this.set)}};function C$(r,e,t,i){switch(r){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Hu(r,e,t,i){for(var n;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let o=!i&&r instanceof Sa&&r.index<0?null:r.parent;if(!o)return r;r=o}let s=i?0:di.IgnoreOverlays;if(i)for(let o=r,a=o.parent;a;o=a,a=o.parent)o instanceof Sa&&o.index<0&&((n=a.enter(e,t,s))===null||n===void 0?void 0:n.from)!=o.from&&(r=a);for(;;){let o=r.enter(e,t,s);if(!o)return r;r=o}}let X$=class{cursor(e=0){return new D1(this,e)}getChild(e,t=null,i=null){let n=Yv(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return Yv(this,e,t,i)}resolve(e,t=0){return Hu(this,e,t,!1)}resolveInner(e,t=0){return Hu(this,e,t,!0)}matchContext(e){return W1(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}get node(){return this}get next(){return this.parent}},Sa=class kp extends X${constructor(e,t,i,n){super(),this._tree=e,this.from=t,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,n,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let h=a[e],f=l[e]+o.from;if(C$(n,i,f,f+h.length)){if(h instanceof Hc){if(s&di.ExcludeBuffers)continue;let g=h.findChild(0,h.buffer.length,t,i-f,n);if(g>-1)return new Y1(new CL(o,h,e,f),null,g)}else if(s&di.IncludeAnonymous||!h.type.isAnonymous||hy(h)){let g;if(!(s&di.IgnoreMounts)&&(g=dg.get(h))&&!g.overlay)return new kp(g.tree,f,e,o);let p=new kp(h,f,e,o);return s&di.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(t<0?h.children.length-1:0,t,i,n)}}}if(s&di.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let n;if(!(i&di.IgnoreOverlays)&&(n=dg.get(this._tree))&&n.overlay){let s=e-this.from;for(let{from:o,to:a}of n.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new kp(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function Yv(r,e,t,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=n.type.is(t),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function W1(r,e,t=e.length-1){for(let i=r;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}let CL=class{constructor(e,t,i,n){this.parent=e,this.buffer=t,this.index=i,this.start=n}},Y1=class du extends X${get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new du(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&di.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new du(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new du(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new du(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let o=i.buffer[this.index+1];e.push(i.slice(n,s,o)),t.push(0)}return new Wn(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function E$(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let o=r[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let i=t instanceof Sa&&t.index<0?null:t.parent,n=r.slice();return i?n[e]=i:n.splice(e,1),new XL(n,t)}let XL=class{constructor(e,t){this.heads=e,this.node=t}get next(){return E$(this.heads)}};function EL(r,e,t){let i=r.resolveInner(e,t),n=null;for(let s=i instanceof Sa?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(n||(n=[i])).push(o.resolve(e,t)),s=o}else{let o=dg.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Sa(o.tree,o.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(Hu(a,e,t,!1))}}return n?E$(n):i}let D1=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Sa)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return e?e instanceof Sa?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&di.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&di.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&di.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(t.findChild(n,this.index,-1,0,4))}else{let n=t.buffer[this.index+3];if(n<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=n)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&di.IncludeAnonymous||a instanceof Hc||!a.type.isAnonymous||hy(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,i=s+1;break e}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)t=new Y1(this.buffer,t,this.stack[n]);return this.bufferNode=new Y1(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&t&&t(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return W1(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return W1(this._tree,e,n);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}};function hy(r){return r.children.some(e=>e instanceof Hc||!e.type.isAnonymous||hy(e))}function RL(r){var e;let{buffer:t,nodeSet:i,maxBufferLength:n=Q$,reused:s=[],minRepeatType:o=i.types.length}=r,a=Array.isArray(t)?new TL(t,t.length):t,l=i.types,c=0,h=0;function f(T,E,k,z,Q,W){let{id:_,start:w,end:A,size:j}=a,L=h,K=c;for(;j<0;)if(a.next(),j==-1){let ae=s[_];k.push(ae),z.push(w-T);return}else if(j==-3){c=_;return}else if(j==-4){h=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let re=l[_],te,oe,ve=w-T;if(A-w<=n&&(oe=v(a.pos-E,Q))){let ae=new Uint16Array(oe.size-oe.skip),N=a.pos-oe.size,Y=ae.length;for(;a.pos>N;)Y=S(oe.start,ae,Y);te=new Hc(ae,A-oe.start,i),ve=oe.start-T}else{let ae=a.pos-j;a.next();let N=[],Y=[],F=_>=o?_:-1,B=0,ee=A;for(;a.pos>ae;)F>=0&&a.id==F&&a.size>=0?(a.end<=ee-n&&(m(N,Y,w,B,a.end,ee,F,L,K),B=N.length,ee=a.end),a.next()):W>2500?g(w,ae,N,Y):f(w,ae,N,Y,F,W+1);if(F>=0&&B>0&&B<N.length&&m(N,Y,w,B,w,ee,F,L,K),N.reverse(),Y.reverse(),F>-1&&B>0){let le=p(re,K);te=uy(re,N,Y,0,N.length,0,A-w,le,le)}else te=y(re,N,Y,A-w,L-A,K)}k.push(te),z.push(ve)}function g(T,E,k,z){let Q=[],W=0,_=-1;for(;a.pos>E;){let{id:w,start:A,end:j,size:L}=a;if(L>4)a.next();else{if(_>-1&&A<_)break;_<0&&(_=j-n),Q.push(w,A,j),W++,a.next()}}if(W){let w=new Uint16Array(W*4),A=Q[Q.length-2];for(let j=Q.length-3,L=0;j>=0;j-=3)w[L++]=Q[j],w[L++]=Q[j+1]-A,w[L++]=Q[j+2]-A,w[L++]=L;k.push(new Hc(w,Q[2]-A,i)),z.push(A-T)}}function p(T,E){return(k,z,Q)=>{let W=0,_=k.length-1,w,A;if(_>=0&&(w=k[_])instanceof Wn){if(!_&&w.type==T&&w.length==Q)return w;(A=w.prop(mr.lookAhead))&&(W=z[_]+w.length+A)}return y(T,k,z,Q,W,E)}}function m(T,E,k,z,Q,W,_,w,A){let j=[],L=[];for(;T.length>z;)j.push(T.pop()),L.push(E.pop()+k-Q);T.push(y(i.types[_],j,L,W-Q,w-W,A)),E.push(Q-k)}function y(T,E,k,z,Q,W,_){if(W){let w=[mr.contextHash,W];_=_?[w].concat(_):[w]}if(Q>25){let w=[mr.lookAhead,Q];_=_?[w].concat(_):[w]}return new Wn(T,E,k,z,_)}function v(T,E){let k=a.fork(),z=0,Q=0,W=0,_=k.end-n,w={size:0,start:0,skip:0};e:for(let A=k.pos-T;k.pos>A;){let j=k.size;if(k.id==E&&j>=0){w.size=z,w.start=Q,w.skip=W,W+=4,z+=4,k.next();continue}let L=k.pos-j;if(j<0||L<A||k.start<_)break;let K=k.id>=o?4:0,re=k.start;for(k.next();k.pos>L;){if(k.size<0)if(k.size==-3)K+=4;else break e;else k.id>=o&&(K+=4);k.next()}Q=re,z+=j,W+=K}return(E<0||z==T)&&(w.size=z,w.start=Q,w.skip=W),w.size>4?w:void 0}function S(T,E,k){let{id:z,start:Q,end:W,size:_}=a;if(a.next(),_>=0&&z<o){let w=k;if(_>4){let A=a.pos-(_-4);for(;a.pos>A;)k=S(T,E,k)}E[--k]=w,E[--k]=W-T,E[--k]=Q-T,E[--k]=z}else _==-3?c=z:_==-4&&(h=z);return k}let C=[],P=[];for(;a.pos>0;)f(r.start||0,r.bufferStart||0,C,P,-1,0);let X=(e=r.length)!==null&&e!==void 0?e:C.length?P[0]+C[0].length:0;return new Wn(l[r.topID],C.reverse(),P.reverse(),X)}const Dv=new WeakMap;function $p(r,e){if(!r.isAnonymous||e instanceof Hc||e.type!=r)return 1;let t=Dv.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=r||!(i instanceof Wn)){t=1;break}t+=$p(r,i)}Dv.set(e,t)}return t}function uy(r,e,t,i,n,s,o,a,l){let c=0;for(let m=i;m<n;m++)c+=$p(r,e[m]);let h=Math.ceil(c*1.5/8),f=[],g=[];function p(m,y,v,S,C){for(let P=v;P<S;){let X=P,T=y[P],E=$p(r,m[P]);for(P++;P<S;P++){let k=$p(r,m[P]);if(E+k>=h)break;E+=k}if(P==X+1){if(E>h){let k=m[X];p(k.children,k.positions,0,k.children.length,y[X]+C);continue}f.push(m[X])}else{let k=y[P-1]+m[P-1].length-T;f.push(uy(r,m,y,X,P,T,k,null,l))}g.push(T+C-s)}}return p(e,t,i,n,0),(a||l)(f,g,o)}class UL{startParse(e,t,i){return typeof e=="string"&&(e=new LL(e)),i=i?i.length?i.map(n=>new B0(n.from,n.to)):[new B0(0,0)]:[new B0(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let n=this.startParse(e,t,i);for(;;){let s=n.advance();if(s)return s}}}class LL{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new mr({perNode:!0});class pg{constructor(e,t,i,n,s,o,a,l,c,h=0,f){this.p=e,this.stack=t,this.state=i,this.reducePos=n,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=h,this.parent=f}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let n=e.parser.context;return new pg(e,[],t,i,i,0,[],0,n?new Bv(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,n=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(n);if(a&&(this.score+=a),i==0){this.pushState(s.getGoto(this.state,n,!0),this.reducePos),n<s.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(n,this.reducePos);return}let l=this.stack.length-(i-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,h=this.reducePos-c;h>=2e3&&!(!((t=this.p.parser.nodeSet.types[n])===null||t===void 0)&&t.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=h));let f=l?this.stack[l-1]:0,g=this.bufferBase+this.buffer.length-f;if(n<s.minRepeatTerm||e&131072){let p=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,c,p,g+4,!0)}if(e&262144)this.state=this.stack[l];else{let p=this.stack[l-3];this.state=s.getGoto(p,n,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(n,c)}storeNode(e,t,i,n=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==i)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,n);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>i;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,n>4&&(n-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=n}}shift(e,t,i,n){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=n,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,n,4);else{let s=e,{parser:o}=this.p;(n>this.pos||t<=o.maxNode)&&(this.pos=n,o.stateFlag(s,1)||(this.reducePos=n)),this.pushState(s,i),this.shiftContext(t,i),t<=o.maxNode&&this.buffer.push(t,i,n,4)}}apply(e,t,i,n){e&65536?this.reduce(e):this.shift(e,t,i,n)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(t,n),this.buffer.push(i,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),n=e.bufferBase+t;for(;e&&n==e.bufferBase;)e=e.parent;return new pg(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new zL(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&n.push(t[s],o);if(this.stack.length<120)for(let s=0;n.length<8&&s<t.length;s+=2){let o=t[s+1];n.some((a,l)=>l&1&&a==o)||n.push(t[s],o)}t=n}let i=[];for(let n=0;n<t.length&&i.length<4;n+=2){let s=t[n+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[n],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let i=t>>19,n=t&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],n,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(n,s)=>{if(!t.includes(n))return t.push(n),e.allActions(n,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=i(o,s+1);if(a!=null)return a}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Bv(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Bv{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class zL{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let n=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=n}}class gg{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new gg(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new gg(this.stack,this.pos,this.index)}}function qd(r,e=Uint16Array){if(typeof r!="string")return r;let t=null;for(let i=0,n=0;i<r.length;){let s=0;for(;;){let o=r.charCodeAt(i++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[n++]=s:t=new e(s)}return t}class Pp{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Mv=new Pp;class qL{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Mv,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,n=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!n)return null;let o=this.ranges[--n];s-=i.from-o.to,i=o}for(;t<0?s>i.to:s>=i.to;){if(n==this.ranges.length-1)return null;let o=this.ranges[++n];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,n;if(t>=0&&t<this.chunk.length)i=this.pos+e,n=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),n=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),n}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Mv,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let n of this.ranges){if(n.from>=t)break;n.to>e&&(i+=this.input.read(Math.max(n.from,e),Math.min(n.to,t)))}return i}}class Uc{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;IL(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}Uc.prototype.contextual=Uc.prototype.fallback=Uc.prototype.extend=!1;Uc.prototype.fallback=Uc.prototype.extend=!1;class hh{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function IL(r,e,t,i,n,s){let o=0,a=1<<i,{dialect:l}=t.p.parser;e:for(;a&r[o];){let c=r[o+1];for(let p=o+3;p<c;p+=2)if((r[p+1]&a)>0){let m=r[p];if(l.allows(m)&&(e.token.value==-1||e.token.value==m||WL(m,e.token.value,n,s))){e.acceptToken(m);break}}let h=e.next,f=0,g=r[o+2];if(e.next<0&&g>f&&r[c+g*3-3]==65535){o=r[c+g*3-1];continue e}for(;f<g;){let p=f+g>>1,m=c+p+(p<<1),y=r[m],v=r[m+1]||65536;if(h<y)g=p;else if(h>=v)f=p+1;else{o=r[m+2],e.advance();continue e}}break}}function Fv(r,e,t){for(let i=e,n;(n=r[i])!=65535;i++)if(n==t)return i-e;return-1}function WL(r,e,t,i){let n=Fv(t,i,e);return n<0||Fv(t,i,r)<n}const nn=typeof process!="undefined"&&process.env&&/\bparse\b/.test({}.LOG);let M0=null;function Vv(r,e,t){let i=r.cursor(di.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(r.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:r.length}}class YL{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Vv(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Vv(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],n=this.index[t];if(n==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[n],o=this.start[t]+i.positions[n];if(o>e)return this.nextStart=o,null;if(s instanceof Wn){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(mr.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class DL{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Pp)}getActions(e){let t=0,i=null,{parser:n}=e.p,{tokenizers:s}=n,o=n.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let h=s[c],f=this.tokens[c];if(!(i&&!h.fallback)&&((h.contextual||f.start!=e.pos||f.mask!=o||f.context!=a)&&(this.updateCachedToken(f,h,e),f.mask=o,f.context=a),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let g=t;if(f.extended>-1&&(t=this.addActions(e,f.extended,f.end,t)),t=this.addActions(e,f.value,f.end,t),!h.extend&&(i=f,t>g))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new Pp,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Pp,{pos:i,p:n}=e;return t.start=i,t.end=Math.min(i+1,n.stream.end),t.value=i==n.stream.end?n.parser.eofTerm:0,t}updateCachedToken(e,t,i){let n=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(n,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),i);if(a>=0&&i.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(n+1)}putAction(e,t,i,n){for(let s=0;s<n;s+=3)if(this.actions[s]==e)return n;return this.actions[n++]=e,this.actions[n++]=t,this.actions[n++]=i,n}addActions(e,t,i,n){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=fo(a,c+2);else{n==0&&a[c+1]==2&&(n=this.putAction(fo(a,c+2),t,i,n));break}a[c]==t&&(n=this.putAction(fo(a,c+1),t,i,n))}return n}}class BL{constructor(e,t,i,n){this.parser=e,this.input=t,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new qL(t,n),this.tokens=new DL(e,this.stream),this.topTerm=e.top[1];let{from:s}=n[0];this.stacks=[pg.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new YL(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],n,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)i.push(a);else{if(this.advanceStack(a,i,e))continue;{n||(n=[],s=[]),n.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!i.length){let o=n&&VL(n);if(o)return nn&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw nn&&n&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&n){let o=this.stoppedAt!=null&&n[0].pos>this.stoppedAt?n[0]:this.runRecovery(n,s,i);if(o)return nn&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let c=i[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)i.splice(l--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let n=e.pos,{parser:s}=this,o=nn?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,h=c?e.curContext.hash:0;for(let f=this.fragments.nodeAt(n);f;){let g=this.parser.nodeSet.types[f.type.id]==f.type?s.getGoto(e.state,f.type.id):-1;if(g>-1&&f.length&&(!c||(f.prop(mr.contextHash)||0)==h))return e.useNode(f,g),nn&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(f.type.id)})`),!0;if(!(f instanceof Wn)||f.children.length==0||f.positions[0]>0)break;let p=f.children[0];if(p instanceof Wn&&f.positions[0]==0)f=p;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),nn&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let h=l[c++],f=l[c++],g=l[c++],p=c==l.length||!i,m=p?e:e.split(),y=this.tokens.mainToken;if(m.apply(h,f,y?y.start:m.pos,g),nn&&console.log(o+this.stackID(m)+` (via ${h&65536?`reduce of ${s.getName(h&65535)}`:"shift"} for ${s.getName(f)} @ ${n}${m==e?"":", split"})`),p)return!0;m.pos>n?t.push(m):i.push(m)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return Zv(e,t),!0}}runRecovery(e,t,i){let n=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],c=t[(o<<1)+1],h=nn?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),nn&&console.log(h+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let f=a.split(),g=h;for(let p=0;f.forceReduce()&&p<10&&(nn&&console.log(g+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,i));p++)nn&&(g=this.stackID(f)+" -> ");for(let p of a.recoverByInsert(l))nn&&console.log(h+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,i);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),nn&&console.log(h+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),Zv(a,i)):(!n||n.score<a.score)&&(n=a)}return n}stackToTree(e){return e.close(),Wn.build({buffer:gg.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(M0||(M0=new WeakMap)).get(e);return t||M0.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Zv(r,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==r.pos&&i.sameState(r)){e[t].score<r.score&&(e[t]=r);return}}e.push(r)}class ML{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const F0=r=>r;class FL{constructor(e){this.start=e.start,this.shift=e.shift||F0,this.reduce=e.reduce||F0,this.reuse=e.reuse||F0,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Ku extends UL{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),n=[];for(let a=0;a<t.length;a++)n.push([]);function s(a,l,c){n[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=mr[l]);for(let c=1;c<a.length;){let h=a[c++];if(h>=0)s(h,l,a[c++]);else{let f=a[c+-h];for(let g=-h;g>0;g--)s(a[c++],l,f);c++}}}this.nodeSet=new cy(t.map((a,l)=>vo.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:n[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Q$;let o=qd(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(Gv),this.states=qd(e.states,Uint32Array),this.data=qd(e.stateData),this.goto=qd(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Uc(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let n=new BL(this,e,t,i);for(let s of this.wrappers)n=s(n,e,t,i);return n}getGoto(e,t,i=!1){let n=this.goto;if(t>=n[0])return-1;for(let s=n[t+1];;){let o=n[s++],a=o&1,l=n[s++];if(a&&i)return l;for(let c=s+(o>>1);s<c;s++)if(n[s]==e)return l;if(a)return-1}}hasAction(e,t){let i=this.data;for(let n=0;n<2;n++)for(let s=this.stateSlot(e,n?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=fo(i,s+2)];else{if(i[s+1]==2)return fo(i,s+2);break}if(o==t||o==0)return fo(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),n=i?t(i):void 0;for(let s=this.stateSlot(e,1);n==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=fo(this.data,s+2);else break;n=t(fo(this.data,s+1))}return n}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=fo(this.data,i+2);else break;if(!(this.data[i+2]&1)){let n=this.data[i+1];t.some((s,o)=>o&1&&s==n)||t.push(this.data[i],n)}}return t}configure(e){let t=Object.assign(Object.create(Ku.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let n=e.tokenizers.find(s=>s.from==i);return n?n.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,n)=>{let s=e.specializers.find(a=>a.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[n]=Gv(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(i[o]=!0)}let n=null;for(let s=0;s<t.length;s++)if(!i[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(n||(n=new Uint8Array(this.maxTerm+1)))[a]=1;return new ML(e,i,n)}static deserialize(e){return new Ku(e)}}function fo(r,e){return r[e]|r[e+1]<<16}function VL(r){let e=null;for(let t of r){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function Gv(r){if(r.external){let e=r.extend?1:0;return(t,i)=>r.external(t,i)<<1|e}return r.get}const ZL=1024;let GL=0,$r=class{constructor(e={}){this.id=GL++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Il.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}};$r.closedBy=new $r({deserialize:r=>r.split(" ")});$r.openedBy=new $r({deserialize:r=>r.split(" ")});$r.group=new $r({deserialize:r=>r.split(" ")});$r.isolate=new $r({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});$r.contextHash=new $r({perNode:!0});$r.lookAhead=new $r({perNode:!0});$r.mounted=new $r({perNode:!0});let Og=class{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[$r.mounted.id]}};const HL=Object.create(null);let Il=class R${constructor(e,t,i,n=0){this.name=e,this.props=t,this.id=i,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):HL,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new R$(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop($r.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let n of i.split(" "))t[n]=e[i];return i=>{for(let n=i.prop($r.group),s=-1;s<(n?n.length:0);s++){let o=t[s<0?i.name:n[s]];if(o)return o}}}};Il.none=new Il("",Object.create(null),0,8);const Id=new WeakMap,Hv=new WeakMap;var ki;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(ki||(ki={}));let Pl=class B1{constructor(e,t,i,n,s){if(this.type=e,this.children=t,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Og.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let n=i.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new V1(this.topNode,e)}cursorAt(e,t=0,i=0){let n=Id.get(this)||this.topNode,s=new V1(n);return s.moveTo(e,t),Id.set(this,s._tree),s}get topNode(){return new _a(this,0,0,null)}resolve(e,t=0){let i=Ju(Id.get(this)||this.topNode,e,t,!1);return Id.set(this,i),i}resolveInner(e,t=0){let i=Ju(Hv.get(this)||this.topNode,e,t,!0);return Hv.set(this,i),i}resolveStack(e,t=0){return tz(this,e,t)}iterate(e){let{enter:t,leave:i,from:n=0,to:s=this.length}=e,o=e.mode||0,a=(o&ki.IncludeAnonymous)>0;for(let l=this.cursor(o|ki.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=n&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:dy(Il.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,n)=>new B1(this.type,t,i,n,this.propValues),e.makeTree||((t,i,n)=>new B1(Il.none,t,i,n)))}static build(e){return rz(e)}};Pl.empty=new Pl(Il.none,[],[],0);let KL=class U${constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new U$(this.buffer,this.index)}},Kc=class L${constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Il.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,n,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(z$(s,n,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i){let n=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=n[a++],s[l++]=n[a++]-i;let c=s[l++]=n[a++]-i;s[l++]=n[a++]-e,o=Math.max(o,c)}return new L$(s,o,this.set)}};function z$(r,e,t,i){switch(r){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Ju(r,e,t,i){for(var n;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let o=!i&&r instanceof _a&&r.index<0?null:r.parent;if(!o)return r;r=o}let s=i?0:ki.IgnoreOverlays;if(i)for(let o=r,a=o.parent;a;o=a,a=o.parent)o instanceof _a&&o.index<0&&((n=a.enter(e,t,s))===null||n===void 0?void 0:n.from)!=o.from&&(r=a);for(;;){let o=r.enter(e,t,s);if(!o)return r;r=o}}let q$=class{cursor(e=0){return new V1(this,e)}getChild(e,t=null,i=null){let n=Kv(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return Kv(this,e,t,i)}resolve(e,t=0){return Ju(this,e,t,!1)}resolveInner(e,t=0){return Ju(this,e,t,!0)}matchContext(e){return M1(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}get node(){return this}get next(){return this.parent}},_a=class jp extends q${constructor(e,t,i,n){super(),this._tree=e,this.from=t,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,n,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let h=a[e],f=l[e]+o.from;if(z$(n,i,f,f+h.length)){if(h instanceof Kc){if(s&ki.ExcludeBuffers)continue;let g=h.findChild(0,h.buffer.length,t,i-f,n);if(g>-1)return new F1(new JL(o,h,e,f),null,g)}else if(s&ki.IncludeAnonymous||!h.type.isAnonymous||fy(h)){let g;if(!(s&ki.IgnoreMounts)&&(g=Og.get(h))&&!g.overlay)return new jp(g.tree,f,e,o);let p=new jp(h,f,e,o);return s&ki.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(t<0?h.children.length-1:0,t,i,n)}}}if(s&ki.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let n;if(!(i&ki.IgnoreOverlays)&&(n=Og.get(this._tree))&&n.overlay){let s=e-this.from;for(let{from:o,to:a}of n.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new jp(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function Kv(r,e,t,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=n.type.is(t),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function M1(r,e,t=e.length-1){for(let i=r;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}let JL=class{constructor(e,t,i,n){this.parent=e,this.buffer=t,this.index=i,this.start=n}},F1=class pu extends q${get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new pu(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&ki.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new pu(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new pu(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new pu(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let o=i.buffer[this.index+1];e.push(i.slice(n,s,o)),t.push(0)}return new Pl(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function I$(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let o=r[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let i=t instanceof _a&&t.index<0?null:t.parent,n=r.slice();return i?n[e]=i:n.splice(e,1),new ez(n,t)}let ez=class{constructor(e,t){this.heads=e,this.node=t}get next(){return I$(this.heads)}};function tz(r,e,t){let i=r.resolveInner(e,t),n=null;for(let s=i instanceof _a?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(n||(n=[i])).push(o.resolve(e,t)),s=o}else{let o=Og.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new _a(o.tree,o.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(Ju(a,e,t,!1))}}return n?I$(n):i}let V1=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof _a)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return e?e instanceof _a?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&ki.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ki.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ki.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(t.findChild(n,this.index,-1,0,4))}else{let n=t.buffer[this.index+3];if(n<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=n)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&ki.IncludeAnonymous||a instanceof Kc||!a.type.isAnonymous||fy(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,i=s+1;break e}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)t=new F1(this.buffer,t,this.stack[n]);return this.bufferNode=new F1(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&t&&t(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return M1(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return M1(this._tree,e,n);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}};function fy(r){return r.children.some(e=>e instanceof Kc||!e.type.isAnonymous||fy(e))}function rz(r){var e;let{buffer:t,nodeSet:i,maxBufferLength:n=ZL,reused:s=[],minRepeatType:o=i.types.length}=r,a=Array.isArray(t)?new KL(t,t.length):t,l=i.types,c=0,h=0;function f(T,E,k,z,Q,W){let{id:_,start:w,end:A,size:j}=a,L=h,K=c;for(;j<0;)if(a.next(),j==-1){let ae=s[_];k.push(ae),z.push(w-T);return}else if(j==-3){c=_;return}else if(j==-4){h=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let re=l[_],te,oe,ve=w-T;if(A-w<=n&&(oe=v(a.pos-E,Q))){let ae=new Uint16Array(oe.size-oe.skip),N=a.pos-oe.size,Y=ae.length;for(;a.pos>N;)Y=S(oe.start,ae,Y);te=new Kc(ae,A-oe.start,i),ve=oe.start-T}else{let ae=a.pos-j;a.next();let N=[],Y=[],F=_>=o?_:-1,B=0,ee=A;for(;a.pos>ae;)F>=0&&a.id==F&&a.size>=0?(a.end<=ee-n&&(m(N,Y,w,B,a.end,ee,F,L,K),B=N.length,ee=a.end),a.next()):W>2500?g(w,ae,N,Y):f(w,ae,N,Y,F,W+1);if(F>=0&&B>0&&B<N.length&&m(N,Y,w,B,w,ee,F,L,K),N.reverse(),Y.reverse(),F>-1&&B>0){let le=p(re,K);te=dy(re,N,Y,0,N.length,0,A-w,le,le)}else te=y(re,N,Y,A-w,L-A,K)}k.push(te),z.push(ve)}function g(T,E,k,z){let Q=[],W=0,_=-1;for(;a.pos>E;){let{id:w,start:A,end:j,size:L}=a;if(L>4)a.next();else{if(_>-1&&A<_)break;_<0&&(_=j-n),Q.push(w,A,j),W++,a.next()}}if(W){let w=new Uint16Array(W*4),A=Q[Q.length-2];for(let j=Q.length-3,L=0;j>=0;j-=3)w[L++]=Q[j],w[L++]=Q[j+1]-A,w[L++]=Q[j+2]-A,w[L++]=L;k.push(new Kc(w,Q[2]-A,i)),z.push(A-T)}}function p(T,E){return(k,z,Q)=>{let W=0,_=k.length-1,w,A;if(_>=0&&(w=k[_])instanceof Pl){if(!_&&w.type==T&&w.length==Q)return w;(A=w.prop($r.lookAhead))&&(W=z[_]+w.length+A)}return y(T,k,z,Q,W,E)}}function m(T,E,k,z,Q,W,_,w,A){let j=[],L=[];for(;T.length>z;)j.push(T.pop()),L.push(E.pop()+k-Q);T.push(y(i.types[_],j,L,W-Q,w-W,A)),E.push(Q-k)}function y(T,E,k,z,Q,W,_){if(W){let w=[$r.contextHash,W];_=_?[w].concat(_):[w]}if(Q>25){let w=[$r.lookAhead,Q];_=_?[w].concat(_):[w]}return new Pl(T,E,k,z,_)}function v(T,E){let k=a.fork(),z=0,Q=0,W=0,_=k.end-n,w={size:0,start:0,skip:0};e:for(let A=k.pos-T;k.pos>A;){let j=k.size;if(k.id==E&&j>=0){w.size=z,w.start=Q,w.skip=W,W+=4,z+=4,k.next();continue}let L=k.pos-j;if(j<0||L<A||k.start<_)break;let K=k.id>=o?4:0,re=k.start;for(k.next();k.pos>L;){if(k.size<0)if(k.size==-3)K+=4;else break e;else k.id>=o&&(K+=4);k.next()}Q=re,z+=j,W+=K}return(E<0||z==T)&&(w.size=z,w.start=Q,w.skip=W),w.size>4?w:void 0}function S(T,E,k){let{id:z,start:Q,end:W,size:_}=a;if(a.next(),_>=0&&z<o){let w=k;if(_>4){let A=a.pos-(_-4);for(;a.pos>A;)k=S(T,E,k)}E[--k]=w,E[--k]=W-T,E[--k]=Q-T,E[--k]=z}else _==-3?c=z:_==-4&&(h=z);return k}let C=[],P=[];for(;a.pos>0;)f(r.start||0,r.bufferStart||0,C,P,-1,0);let X=(e=r.length)!==null&&e!==void 0?e:C.length?P[0]+C[0].length:0;return new Pl(l[r.topID],C.reverse(),P.reverse(),X)}const Jv=new WeakMap;function Qp(r,e){if(!r.isAnonymous||e instanceof Kc||e.type!=r)return 1;let t=Jv.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=r||!(i instanceof Pl)){t=1;break}t+=Qp(r,i)}Jv.set(e,t)}return t}function dy(r,e,t,i,n,s,o,a,l){let c=0;for(let m=i;m<n;m++)c+=Qp(r,e[m]);let h=Math.ceil(c*1.5/8),f=[],g=[];function p(m,y,v,S,C){for(let P=v;P<S;){let X=P,T=y[P],E=Qp(r,m[P]);for(P++;P<S;P++){let k=Qp(r,m[P]);if(E+k>=h)break;E+=k}if(P==X+1){if(E>h){let k=m[X];p(k.children,k.positions,0,k.children.length,y[X]+C);continue}f.push(m[X])}else{let k=y[P-1]+m[P-1].length-T;f.push(dy(r,m,y,X,P,T,k,null,l))}g.push(T+C-s)}}return p(e,t,i,n,0),(a||l)(f,g,o)}new $r({perNode:!0});let iz=0,po=class Z1{constructor(e,t,i,n){this.name=e,this.set=t,this.base=i,this.modified=n,this.id=iz++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof Z1&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let n=new Z1(i,[],null,[]);if(n.set.push(n),t)for(let s of t.set)n.set.push(s);return n}static defineModifier(e){let t=new e5(e);return i=>i.modified.indexOf(t)>-1?i:e5.get(i.base||i,i.modified.concat(t).sort((n,s)=>n.id-s.id))}},nz=0,e5=class W${constructor(e){this.name=e,this.instances=[],this.id=nz++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&sz(t,a.modified));if(i)return i;let n=[],s=new po(e.name,n,e,t);for(let a of t)a.instances.push(s);let o=oz(t);for(let a of e.set)if(!a.modified.length)for(let l of o)n.push(W$.get(a,l));return s}};function sz(r,e){return r.length==e.length&&r.every((t,i)=>t==e[i])}function oz(r){let e=[[]];for(let t=0;t<r.length;t++)for(let i=0,n=e.length;i<n;i++)e.push(e[i].concat(r[t]));return e.sort((t,i)=>i.length-t.length)}function az(r){let e=Object.create(null);for(let t in r){let i=r[t];Array.isArray(i)||(i=[i]);for(let n of t.split(" "))if(n){let s=[],o=2,a=n;for(let f=0;;){if(a=="..."&&f>0&&f+3==n.length){o=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!g)throw new RangeError("Invalid path: "+n);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),f+=g[0].length,f==n.length)break;let p=n[f++];if(f==n.length&&p=="!"){o=0;break}if(p!="/")throw new RangeError("Invalid path: "+n);a=n.slice(f)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+n);let h=new G1(i,o,l>0?s.slice(0,l):null);e[c]=h.sort(e[c])}}return lz.add(e)}const lz=new $r;let G1=class{constructor(e,t,i,n){this.tags=e,this.mode=t,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}};G1.empty=new G1([],2,null);function cz(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:n=null}=e||{};return{style:s=>{let o=n;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:i}}const Ue=po.define,Wd=Ue(),Zo=Ue(),t5=Ue(Zo),r5=Ue(Zo),Go=Ue(),Yd=Ue(Go),V0=Ue(Go),ms=Ue(),ol=Ue(ms),cs=Ue(),hs=Ue(),H1=Ue(),eu=Ue(H1),Dd=Ue(),Ae={comment:Wd,lineComment:Ue(Wd),blockComment:Ue(Wd),docComment:Ue(Wd),name:Zo,variableName:Ue(Zo),typeName:t5,tagName:Ue(t5),propertyName:r5,attributeName:Ue(r5),className:Ue(Zo),labelName:Ue(Zo),namespace:Ue(Zo),macroName:Ue(Zo),literal:Go,string:Yd,docString:Ue(Yd),character:Ue(Yd),attributeValue:Ue(Yd),number:V0,integer:Ue(V0),float:Ue(V0),bool:Ue(Go),regexp:Ue(Go),escape:Ue(Go),color:Ue(Go),url:Ue(Go),keyword:cs,self:Ue(cs),null:Ue(cs),atom:Ue(cs),unit:Ue(cs),modifier:Ue(cs),operatorKeyword:Ue(cs),controlKeyword:Ue(cs),definitionKeyword:Ue(cs),moduleKeyword:Ue(cs),operator:hs,derefOperator:Ue(hs),arithmeticOperator:Ue(hs),logicOperator:Ue(hs),bitwiseOperator:Ue(hs),compareOperator:Ue(hs),updateOperator:Ue(hs),definitionOperator:Ue(hs),typeOperator:Ue(hs),controlOperator:Ue(hs),punctuation:H1,separator:Ue(H1),bracket:eu,angleBracket:Ue(eu),squareBracket:Ue(eu),paren:Ue(eu),brace:Ue(eu),content:ms,heading:ol,heading1:Ue(ol),heading2:Ue(ol),heading3:Ue(ol),heading4:Ue(ol),heading5:Ue(ol),heading6:Ue(ol),contentSeparator:Ue(ms),list:Ue(ms),quote:Ue(ms),emphasis:Ue(ms),strong:Ue(ms),link:Ue(ms),monospace:Ue(ms),strikethrough:Ue(ms),inserted:Ue(),deleted:Ue(),changed:Ue(),invalid:Ue(),meta:Dd,documentMeta:Ue(Dd),annotation:Ue(Dd),processingInstruction:Ue(Dd),definition:po.defineModifier("definition"),constant:po.defineModifier("constant"),function:po.defineModifier("function"),standard:po.defineModifier("standard"),local:po.defineModifier("local"),special:po.defineModifier("special")};for(let r in Ae){let e=Ae[r];e instanceof po&&(e.name=r)}cz([{tag:Ae.link,class:"tok-link"},{tag:Ae.heading,class:"tok-heading"},{tag:Ae.emphasis,class:"tok-emphasis"},{tag:Ae.strong,class:"tok-strong"},{tag:Ae.keyword,class:"tok-keyword"},{tag:Ae.atom,class:"tok-atom"},{tag:Ae.bool,class:"tok-bool"},{tag:Ae.url,class:"tok-url"},{tag:Ae.labelName,class:"tok-labelName"},{tag:Ae.inserted,class:"tok-inserted"},{tag:Ae.deleted,class:"tok-deleted"},{tag:Ae.literal,class:"tok-literal"},{tag:Ae.string,class:"tok-string"},{tag:Ae.number,class:"tok-number"},{tag:[Ae.regexp,Ae.escape,Ae.special(Ae.string)],class:"tok-string2"},{tag:Ae.variableName,class:"tok-variableName"},{tag:Ae.local(Ae.variableName),class:"tok-variableName tok-local"},{tag:Ae.definition(Ae.variableName),class:"tok-variableName tok-definition"},{tag:Ae.special(Ae.variableName),class:"tok-variableName2"},{tag:Ae.definition(Ae.propertyName),class:"tok-propertyName tok-definition"},{tag:Ae.typeName,class:"tok-typeName"},{tag:Ae.namespace,class:"tok-namespace"},{tag:Ae.className,class:"tok-className"},{tag:Ae.macroName,class:"tok-macroName"},{tag:Ae.propertyName,class:"tok-propertyName"},{tag:Ae.operator,class:"tok-operator"},{tag:Ae.comment,class:"tok-comment"},{tag:Ae.meta,class:"tok-meta"},{tag:Ae.invalid,class:"tok-invalid"},{tag:Ae.punctuation,class:"tok-punctuation"}]);const i5=1,hz=2,uz=3,fz=82,dz=76,pz=117,gz=85,Oz=97,mz=122,bz=65,yz=90,xz=95,K1=48,n5=34,wz=40,s5=41,vz=32,o5=62,Sz=new hh(r=>{if(r.next==dz||r.next==gz?r.advance():r.next==pz&&(r.advance(),r.next==K1+8&&r.advance()),r.next!=fz||(r.advance(),r.next!=n5))return;r.advance();let e="";for(;r.next!=wz;){if(r.next==vz||r.next<=13||r.next==s5)return;e+=String.fromCharCode(r.next),r.advance()}for(r.advance();;){if(r.next<0)return r.acceptToken(i5);if(r.next==s5){let t=!0;for(let i=0;t&&i<e.length;i++)r.peek(i+1)!=e.charCodeAt(i)&&(t=!1);if(t&&r.peek(e.length+1)==n5)return r.acceptToken(i5,2+e.length)}r.advance()}}),_z=new hh(r=>{if(r.next==o5)r.peek(1)==o5&&r.acceptToken(hz,1);else{let e=!1,t=0;for(;;t++){if(r.next>=bz&&r.next<=yz)e=!0;else{if(r.next>=Oz&&r.next<=mz)return;if(r.next!=xz&&!(r.next>=K1&&r.next<=K1+9))break}r.advance()}e&&t>1&&r.acceptToken(uz)}},{extend:!0}),kz=az({"typedef struct union enum class typename decltype auto template operator friend noexcept namespace using requires concept import export module __attribute__ __declspec __based":Ae.definitionKeyword,"extern MsCallModifier MsPointerModifier extern static register thread_local inline const volatile restrict _Atomic mutable constexpr constinit consteval virtual explicit VirtualSpecifier Access":Ae.modifier,"if else switch for while do case default return break continue goto throw try catch":Ae.controlKeyword,"co_return co_yield co_await":Ae.controlKeyword,"new sizeof delete static_assert":Ae.operatorKeyword,"NULL nullptr":Ae.null,this:Ae.self,"True False":Ae.bool,"TypeSize PrimitiveType":Ae.standard(Ae.typeName),TypeIdentifier:Ae.typeName,FieldIdentifier:Ae.propertyName,"CallExpression/FieldExpression/FieldIdentifier":Ae.function(Ae.propertyName),"ModuleName/Identifier":Ae.namespace,PartitionName:Ae.labelName,StatementIdentifier:Ae.labelName,"Identifier DestructorName":Ae.variableName,"CallExpression/Identifier":Ae.function(Ae.variableName),"CallExpression/ScopedIdentifier/Identifier":Ae.function(Ae.variableName),"FunctionDeclarator/Identifier FunctionDeclarator/DestructorName":Ae.function(Ae.definition(Ae.variableName)),NamespaceIdentifier:Ae.namespace,OperatorName:Ae.operator,ArithOp:Ae.arithmeticOperator,LogicOp:Ae.logicOperator,BitOp:Ae.bitwiseOperator,CompareOp:Ae.compareOperator,AssignOp:Ae.definitionOperator,UpdateOp:Ae.updateOperator,LineComment:Ae.lineComment,BlockComment:Ae.blockComment,Number:Ae.number,String:Ae.string,"RawString SystemLibString":Ae.special(Ae.string),CharLiteral:Ae.character,EscapeSequence:Ae.escape,"UserDefinedLiteral/Identifier":Ae.literal,PreProcArg:Ae.meta,"PreprocDirectiveName #include #ifdef #ifndef #if #define #else #endif #elif":Ae.processingInstruction,MacroName:Ae.special(Ae.name),"( )":Ae.paren,"[ ]":Ae.squareBracket,"{ }":Ae.brace,"< >":Ae.angleBracket,". ->":Ae.derefOperator,", ;":Ae.separator}),$z={__proto__:null,bool:36,char:36,int:36,float:36,double:36,void:36,size_t:36,ssize_t:36,intptr_t:36,uintptr_t:36,charptr_t:36,int8_t:36,int16_t:36,int32_t:36,int64_t:36,uint8_t:36,uint16_t:36,uint32_t:36,uint64_t:36,char8_t:36,char16_t:36,char32_t:36,char64_t:36,const:70,volatile:72,restrict:74,_Atomic:76,mutable:78,constexpr:80,constinit:82,consteval:84,struct:88,__declspec:92,final:148,override:148,public:152,private:152,protected:152,virtual:154,extern:160,static:162,register:164,inline:166,thread_local:168,__attribute__:172,__based:178,__restrict:180,__uptr:180,__sptr:180,_unaligned:180,__unaligned:180,noexcept:194,requires:198,TRUE:784,true:784,FALSE:786,false:786,typename:218,class:220,template:234,throw:248,__cdecl:256,__clrcall:256,__stdcall:256,__fastcall:256,__thiscall:256,__vectorcall:256,try:260,catch:264,export:282,import:286,case:296,default:298,if:308,else:314,switch:318,do:322,while:324,for:330,return:334,break:338,continue:342,goto:346,co_return:350,co_yield:354,using:362,typedef:366,namespace:380,new:398,delete:400,co_await:402,concept:406,enum:410,static_assert:414,friend:422,union:424,explicit:430,operator:444,module:456,signed:518,unsigned:518,long:518,short:518,decltype:528,auto:530,sizeof:566,NULL:572,nullptr:586,this:588},Pz={__proto__:null,"<":131},jz={__proto__:null,">":135},Qz={__proto__:null,operator:388,new:576,delete:582},Nz=Ku.deserialize({version:14,states:"$:|Q!QQVOOP'gOUOOO(XOWO'#CdO,RQUO'#CgO,]QUO'#FjO-sQbO'#CxO.UQUO'#CxO0TQUO'#KZO0[QUO'#CwO0gOpO'#DvO0oQ!dO'#D]OOQR'#JO'#JOO5XQVO'#GUO5fQUO'#JVOOQQ'#JV'#JVO8zQUO'#KmO<eQUO'#KmO>{QVO'#E^O?]QUO'#E^OOQQ'#Ed'#EdOOQQ'#Ee'#EeO?bQVO'#EfO@XQVO'#EiOBUQUO'#FPOBvQUO'#FhOOQR'#Fj'#FjOB{QUO'#FjOOQR'#LQ'#LQOOQR'#LP'#LPOETQVO'#KQOFxQUO'#LVOGVQUO'#KqOGkQUO'#LVOH]QUO'#LXOOQR'#HU'#HUOOQR'#HV'#HVOOQR'#HW'#HWOOQR'#K|'#K|OOQR'#J_'#J_Q!QQVOOOHkQVO'#FOOIWQUO'#EhOI_QUOOOKZQVO'#HgOKkQUO'#HgONVQUO'#KqONaQUO'#KqOOQQ'#Kq'#KqO!!_QUO'#KqOOQQ'#Jq'#JqO!!lQUO'#HxOOQQ'#KZ'#KZO!&^QUO'#KZO!&zQUO'#KQO!(zQVO'#I]O!(zQVO'#I`OCQQUO'#KQOOQQ'#Ip'#IpOOQQ'#KQ'#KQO!,}QUO'#KZOOQR'#KY'#KYO!-UQUO'#DZO!/mQUO'#KnOOQQ'#Kn'#KnO!/tQUO'#KnO!/{QUO'#ETO!0QQUO'#EWO!0VQUO'#FRO8zQUO'#FPO!QQVO'#F^O!0[Q#vO'#F`O!0gQUO'#FkO!0oQUO'#FpO!0tQVO'#FrO!0oQUO'#FuO!3sQUO'#FvO!3xQVO'#FxO!4SQUO'#FzO!4XQUO'#F|O!4^QUO'#GOO!4cQVO'#GQO!(zQVO'#GSO!4jQUO'#GpO!4xQUO'#GYO!(zQVO'#FeO!6VQUO'#FeO!6[QVO'#G`O!6cQUO'#GaO!6nQUO'#GnO!6sQUO'#GrO!6xQUO'#GzO!7jQ&lO'#HiO!:mQUO'#GuO!:}QUO'#HXO!;YQUO'#HZO!;bQUO'#DXO!;bQUO'#HuO!;bQUO'#HvO!;yQUO'#HwO!<[QUO'#H|O!=PQUO'#H}O!>uQVO'#IbO!(zQVO'#IdO!?PQUO'#IgO!?WQVO'#IjP!@}{,UO'#CbP!6n{,UO'#CbP!AY{7[O'#CbP!6n{,UO'#CbP!A_{,UO'#CbP!AjOSO'#IzPOOO)CEn)CEnOOOO'#I|'#I|O!AtOWO,59OOOQR,59O,59OO!(zQVO,59VOOQQ,59X,59XO!(zQVO,5;ROOQR,5<U,5<UO!BPQUO,59ZO!(zQVO,5>qOOQR'#IX'#IXOOQR'#IY'#IYOOQR'#IZ'#IZOOQR'#I['#I[O!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!DOQVO,5>zOOQQ,5?W,5?WO!EqQVO'#CjO!IjQUO'#CzOOQQ,59d,59dOOQQ,59c,59cOOQQ,5<},5<}O!IwQ&lO,5=mO!?PQUO,5?RO!LkQVO,5?UO!LrQbO,59dO!L}QVO'#FYOOQQ,5?P,5?PO!M_QVO,59WO!MfO`O,5:bO!MkQbO'#D^O!M|QbO'#K_O!N[QbO,59wO!NdQbO'#CxO!NuQUO'#CxO!NzQUO'#KZO# UQUO'#CwOOQR-E<|-E<|O# aQUO,5AoO# hQVO'#EfO@XQVO'#EiOBUQUO,5;kOOQR,5<p,5<pO#$aQUO'#KQO#$hQUO'#KQO!(zQVO'#IUO8zQUO,5;kO#${Q&lO'#HiO#(SQUO'#CtO#*wQbO'#CxO#*|QUO'#CwO#.jQUO'#KZOOQQ-E=T-E=TO#0}QUO,5AXO#1XQUO'#KZO#1cQUO,5AXOOQR,5Ao,5AoOOQQ,5>l,5>lO#3gQUO'#CgO#4]QUO,5>pO#6OQUO'#IeOOQR'#I}'#I}O#6WQUO,5:xO#6tQUO,5:xO#7eQUO,5:xO#8YQUO'#CuO!0QQUO'#CmOOQQ'#JW'#JWO#6tQUO,5:xO#8bQUO,5;QO!4xQUO'#DOO#9kQUO,5;QO#9pQUO,5>QO#:|QUO'#DOO#;dQUO,5>{O#;iQUO'#KwO#<rQUO,5;TO#<zQVO,5;TO#=UQUO,5;TOOQQ,5;T,5;TO#>}QUO'#L[O#?UQUO,5>UO#?ZQbO'#CxO#?fQUO'#GcO#?kQUO'#E^O#@[QUO,5;kO#@sQUO'#K}O#@{QUO,5;rOKkQUO'#HfOBUQUO'#HgO#AQQUO'#KqO!6nQUO'#HjO#AxQUO'#CuO!0tQVO,5<SOOQQ'#Cg'#CgOOQR'#Jh'#JhO#A}QVO,5=`OOQQ,5?Z,5?ZO#DWQbO'#CxO#DcQUO'#GcOOQQ'#Ji'#JiOOQQ-E=g-E=gOGVQUO,5AqOGkQUO,5AqO#DhQUO,5AsO#DsQUO'#G|OOQR,5Aq,5AqO#DhQUO,5AqO#EOQUO'#HOO#EWQUO,5AsOOQR,5As,5AsOOQR,5At,5AtO#EfQVO,5AtOOQR-E=]-E=]O#G`QVO,5;jOOQR,5;j,5;jO#IaQUO'#EjO#JfQUO'#EwO#K]QVO'#ExO#MoQUO'#EvO#MwQUO'#EyO#NvQUO'#EzOOQQ'#Kz'#KzO$ mQUO,5;SO$!sQUO'#EvOOQQ,5;S,5;SO$#pQUO,5;SO$%cQUO,5:yO$'|QVO,5>PO$(WQUO'#E[O$(eQUO,5>ROOQQ,5>S,5>SO$,RQVO'#C|OOQQ-E=o-E=oOOQQ,5>d,5>dOOQQ,59a,59aO$,]QUO,5>wO$.]QUO,5>zO!6nQUO,59uO$.pQUO,5;qO$.}QUO,5<{O!0QQUO,5:oOOQQ,5:r,5:rO$/YQUO,5;mO$/_QUO'#KmOBUQUO,5;kOOQR,5;x,5;xO$0OQUO'#FbO$0^QUO'#FbO$0cQUO,5;zO$3|QVO'#FmO!0tQVO,5<VO!0oQUO,5<VO!0VQUO,5<[O$4TQVO'#GUO$7PQUO,5<^O!0tQVO,5<aO$:gQVO,5<bO$:tQUO,5<dOOQR,5<d,5<dO$;}QUO,5<dOOQR,5<f,5<fOOQR,5<h,5<hOOQQ'#Fi'#FiO$<SQUO,5<jO$<XQUO,5<lOOQR,5<l,5<lO$=_QUO,5<nO$>eQUO,5<rO$>pQUO,5=[O$>uQUO,5=[O!4xQUO,5<tO$>}QUO,5<tO$?cQUO,5<PO$@iQVO,5<PO$BzQUO,5<zOOQR,5<z,5<zOOQR,5<{,5<{O$>uQUO,5<{O$DQQUO,5<{O$D]QUO,5=YO!(zQVO,5=^O!(zQVO,5=fO#NeQUO,5=mOOQQ,5>T,5>TO$FbQUO,5>TO$FlQUO,5>TO$FqQUO,5>TO$FvQUO,5>TO!6nQUO,5>TO$HtQUO'#KZO$H{QUO,5=oO$IWQUO,5=aOKkQUO,5=oO$JQQUO,5=sOOQR,5=s,5=sO$JYQUO,5=sO$LeQVO'#H[OOQQ,5=u,5=uO!;]QUO,5=uO%#`QUO'#KjO%#gQUO'#K[O%#{QUO'#KjO%$VQUO'#DyO%$hQUO'#D|O%'eQUO'#K[OOQQ'#K['#K[O%)WQUO'#K[O%#gQUO'#K[O%)]QUO'#K[OOQQ,59s,59sOOQQ,5>a,5>aOOQQ,5>b,5>bO%)eQUO'#HzO%)mQUO,5>cOOQQ,5>c,5>cO%-XQUO,5>cO%-dQUO,5>hO%1OQVO,5>iO%1VQUO,5>|O# hQVO'#EfO%4]QUO,5>|OOQQ,5>|,5>|O%4|QUO,5?OO%7QQUO,5?RO!<[QUO,5?RO%8|QUO,5?UO%<iQVO,5?UP!A_{,UO,58|P%<p{,UO,58|P%=O{7[O,58|P%=U{,UO,58|PO{O'#Ju'#JuP%=Z{,UO'#LcPOOO'#Lc'#LcP%=a{,UO'#LcPOOO,58|,58|POOO,5?f,5?fP%=fOSO,5?fOOOO-E<z-E<zOOQR1G.j1G.jO%=mQUO1G.qO%>sQUO1G0mOOQQ1G0m1G0mO%@PQUO'#CpO%B`QbO'#CxO%BkQUO'#CsO%BpQUO'#CsO%BuQUO1G.uO#AxQUO'#CrOOQQ1G.u1G.uO%DxQUO1G4]O%FOQUO1G4^O%GqQUO1G4^O%IdQUO1G4^O%KVQUO1G4^O%LxQUO1G4^O%NkQUO1G4^O&!^QUO1G4^O&$PQUO1G4^O&%rQUO1G4^O&'eQUO1G4^O&)WQUO1G4^O&*yQUO'#KPO&,SQUO'#KPO&,[QUO,59UOOQQ,5=P,5=PO&.dQUO,5=PO&.nQUO,5=PO&.sQUO,5=PO&.xQUO,5=PO!6nQUO,5=PO#NeQUO1G3XO&/SQUO1G4mO!<[QUO1G4mO&1OQUO1G4pO&2qQVO1G4pOOQQ1G/O1G/OOOQQ1G.}1G.}OOQQ1G2i1G2iO!IwQ&lO1G3XO&2xQUO'#LOO@XQVO'#EiO&4RQUO'#F]OOQQ'#Ja'#JaO&4WQUO'#FZO&4cQUO'#LOO&4kQUO,5;tO&4pQUO1G.rOOQQ1G.r1G.rOOQR1G/|1G/|O&6cQ!dO'#JPO&6hQbO,59xO&8yQ!eO'#D`O&9QQ!dO'#JRO&9VQbO,5@yO&9VQbO,5@yOOQR1G/c1G/cO&9bQbO1G/cO&9gQ&lO'#GeO&:eQbO,59dOOQR1G7Z1G7ZO#@[QUO1G1VO&:pQUO1G1^OBUQUO1G1VO&=RQUO'#CzO#*wQbO,59dO&@tQUO1G6sOOQR-E<{-E<{O&BWQUO1G0dO#6WQUO1G0dOOQQ-E=U-E=UO#6tQUO1G0dOOQQ1G0l1G0lO&B{QUO,59jOOQQ1G3l1G3lO&CcQUO,59jO&CyQUO,59jO!M_QVO1G4gO!(zQVO'#JYO&DeQUO,5AcOOQQ1G0o1G0oO!(zQVO1G0oO!6nQUO'#JnO&DmQUO,5AvOOQQ1G3p1G3pOOQR1G1V1G1VO&HjQVO'#FOO!M_QVO,5;sOOQQ,5;s,5;sOBUQUO'#JcO&JfQUO,5AiO&JnQVO'#E[OOQR1G1^1G1^O&M]QUO'#L[OOQR1G1n1G1nOOQR-E=f-E=fOOQR1G7]1G7]O#DhQUO1G7]OGVQUO1G7]O#DhQUO1G7_OOQR1G7_1G7_O&MeQUO'#G}O&MmQUO'#LWOOQQ,5=h,5=hO&M{QUO,5=jO&NQQUO,5=kOOQR1G7`1G7`O#EfQVO1G7`O&NVQUO1G7`O' ]QVO,5=kOOQR1G1U1G1UO$.vQUO'#E]O'!RQUO'#E]OOQQ'#Ky'#KyO'!lQUO'#KxO'!wQUO,5;UO'#PQUO'#ElO'#dQUO'#ElO'#wQUO'#EtOOQQ'#J['#J[O'#|QUO,5;cO'$sQUO,5;cO'%nQUO,5;dO'&tQVO,5;dOOQQ,5;d,5;dO''OQVO,5;dO'&tQVO,5;dO''VQUO,5;bO'(SQUO,5;eO'(_QUO'#KpO'(gQUO,5:vO'(lQUO,5;fOOQQ1G0n1G0nOOQQ'#J]'#J]O''VQUO,5;bO!4xQUO'#E}OOQQ,5;b,5;bO')gQUO'#E`O'+aQUO'#E{OHrQUO1G0nO'+fQUO'#EbOOQQ'#JX'#JXO'-OQUO'#KrOOQQ'#Kr'#KrO'-xQUO1G0eO'.pQUO1G3kO'/vQVO1G3kOOQQ1G3k1G3kO'0QQVO1G3kO'0XQUO'#L_O'1eQUO'#KXO'1sQUO'#KWO'2OQUO,59hO'2WQUO1G/aO'2]QUO'#FPOOQR1G1]1G1]OOQR1G2g1G2gO$>uQUO1G2gO'2gQUO1G2gO'2rQUO1G0ZOOQR'#J`'#J`O'2wQVO1G1XO'8pQUO'#FTO'8uQUO1G1VO!6nQUO'#JdO'9TQUO,5;|O$0^QUO,5;|OOQQ'#Fc'#FcOOQQ,5;|,5;|O'9cQUO1G1fOOQR1G1f1G1fO'9kQUO,5<XO$.vQUO'#FWOBUQUO'#FWO'9rQUO,5<XO!(zQVO,5<XO'9zQUO,5<XO':PQVO1G1qO!0tQVO1G1qOOQR1G1v1G1vO'?oQUO1G1xOOQR1G1{1G1{O'?tQUO1G1|OBUQUO1G2]O'@}QVO1G1|O'CcQUO1G1|O'ChQUO'#GWO8zQUO1G2]OOQR1G2O1G2OOOQR1G2U1G2UOOQR1G2W1G2WOOQR1G2Y1G2YO'CmQUO1G2^O!4xQUO1G2^OOQR1G2v1G2vO'CuQUO1G2vO$>}QUO1G2`OOQQ'#Cv'#CvO'CzQUO'#G[O'DuQUO'#G[O'DzQUO'#LRO'EYQUO'#G_OOQQ'#LS'#LSO'EhQUO1G2`O'EmQVO1G1kO'HOQVO'#GUOBUQUO'#FWOOQR'#Je'#JeO'EmQVO1G1kO'HYQUO'#FvOOQR1G2f1G2fO'H_QUO1G2gO'HdQUO'#JgO'2gQUO1G2gO!(zQVO1G2tO'HlQUO1G2xO'IuQUO1G3QO'J{QUO1G3XOOQQ1G3o1G3oO'KaQUO1G3oOOQR1G3Z1G3ZO'KfQUO'#KZO'2]QUO'#LTOGkQUO'#LVOOQR'#Gy'#GyO#DhQUO'#LXOOQR'#HQ'#HQO'KpQUO'#GvO'#wQUO'#GuOOQR1G2{1G2{O'LmQUO1G2{O'MdQUO1G3ZO'MoQUO1G3_O'MtQUO1G3_OOQR1G3_1G3_O'M|QUO'#H]OOQR'#H]'#H]O( VQUO'#H]O!(zQVO'#H`O!(zQVO'#H_OOQR'#LZ'#LZO( [QUO'#LZOOQR'#Jk'#JkO( aQVO,5=vOOQQ,5=v,5=vO( hQUO'#H^O( pQUO'#HZOOQQ1G3a1G3aO( zQUO,5@vOOQQ,5@v,5@vO%)WQUO,5@vO%)]QUO,5@vO%$VQUO,5:eO(%iQUO'#KkO(%wQUO'#KkOOQQ,5:e,5:eOOQQ'#JS'#JSO(&SQUO'#D}O(&^QUO'#KqOGkQUO'#LVO('YQUO'#D}OOQQ'#Hp'#HpOOQQ'#Hr'#HrOOQQ'#Hs'#HsOOQQ'#Kl'#KlOOQQ'#JU'#JUO('dQUO,5:hOOQQ,5:h,5:hO((aQUO'#LVO((nQUO'#HtO()UQUO,5@vO()]QUO'#H{O()hQUO'#L^O()pQUO,5>fO()uQUO'#L]OOQQ1G3}1G3}O(-lQUO1G3}O(-sQUO1G3}O(-zQUO1G4TO(/QQUO1G4TO(/VQUO,5A|O!6nQUO1G4hO!(zQVO'#IiOOQQ1G4m1G4mO(/[QUO1G4mO(1_QVO1G4pPOOO1G.h1G.hP!A_{,UO1G.hP(3_QUO'#LeP(3j{,UO1G.hP(3o{7[O1G.hPO{O-E=s-E=sPOOO,5A},5A}P(3w{,UO,5A}POOO1G5Q1G5QO!(zQVO7+$]O(3|QUO'#CzOOQQ,59_,59_O(4XQbO,59dO(4dQbO,59_OOQQ,59^,59^OOQQ7+)w7+)wO!M_QVO'#JtO(4oQUO,5@kOOQQ1G.p1G.pOOQQ1G2k1G2kO(4wQUO1G2kO(4|QUO7+(sOOQQ7+*X7+*XO(7bQUO7+*XO(7iQUO7+*XO(1_QVO7+*[O#NeQUO7+(sO(7vQVO'#JbO(8ZQUO,5AjO(8cQUO,5;vOOQQ'#Cp'#CpOOQQ,5;w,5;wO!(zQVO'#F[OOQQ-E=_-E=_O!M_QVO,5;uOOQQ1G1`1G1`OOQQ,5?k,5?kOOQQ-E<}-E<}OOQR'#Dg'#DgOOQR'#Di'#DiOOQR'#Dl'#DlO(9lQ!eO'#K`O(9sQMkO'#K`O(9zQ!eO'#K`OOQR'#K`'#K`OOQR'#JQ'#JQO(:RQ!eO,59zOOQQ,59z,59zO(:YQbO,5?mOOQQ-E=P-E=PO(:hQbO1G6eOOQR7+$}7+$}OOQR7+&q7+&qOOQR7+&x7+&xO'8uQUO7+&qO(:sQUO7+&OO#6WQUO7+&OO(;hQUO1G/UO(<OQUO1G/UO(<jQUO7+*ROOQQ7+*V7+*VO(>]QUO,5?tOOQQ-E=W-E=WO(?fQUO7+&ZOOQQ,5@Y,5@YOOQQ-E=l-E=lO(?kQUO'#LOO@XQVO'#EiO(@wQUO1G1_OOQQ1G1_1G1_O(BQQUO,5?}OOQQ,5?},5?}OOQQ-E=a-E=aO(BfQUO'#KpOOQR7+,w7+,wO#DhQUO7+,wOOQR7+,y7+,yO(BsQUO,5=iO#DsQUO'#JjO(CUQUO,5ArOOQR1G3U1G3UOOQR1G3V1G3VO(CdQUO7+,zOOQR7+,z7+,zO(E[QUO,5:wO(FyQUO'#EwO!(zQVO,5;VO(GlQUO,5:wO(GvQUO'#EpO(HXQUO'#EzOOQQ,5;Z,5;ZO#K]QVO'#ExO(HoQUO,5:wO(HvQUO'#EyO#GgQUO'#JZO(J`QUO,5AdOOQQ1G0p1G0pO(JkQUO,5;WO!<[QUO,5;^O(KUQUO,5;_O(KdQUO,5;WO(MvQUO,5;`OOQQ-E=Y-E=YO(NOQUO1G0}OOQQ1G1O1G1OO(NyQUO1G1OO)!PQVO1G1OO)!WQVO1G1OO)!bQUO1G0|OOQQ1G0|1G0|OOQQ1G1P1G1PO)#_QUO'#JoO)#iQUO,5A[OOQQ1G0b1G0bOOQQ-E=Z-E=ZO)#qQUO,5;iO!<[QUO,5;iO)$nQVO,5:zO)$uQUO,5;gO$ mQUO7+&YOOQQ7+&Y7+&YO!(zQVO'#EfO)$|QUO,5:|OOQQ'#Ks'#KsOOQQ-E=V-E=VOOQQ,5A^,5A^OOQQ'#Jl'#JlO)(qQUO7+&PPOQQ7+&P7+&POOQQ7+)V7+)VO))iQUO7+)VO)*oQVO7+)VOOQQ,5>m,5>mO$)YQVO'#JsO)*vQUO,5@rOOQQ1G/S1G/SOOQQ7+${7+${O)+RQUO7+(RO)+WQUO7+(ROOQR7+(R7+(RO$>uQUO7+(ROOQQ7+%u7+%uOOQR-E=^-E=^O!0VQUO,5;oOOQQ,5@O,5@OOOQQ-E=b-E=bO$0^QUO1G1hOOQQ1G1h1G1hOOQR7+'Q7+'QOOQR1G1s1G1sOBUQUO,5;rO)+tQUO,5<YO)+{QUO1G1sO)-UQUO1G1sO!0tQVO7+']O)-ZQVO7+']O)2yQUO7+'dO)3OQVO7+'hO)5dQUO7+'wO)5nQUO7+'hO)6tQVO7+'hOKkQUO7+'wO$>hQUO,5<rO!4xQUO7+'xO)6{QUO7+'xOOQR7+(b7+(bO)7QQUO7+'zO)7VQUO,5<vO'CzQUO,5<vO)7}QUO,5<vO'CzQUO,5<vOOQQ,5<w,5<wO)8`QVO,5<xO'EYQUO'#JfO)8jQUO,5AmO)8rQUO,5<yOOQR7+'z7+'zO)8}QVO7+'VO)5gQUO'#K}OOQR-E=c-E=cO);`QVO,5<bOOQQ,5@R,5@RO!6nQUO,5@ROOQQ-E=e-E=eO)=wQUO7+(`O)>}QUO7+(dO)?SQVO7+(dOOQQ7+(l7+(lOOQQ7+)Z7+)ZO)?[QUO'#KjO)?fQUO'#KjOOQR,5=b,5=bO)?sQUO,5=bO!;bQUO,5=bO!;bQUO,5=bO!;bQUO,5=bOOQR7+(g7+(gOOQR7+(u7+(uOOQR7+(y7+(yOOQR,5=w,5=wO)?xQUO,5=zO)AOQUO,5=yOOQR,5Au,5AuOOQR-E=i-E=iOOQQ1G3b1G3bO)BUQUO,5=xO)BZQVO'#EfOOQQ1G6b1G6bO%)WQUO1G6bO%)]QUO1G6bOOQQ1G0P1G0POOQQ-E=Q-E=QO)DrQUO,5AVO(%iQUO'#JTO)D}QUO,5AVO)D}QUO,5AVO)EVQUO,5:iO8zQUO,5:iOOQQ,5>],5>]O)EaQUO,5AqO)EhQUO'#EVO)FrQUO'#EVO)G]QUO,5:iO)GgQUO'#HlO)GgQUO'#HmOOQQ'#Ko'#KoO)HUQUO'#KoO!(zQVO'#HnOOQQ,5:i,5:iO)HvQUO,5:iO!M_QVO,5:iOOQQ-E=S-E=SOOQQ1G0S1G0SOOQQ,5>`,5>`O)H{QUO1G6bO!(zQVO,5>gO)LjQUO'#JrO)LuQUO,5AxOOQQ1G4Q1G4QO)L}QUO,5AwOOQQ,5Aw,5AwOOQQ7+)i7+)iO*!lQUO7+)iOOQQ7+)o7+)oO*'kQVO1G7hO*)mQUO7+*SO*)rQUO,5?TO**xQUO7+*[POOO7+$S7+$SP*,kQUO'#LfP*,sQUO,5BPP*,x{,UO7+$SPOOO1G7i1G7iO*,}QUO<<GwOOQQ1G.y1G.yOOQQ'#IT'#ITO*.pQUO,5@`OOQQ,5@`,5@`OOQQ-E=r-E=rOOQQ7+(V7+(VOOQQ<<Ms<<MsO*/yQUO<<MsO*1|QUO<<MvO*3oQUO<<L_O*4TQUO,5?|OOQQ,5?|,5?|OOQQ-E=`-E=`OOQQ1G1b1G1bO*5^QUO,5;vO*6dQUO1G1aOOQQ1G1a1G1aOOQR,5@z,5@zO*7mQ!eO,5@zO*7tQMkO,5@zO*7{Q!eO,5@zOOQR-E=O-E=OOOQQ1G/f1G/fO*8SQ!eO'#DwOOQQ1G5X1G5XOOQR<<J]<<J]O*8ZQUO<<IjO*9OQUO7+$pOOQQ<<Iu<<IuO(7vQVO,5;ROOQR<=!c<=!cOOQQ1G3T1G3TOOQQ,5@U,5@UOOQQ-E=h-E=hOOQR<=!f<=!fO*9{QUO1G0cO*:SQUO'#EzO*:dQUO1G0cO*:kQUO'#I}O*<RQUO1G0qO!(zQVO1G0qOOQQ,5;[,5;[OOQQ,5;],5;]OOQQ,5?u,5?uOOQQ-E=X-E=XO!<[QUO1G0xO*=bQUO1G0xOOQQ1G0y1G0yO*=sQUO'#ElOOQQ1G0z1G0zOOQQ7+&j7+&jO*>XQUO7+&jO*?_QVO7+&jOOQQ7+&h7+&hOOQQ,5@Z,5@ZOOQQ-E=m-E=mO*@ZQUO1G1TO*@eQUO1G1TO*AOQUO1G0fOOQQ1G0f1G0fO*BUQUO'#K{O*B^QUO1G1ROOQQ<<It<<ItOOQQ'#Hb'#HbO'+fQUO,5={OOQQ'#Hd'#HdO'+fQUO,5=}OOQQ-E=j-E=jPOQQ<<Ik<<IkPOQQ-E=k-E=kOOQQ<<Lq<<LqO*BcQUO'#LaO*CoQUO'#L`OOQQ,5@_,5@_OOQQ-E=q-E=qOOQR<<Km<<KmO$>uQUO<<KmO*C}QUO<<KmOOQR1G1Z1G1ZOOQQ7+'S7+'SO!M_QVO1G1tO*DSQUO1G1tOOQR7+'_7+'_OOQR<<Jw<<JwO!0tQVO<<JwOOQR<<KO<<KOO*D_QUO<<KSO*EeQVO<<KSOKkQUO<<KcO!M_QVO<<KcO*ElQUO<<KSO!0tQVO<<KSO*FuQUO<<KSO*FzQUO<<KcO*GVQUO<<KdOOQR<<Kd<<KdOOQR<<Kf<<KfO*G[QUO1G2bO)7VQUO1G2bO'CzQUO1G2bO*GmQUO1G2dO*HsQVO1G2dOOQQ1G2d1G2dO*H}QVO1G2dO*IUQUO,5@QOOQQ-E=d-E=dOOQQ1G2e1G2eO*IdQUO1G1|O*JmQVO1G1|O*JtQUO1G1|OOQQ1G5m1G5mOOQR<<Kz<<KzOOQR<<LO<<LOO*JyQVO<<LOO*KUQUO<<LOOOQR1G2|1G2|O*KZQUO1G2|O*KbQUO1G3eOOQR1G3d1G3dOOQQ7++|7++|O%)WQUO7++|O*KmQUO1G6qO*KmQUO1G6qO(%iQUO,5?oO*KuQUO,5?oOOQQ-E=R-E=RO*LQQUO1G0TOOQQ1G0T1G0TO*L[QUO1G0TO!M_QVO1G0TO*LaQUO1G0TOOQQ1G3w1G3wO*LkQUO,5:qO)EhQUO,5:qO*MXQUO,5:qO)EhQUO,5:qO$#uQUO,5:uO*MvQVO,5>VO)GgQUO'#JpO*NQQUO1G0TO*NcQVO1G0TOOQQ1G3u1G3uO*NjQUO,5>WO*NuQUO,5>XO+ dQUO,5>YO+!jQUO1G0TO%)]QUO7++|O+#pQUO1G4ROOQQ,5@^,5@^OOQQ-E=p-E=pOOQQ<<MT<<MTOOQQ<<Mn<<MnO+$yQUO1G4oP+&|QUO'#JvP+'UQUO,5BQPO{O1G7k1G7kPOOO<<Gn<<GnOOQQANC_ANC_OOQR1G6f1G6fO+'^Q!eO,5:cOOQQ,5:c,5:cO+'eQUO1G0mO+(qQUO7+&]O+*QQUO7+&dO+*cQUO,5;WOOQQ<<JU<<JUO+*qQUO7+&oOOQQ7+&Q7+&QO!4xQUO'#J^O++lQUO,5AgOOQQ7+&m7+&mOOQQ1G3g1G3gO++tQUO1G3iOOQQ,5>n,5>nO+/iQUOANAXOOQRANAXANAXO+/nQUO7+'`OOQRAN@cAN@cO+0zQVOAN@nO+1RQUOAN@nO!0tQVOAN@nO+2[QUOAN@nO+2aQUOAN@}O+2lQUOAN@}O+3rQUOAN@}OOQRAN@nAN@nO!M_QVOAN@}OOQRANAOANAOO+3wQUO7+'|O)7VQUO7+'|OOQQ7+(O7+(OO+4YQUO7+(OO+5`QVO7+(OO+5gQVO7+'hO+5nQUOANAjOOQR7+(h7+(hOOQR7+)P7+)PO+5sQUO7+)PO+5xQUO7+)POOQQ<= h<= hO+6QQUO7+,]O+6YQUO1G5ZOOQQ1G5Z1G5ZO+6eQUO7+%oOOQQ7+%o7+%oO+6vQUO7+%oO*NcQVO7+%oOOQQ7+)a7+)aO+6{QUO7+%oO+8RQUO7+%oO!M_QVO7+%oO+8]QUO1G0]O*LkQUO1G0]O)EhQUO1G0]OOQQ1G0a1G0aO+8zQUO1G3qO+:QQVO1G3qOOQQ1G3q1G3qO+:[QVO1G3qO+:cQUO,5@[OOQQ-E=n-E=nOOQQ1G3r1G3rO%)WQUO<= hOOQQ7+*Z7+*ZPOQQ,5@b,5@bPOQQ-E=t-E=tOOQQ1G/}1G/}OOQQ,5?x,5?xOOQQ-E=[-E=[OOQRG26sG26sO+:zQUOG26YO!0tQVOG26YO+<TQUOG26YOOQRG26YG26YO!M_QVOG26iO!0tQVOG26iO+<YQUOG26iO+=`QUOG26iO+=eQUO<<KhOOQQ<<Kj<<KjOOQRG27UG27UOOQR<<Lk<<LkO+=vQUO<<LkOOQQ7+*u7+*uOOQQ<<IZ<<IZO+={QUO<<IZO!M_QVO<<IZO+>QQUO<<IZO+?WQUO<<IZO*NcQVO<<IZOOQQ<<L{<<L{O+?iQUO7+%wO*LkQUO7+%wOOQQ7+)]7+)]O+@WQUO7+)]O+A^QVO7+)]OOQQANESANESO!0tQVOLD+tOOQRLD+tLD+tO+AeQUOLD,TO+BkQUOLD,TOOQRLD,TLD,TO!0tQVOLD,TOOQRANBVANBVOOQQAN>uAN>uO+BpQUOAN>uO+CvQUOAN>uO!M_QVOAN>uO+C{QUO<<IcOOQQ<<Lw<<LwOOQR!$( `!$( `O!0tQVO!$( oOOQR!$( o!$( oOOQQG24aG24aO+DjQUOG24aO+EpQUOG24aOOQR!)9EZ!)9EZOOQQLD){LD){O+EuQUO'#CgO(dQUO'#CgO+IrQUO'#CzO+LcQUO'#CzO!E{QUO'#CzO+M[QUO'#CzO+MoQUO'#CzO,#bQUO'#CzO,#rQUO'#CzO,$PQUO'#CzO,$[QbO,59dO,$gQbO,59dO,$rQbO,59dO,$}QbO'#CxO,%`QbO'#CxO,%qQbO'#CxO,&SQUO'#CgO,(gQUO'#CgO,(tQUO'#CgO,+iQUO'#CgO,.lQUO'#CgO,.|QUO'#CgO,2uQUO'#CgO,2|QUO'#CgO,3|QUO'#CgO,6VQUO,5:xO#?kQUO,5:xO#?kQUO,5:xO#=ZQUO'#L[O,6sQbO'#CxO,7OQbO'#CxO,7ZQbO'#CxO,7fQbO'#CxO#6tQUO'#E^O,7qQUO'#E^O,9OQUO'#HgO,9pQbO'#CxO,9{QbO'#CxO,:WQUO'#CwO,:]QUO'#CwO,:bQUO'#CpO,:pQbO,59dO,:{QbO,59dO,;WQbO,59dO,;cQbO,59dO,;nQbO,59dO,;yQbO,59dO,<UQbO,59dO,6VQUO1G0dO,<aQUO1G0dO#?kQUO1G0dO,7qQUO1G0dO,>nQUO'#KZO,?OQUO'#CzO,?^QbO,59dO,6VQUO7+&OO,<aQUO7+&OO,?iQUO'#EwO,@[QUO'#EzO,@{QUO'#E^O,AQQUO'#GcO,AVQUO'#CwO,A[QUO'#CxO,AaQUO'#CxO,AfQUO'#CwO,AkQUO'#GcO,ApQUO'#KZO,B^QUO'#KZO,BhQUO'#CwO,BsQUO'#CwO,COQUO'#CwO,<aQUO,5:xO,7qQUO,5:xO,7qQUO,5:xO,CZQUO'#KZO,CnQbO'#CxO,CyQUO'#CsO,DOQUO'#E^",stateData:",Dt~O(nOSSOSTOSRPQVPQ'ePQ'gPQ'hPQ'iPQ'jPQ'kPQ'lPQ'mPQ~O*ZOS~OPmO]eOb!]Oe!POmTOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!TxO!VfO!X!XO!Y!WO!i!YO!opO!r!`O!s!aO!t!aO!u!bO!v!aO!x!cO!{!dO#V#QO#a#VO#b#TO#i#OO#p!xO#t!fO#v!eO$R!gO$T!hO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO${!tO$}!uO%U!yO%_#ZO%`#[O%a#YO%c!zO%e#UO%g!{O%l#SO%o!|O%v!}O%|#PO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(rRO)QYO)TaO)V|O)W{O)XiO)Y!ZO)[XO)hcO)idO~OR#bOV#]O'e#^O'g#_O'h#`O'i#`O'j#aO'k#aO'l#_O'm#_O~OX#dO(o#fO(q#dO~O]ZX]jXejXmhXqZXqjXsjXtjXujXvjXwjXxjXyjXzjX!OjX!TjX!VZX!VjX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(rjX(uZX(v$]X(wZX(xZX)TZX)TjX)UZX)VZX)VjX)WZX)WjX)XZX)YZX)jZX~O)XjX!UZX~P(dO]#}O!V#lO!X#{O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO(w#kO(x#kO)T#mO)U#oO)V#nO)W#pO)X#jO)Y#|O~Oe$RO%Y$SO'[$TO'_$UO(y$OO~Om$VO~O!T$WO](}Xe(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}Xz(}X!O(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)T(}X)V(}X)W(}X)X(}X~Om$VO~P.ZOm$VO!g$YO)j$YO~OX$ZO)]$ZO~O!R$[O)P)RP)Y)RP~OPmO]$eOb!]Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!TxO!V$fO!X!XO!Y!WO!i!YO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#V#QO#a#VO#b#TO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO)QYO)T$kO)W$kO)XiO)Y!ZO)[XO)hcO)idO~Om$_O#t$lO(rRO~P0zO](]Xb'yXe(]Xm'yXm(]Xs'yXs(]Xt'yXt(]Xu'yXu(]Xv'yXv(]Xw'yXw(]Xx'yXx(]Xy'yXy(]Xz'yXz(]X|'yX!O'yX!V(]X!o(]X!r'yX!r(]X!s'yX!s(]X!t'yX!t(]X!u'yX!u(]X!v'yX!v(]X!x'yX!x(]X!{(]X#a'yX#b'yX%e'yX%l'yX%o(]X%v(]X&m'yX&r'yX&s'yX(r'yX(r(]X)T(]X)V(]X)W(]X~Ob!TOm$oOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!O!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO&r#WO&s$wO])aXe)aXm)aX!V)aX!{)aX%v)aX(r)aX)T)aX)V)aX)W)aX~O)X$vO~P:nOPmO]eOe!POs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!VfO!X!XO!Y!WO!i!YO!{!dO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO)TaO)V|O)W{O)Y!ZO)[XO)hcO)idO~Ob%QOm:zO!|%RO(r$xO~P<lO)T%SO~Ob!]Om$_O|#RO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r:}O~P<lOPmO]$eOb%QOm:zO!V$fO!W%_O!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T$kO)W%]O)Y!ZO)[XO)hcO)idO)j%[O~O]%hOe!POm%bO!V%kO!{!dO%v$mO(r;OO)T%dO)V%iO)W%iO~O(v%mO~O)X#jO~O(r%nO](tX!V(tX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)T(tX)U(tX)V(tX)W(tX)X(tX)Y(tX!g(tX)j(tX[(tX!W(tX(v(tX!U(tXQ(tX!d(tX~OP%oO(pQO~PCQO]%hOe!POs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V%kO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO!{!dO%o!|O%v!}O)T;`O)V|O)W|O~Om%rO!o%wO(r$xO~PE_O!TxO#v!eO(v%yO)j%|O])eX!V)eX~O]%hOe!POm%rO!V%kO!{!dO%v!}O(r$xO)T;`O)V|O)W|O~O!TxO#v!eO)X&PO)j&QO~O!U&TO~P!QO]&YO!TxO!V&WO)T&VO)V&ZO)W&ZO~Oq&UO~PHrO]&cO!V&bO~OPmO]eOe!PO!VfO!X!XO!Y!WO!i!YO!{!dO#V#QO%_#ZO%`#[O%a#YO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO)TaO)V|O)W{O)Y!ZO)[XO)hcO)idO~Ob%QOm:zO%v$mO(r$xO~PIgO]%hOe!POm;[O!V%kO!{!dO%v$mO(r$xO)T;`O)V|O)W|O~Oq&fO](tX])eX!V(tX!V)eX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)T(tX)U(tX)V(tX)W(tX)X(tX)Y(tX[(tX[)eX!U(tX~O!g$YO)j$YO~PL]O!g(tX)j(tX~PL]O](tX!V(tX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)T(tX)U(tX)V(tX)W(tX)X(tX)Y(tX!g(tX)j(tX[(tX!U(tX~O])eX!V)eX[)eX~PNkOb&hO&m!RO]&lXe&lXm&lXs&lXt&lXu&lXv&lXw&lXx&lXy&lXz&lX!O&lX!V&lX!r&lX!s&lX!t&lX!u&lX!v&lX!x&lX!{&lX%v&lX&r&lX&s&lX(r&lX)T&lX)V&lX)W&lX)X&lX[&lX!T&lX!X&lX!Y&lX![&lX!^&lX!_&lX!a&lX!b&lX!c&lX!e&lX!f&lX!h&lX(u&lX(w&lX(x&lX)U&lX)Y&lX!g&lX)j&lX!W&lXQ&lX!d&lX(v&lX!U&lX#v&lX~Oq&fOm(}X[(}XQ(}X!d(}X!h(}X)Y(}X)j(}X~P.ZO!g$YO)j$YO](tX!V(tX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)T(tX)U(tX)V(tX)W(tX)X(tX)Y(tX[(tX!W(tX(v(tX!U(tXQ(tX!d(tX~OPmO]$eOb%QOm:zO!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T$kO)W$kO)Y!ZO)[XO)hcO)idO~O](}Xe(}Xm(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}Xz(}X!O(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)T(}X)V(}X)W(}X)X(}X[(}XQ(}X!d(}X!h(}X)Y(}X)j(}X~O]#}O~P!*qO]&lO~O])bXb)bXe)bXm)bXs)bXt)bXu)bXv)bXw)bXx)bXy)bXz)bX|)bX!O)bX!V)bX!o)bX!r)bX!s)bX!t)bX!u)bX!v)bX!x)bX!{)bX#a)bX#b)bX%e)bX%l)bX%o)bX%v)bX&m)bX&r)bX&s)bX(r)bX)T)bX)V)bX)W)bX~O(pQO~P!-ZO%U&nO~P!-ZO]&oO~O]#}O~O!TxO~O$W&wO(r%nO(v&vO~O]&xOx&zO~O]&xO~OPmO]$eOb%QOm:zO!TxO!V$fO!X!XO!Y!WO!i!YO#V#QO#p!xO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r:mO)QYO)T$kO)W$kO)XiO)Y!ZO)[XO)hcO)idO~O]'PO~O!T$WO)X'RO~P!(zO)X'TO~O)X'UO~O(r'VO~O)X'YO~P!(zOm;^O%U'^O%e'^O(r;PO~Ob!TOm$oOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO~O(v'bO~O)X'dO~P!(zO!TxO(r%nO)j'fO~O(r%nO~O]'iO~O]'jOe%nXm%nX!V%nX!{%nX%v%nX(r%nX)T%nX)V%nX)W%nX~O]'nO!V'oO!X'lO!g'lO%Z'lO%['lO%]'lO%^'lO%_'pO%`'pO%a'lO(x'mO)j'lO)x'qO~P8zO]%hOb!TOe!POs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!V%kO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO!{!dO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO)T;`O)V|O)W|O~Om;_Oq&UO%v$mO(r;QO~P!8jO(r%nO(v'vO)X'wO~O]&cO!T'yO~Om$oO!O!_O!T(QO!l(VO(r$nO(v(PO)QYO~Om$oO|(^O!T(ZO#b(^O(r$nO~Ob!TOm$oO|#RO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO~O](`O~OPmOb%QOm:zO!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T$kO)W$kO)[XO)hcO)idO~O](bO)Y(cO~P!=UO]#}O~P!<[OPmO]$eOb%QOm:zO!V(iO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T$kO)W$kO)Y!ZO)[XO)hcO)idO~OY(jO(pQO(r%nO~O'f(mO~OS(qOT(nO*W(pO~O]#}O(n(tO~Q'nXX#dO(o(vO(q#dO~Oe)QOm({O&r#WO(r(zO~O!Y'Sa!['Sa!^'Sa!_'Sa!a'Sa!b'Sa!c'Sa!e'Sa!f'Sa!h'Sa(u'Sa)T'Sa)U'Sa)V'Sa)W'Sa)X'Sa)Y'Sa!g'Sa)j'Sa['Sa!W'Sa(v'Sa!U'SaQ'Sa!d'Sa~OPmOb%QOm:zO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)[XO)hcO)idO]'Sa!V'Sa!X'Sa(w'Sa(x'Sa~P!B_O!T$WO[(sP~P!(zO]oX]%WXeoXmnXqoXq%WXsoXtoXuoXvoXwoXxoXyoXzoX!OoX!ToX!VoX!V%WX!X%WX!Y%WX![%WX!^%WX!_%WX!a%WX!b%WX!c%WX!e%WX!f%WX!gnX!h%WX!roX!soX!toX!uoX!voX!xoX!{oX%voX&roX&soX(roX(u%WX(w%WX(x%WX)ToX)T%WX)U%WX)VoX)V%WX)WoX)W%WX)X%WX)Y%WX)jnX[%WX~O)XoX[oX!U%WX~P!E{O])dO!V)eO!X)bO!g)bO%Z)bO%[)bO%])bO%^)bO%_)fO%`)fO%a)bO(x)cO)j)bO)x)gO~P8zOPmO]$eOb%QOm:zO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T$kO)W$kO)Y!ZO)[XO)hcO)idO~O!V)lO~P!JwOe)oO%Y)pO(y$OO~O!T$WO!V)rO(w)sO!U)rP~P!JwO!T$WO~P!(zO)Z)zO~Om){O]!QX!h!QX)P!QX)Y!QX~O])}O!h*OO)P)RX)Y)RX~O)P*RO)Y*SO~Oe$RO%Y*TO'[$TO'_$UO(y$OO~Om*UO~Om*UO[(}X~P.ZOm*UO!g$YO)j$YO~O)X*VO~P:nOPmO]$eOb!]Om$_Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r:}O)T$kO)W$kO)Y!ZO)[XO)hcO)idO~Oq&fO~P!&zOq&fO!W(tX(v(tXQ(tX!d(tX~PNkO]'nO!V'oO!X'lO!g'lO%Z'lO%['lO%]'lO%^'lO%_'pO%`'pO%a'lO(x'mO)j'lO)x'qO~O]jXejXmhXqjXsjXtjXujXvjXwjXxjXyjXzjX!OjX!VjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(rjX)TjX)VjX)WjX!TjX!hjX)YjX)jjX[jX~O!ljX(vjX)XjX!XjX!YjX![jX!^jX!_jX!ajX!bjX!cjX!ejX!fjX(ujX(wjX(xjX)UjX!gjX!WjXQjX!djX!UjX#vjX#TjX#VjX#pjXbjX|jX!ojX#ajX#bjX#ijX#tjX${jX%cjX%ejX%kjX%ljX%ojX&mjX)QjX~P#%yO(y*ZO~Om*[O~O](}Xe(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}Xz(}X!O(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)T(}X)V(}X)W(}X)X(}X!T(}X!X(}X!Y(}X![(}X!^(}X!_(}X!a(}X!b(}X!c(}X!e(}X!f(}X!h(}X(u(}X(w(}X(x(}X)U(}X)Y(}X!g(}X)j(}X[(}X!W(}XQ(}X!d(}X(v(}X!U(}X#v(}X~Om*[O~P#+ROs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!O!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO])aae)aam)aa!V)aa!{)aa%v)aa(r)aa)T)aa)V)aa)W)aaQ)aa!d)aa!h)aa)Y)aa)j)aa[)aa!T)aa(v)aa)X)aa~O&r#WO&s$wO~P#.qOq&fOm(}X~P#+RO&r)aa~P#.qO]ZXmhXqZXqjX!TjX!VZX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX(uZX(wZX(xZX)TZX)UZX)VZX)WZX)XZX)YZX)jZX[ZX~O!WZX(vZX!UZXQZX!dZX~P#1jO]#}O!V#lO!X#{O(w#kO(x#kO~O!Y&xa![&xa!^&xa!_&xa!a&xa!b&xa!c&xa!e&xa!f&xa!g&xa!h&xa(u&xa)T&xa)U&xa)V&xa)W&xa)X&xa)Y&xa)j&xa[&xa!W&xa(v&xa!U&xaQ&xa!d&xa~P#3zOm;hO!T$WO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O~PKkOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!|%RO~PKkO]&cO!V&bO[#Qa!T#Qa!h#Qa#v#Qa)X#Qa)j#QaQ#Qa!d#Qa(v#Qa~Oq&fO!T$WO~O[*cO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[*cO~O[*eO]&cO!V&bO~O]&YOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V&WO&r#WO&s$wO)T&VO)V&ZO)W&ZO~O[rXQrX!drX!hrX)YrX)XrX~P#9{O[*hO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h*iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!W)kX~P#3zO!W*kO!h*lO~O!W*kO!h*lO~P!(zO!W*kO~Oq&fO!g$YO!h*mO)j$YO](tX!V(tX!W(tX!W*OX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX(u(tX(w(tX(x(tX)T(tX)U(tX)V(tX)W(tX)Y(tX~O!h(tX~P#=ZO!W*oO~Oe$RO%Y*TO(y:rO~Om;kO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!|%RO~PBUO]*vO!T*qO!V&bO!h*tO#v!eO)j*rO)X)qX~O!h*tO)X)qX~O)X*wO~Oq&fO])eX!T)eX!V)eX!h)eX#v)eX)X)eX)j)eX[)eXQ)eX!d)eX(v)eX~Oq&fO~OP%oO(pQO]%ha!V%ha!X%ha!Y%ha![%ha!^%ha!_%ha!a%ha!b%ha!c%ha!e%ha!f%ha!h%ha(r%ha(u%ha(w%ha(x%ha)T%ha)U%ha)V%ha)W%ha)X%ha)Y%ha!g%ha)j%ha[%ha!W%ha(v%ha!U%haQ%ha!d%ha~Oe$RO%Y$SO(y:oO~Om:wO~O!TxO#v!eO)j%|O~Om<[O&r#WO(r;gO~O$Z+TO%`+UO~O!TxO#v!eO)X+VO)j+WO~OPmO]$eOb%QOm:zO!V$fO!X!XO!Y!WO!i!YO#V#QO$Z+TO%_#ZO%`+YO%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T$kO)W$kO)Y!ZO)[XO)hcO)idO~O!U+ZO~P!QOb!TOm$oOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#a+aO#b+bO#i+cO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO)QYO~OQ)lP!d)lP~P#GgO]&YOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V&WO)T&VO)V&ZO)W&ZO~O[#kX!T#kX#v#kX)X#kX)j#kXQ#kX!d#kX!h#kX)Y#kX!x#kX(v#kX~P#IkOPmO]$eOb%QOm:zOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V$fO!W+iO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T+jO)W$kO)Y!ZO)[XO)hcO)idO~O]&cO!V+kO~O]&YO!V&WO)QYO)T&VO)V&ZO)W&ZO)Y+nO[)dP~P8zO]&YO!V&WO)T&VO)V&ZO)W&ZO~O[#nX!T#nX#v#nX)X#nX)j#nXQ#nX!d#nX!h#nX)Y#nX!x#nX(v#nX~P#NeO!TxO])nX!V)nX~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O#T+vO#p+wO(x+tO)V+rO)W+rO~O]#jX!T#jX!V#jX[#jX#v#jX)X#jX)j#jXQ#jX!d#jX!h#jX)Y#jX!x#jX(v#jX~P$ xO#V+yO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!l+zO#T+vO#V+yO#p+wO(x+tO)V+zO)W+zO])fP!T)fP!V)fP#v)fP(v)fP)j)fP[)fP!h)fP)X)fP~O!x)fPQ)fP!d)fP~P$#uOPmO]$eOb%QOm:zOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)W$kO)Y!ZO)[XO)hcO)idO~O!W,QO)T,RO~P$%pO)QYO)Y+nO[)dP~P8zO]&cO!V&bO[&Za!T&Za!h&Za#v&Za)X&Za)j&ZaQ&Za!d&Za(v&Za~OPmO]$eOb!]Om:|Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r;RO)T$kO)W$kO)Y!ZO)[XO)hcO)idO~OQ(zP!d(zP~P$)YO]#}O!V#lO(w#kO(x#kO!X'Pa!Y'Pa!['Pa!^'Pa!_'Pa!a'Pa!b'Pa!c'Pa!e'Pa!f'Pa!h'Pa(u'Pa)T'Pa)U'Pa)V'Pa)W'Pa)X'Pa)Y'Pa!g'Pa)j'Pa['Pa!W'Pa(v'Pa!U'PaQ'Pa!d'Pa~O]#}O!V#lO!X#{O(w#kO(x#kO~P!B_O!TxO#t!fO)QYO~P8zO!TxO(r%nO)j,[O~O#x,aO~OQ)aX!d)aX!h)aX)Y)aX)j)aX[)aX!T)aX(v)aX)X)aX~P:nO(v,eO(w,cO)Q$UX)X$UX~O(r,fO~O)QYO)X,iO~OPmO]$eOb!]Om:{Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!V$fO!X!XO!Y!WO!i!YO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO)QYO)T$kO)W$kO)XiO)Y!ZO)[XO)hcO)idO~O(r;SO~P$0kOPmO]$eOb%QOm:zO!TxO!V$fO!X!XO!Y!WO!i!YO#V#QO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r:mO)QYO)T$kO)W$kO)XiO)Y!ZO)[XO)hcO)idO~O$h,sO~OPmO]$eOb!]Om:{Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!V$fO!X!XO!Y!WO!i!YO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#V#QO#a#VO#b#TO$}!uO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO)QYO)T$kO)W$kO)Y!ZO)[XO)hcO)idO~O${,yO(r:}O)X,wO~P$7UO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)X,{O)Y#|O~P#3zO)X,{O~O)X,|O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X,}O)Y#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X-OO)Y#|O~P#3zOq&fO)QYO)j-QO~O)X-RO~Om;^O(r;PO~O]-YO!{!dO&r#WO&s$wO(r-UO)T-VO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO(v-]O)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!TxO$`!iO$e!jO$g!kO$h!lO$k-bO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO$}!uO(r:nOe$Xa!o$Xa!{$Xa#i$Xa#p$Xa#t$Xa#v$Xa$R$Xa$T$Xa$Y$Xa$Z$Xa${$Xa%U$Xa%c$Xa%g$Xa%o$Xa%|$Xa(k$Xa)V$Xa!U$Xa$c$Xa~P$0kO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X-cO)Y#|O~P#3zOm-eO!TxO)j,[O~O)j-gO~O]&]a!X&]a!Y&]a![&]a!^&]a!_&]a!a&]a!b&]a!c&]a!e&]a!f&]a!h&]a(u&]a(w&]a(x&]a)U&]a)V&]a)W&]a)X&]a)Y&]a!g&]a)j&]a[&]a!W&]a!T&]a#v&]a(v&]a!U&]aQ&]a!d&]a~O)T-kO!V&]a~P$DbO[-kO~O!W-kO~O!V-lO)T&]a~P$DbO](}Xe(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}Xz(}X!O(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)T(}X)V(}X)W(}X~Om;mO~P$GQO]&cO!V&bO)X-mO~Om;cO!o-pO#V+yO#i-uO#t!fO${,yO%c!zO%k-tO%o!|O%v!}O(r;TO)QYO~P!8jO!n-yO(r,fO~O)QYO)X-{O~OPmO]$eOb%QOm:zO!T.QO!V$fO!X!XO!Y!WO!i!YO#V.XO#a.WO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO(x.PO)T$kO)W$kO)X-}O)Y!ZO)[XO)hcO)idO~O!U.VO~P$JbO])^Xe)^Xs)^Xt)^Xu)^Xv)^Xw)^Xx)^Xy)^Xz)^X!O)^X!T)^X!V)^X!l)^X!r)^X!s)^X!t)^X!u)^X!v)^X!x)^X!{)^X%v)^X&r)^X&s)^X(r)^X(v)^X)T)^X)V)^X)W)^X)X)^X[)^X!h)^X)Y)^X!X)^X!Y)^X![)^X!^)^X!_)^X!a)^X!b)^X!c)^X!e)^X!f)^X(u)^X(w)^X(x)^X)U)^X!g)^X)j)^X!W)^XQ)^X!d)^X#T)^X#V)^X#p)^X#v)^Xb)^X|)^X!o)^X#a)^X#b)^X#i)^X#t)^X${)^X%c)^X%e)^X%k)^X%l)^X%o)^X&m)^X)Q)^X!U)^X~Om*[O~P$LlOm$oO!T(QO!l.^O(r$nO(v(PO)QYO~Oq&fOm)^X~P$LlOm$oO!n.cO!o.cO(r$nO)QYO~Om;dO!U.nO!n.pO!o.oO#i-uO${!tO$}!uO%g!{O%k-tO%o!|O%v!}O(r;VO)QYO~P!8jO!T(QO!l.^O(v(PO])OXe)OXm)OXs)OXt)OXu)OXv)OXw)OXx)OXy)OXz)OX!O)OX!V)OX!r)OX!s)OX!t)OX!u)OX!v)OX!x)OX!{)OX%v)OX&r)OX&s)OX(r)OX)T)OX)V)OX)W)OX~O)X)OX[)OX!X)OX!Y)OX![)OX!^)OX!_)OX!a)OX!b)OX!c)OX!e)OX!f)OX!h)OX(u)OX(w)OX(x)OX)U)OX)Y)OX!g)OX)j)OX!W)OXQ)OX!d)OX!U)OX#v)OX~P%%eO!T(QO~O!T(QO(v(PO~O(r%nO!U*QP~O!T(ZO(v.uO]&kae&kam&kas&kat&kau&kav&kaw&kax&kay&kaz&ka!O&ka!V&ka!r&ka!s&ka!t&ka!u&ka!v&ka!x&ka!{&ka%v&ka&r&ka&s&ka(r&ka)T&ka)V&ka)W&ka)X&ka[&ka!X&ka!Y&ka![&ka!^&ka!_&ka!a&ka!b&ka!c&ka!e&ka!f&ka!h&ka(u&ka(w&ka(x&ka)U&ka)Y&ka!g&ka)j&ka!W&kaQ&ka!d&ka!U&ka#v&ka~Om$oO!T(ZO(r$nO~O&r#WO&s$wO]&pae&pam&pas&pat&pau&pav&paw&pax&pay&paz&pa!O&pa!V&pa!r&pa!s&pa!t&pa!u&pa!v&pa!x&pa!{&pa%v&pa(r&pa)T&pa)V&pa)W&pa)X&pa[&pa!T&pa!X&pa!Y&pa![&pa!^&pa!_&pa!a&pa!b&pa!c&pa!e&pa!f&pa!h&pa(u&pa(w&pa(x&pa)U&pa)Y&pa!g&pa)j&pa!W&paQ&pa!d&pa(v&pa!U&pa#v&pa~O&s.zO~P!(zO!Y#qO![#rO!f#zO)T#mO!^'Ua!_'Ua!a'Ua!b'Ua!c'Ua!e'Ua!h'Ua(u'Ua)U'Ua)V'Ua)W'Ua)X'Ua)Y'Ua!g'Ua)j'Ua['Ua!W'Ua(v'Ua!U'UaQ'Ua!d'Ua~P#3zO!V'dX!X'dX!Y'dX!['dX!^'dX!_'dX!a'dX!b'dX!c'dX!e'dX!f'dX!h'dX(u'dX(w'dX(x'dX)T'dX)U'dX)V'dX)W'dX)Y'dX['dX~O].|O)X'dX!g'dX)j'dX!W'dX(v'dX!U'dXQ'dX!d'dX~P%2xO!Y#qO![#rO!f#zO)T#mO!^'Wa!_'Wa!a'Wa!b'Wa!c'Wa!e'Wa!h'Wa(u'Wa)U'Wa)V'Wa)W'Wa)X'Wa)Y'Wa!g'Wa)j'Wa['Wa!W'Wa(v'Wa!U'WaQ'Wa!d'Wa~P#3zO]#}O!T$WO!V.}O&r#WO&s$wO~O!X'Za!Y'Za!['Za!^'Za!_'Za!a'Za!b'Za!c'Za!e'Za!f'Za!h'Za(u'Za(w'Za(x'Za)T'Za)U'Za)V'Za)W'Za)X'Za)Y'Za!g'Za)j'Za['Za!W'Za(v'Za!U'ZaQ'Za!d'Za~P%6oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!h'^a)X'^a!g'^a)j'^a['^a!W'^a(v'^a!U'^aQ'^a!d'^a~P#3zOPmO]$eOb%QOm:zO!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T$kO)W%]O)Y!ZO)[XO)hcO)idO)j%[O~O!W/QO~P%:oOS(qOT(nO]#}O*W(pO~O]/TO'f/UO*W/RO~OS/YOT(nO*W/XO~O]#}O~Q'na!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO(v/[O)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O)X#Zi[#Zi~P#3zO]dXmhXqdXqjX!VdX!XdX!YdX![dX!^dX!_dX!adX!bdX!cdX!edX!fdX!gdX!hdX(udX(wdX(xdX)TdX)UdX)VdX)WdX)XdX)YdX)jdX[dX!WdX(vdX!TdX#vdX!UdXQdX!ddX~Oe/^O%Y*TO(y/]O~Om/_O~Om/`O~Oq&fO]ci!Vci!Xci!Yci![ci!^ci!_ci!aci!bci!cci!eci!fci!gci!hci(uci(wci(xci)Tci)Uci)Vci)Wci)Xci)Yci)jci[ci!Wci(vci!UciQci!dci~O!W/bO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO![#rO)T#mO!Y&zi!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!f&zi!h&zi(u&zi)U&zi)V&zi)W&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y&zi![&zi!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!f&zi!h&zi(u&zi)T&zi)U&zi)V&zi)W&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)T#mO)W#pO!h&zi(u&zi)U&zi)V&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)T#mO)V#nO)W#pO!h&zi(u&zi)U&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)T#mO)W#pO!^&zi!h&zi(u&zi)U&zi)V&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!a#xO!b#yO!c#yO!e#yO!f#zO)T#mO)W#pO!^&zi!_&zi!h&zi(u&zi)U&zi)V&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!a#xO!b#yO!c#yO!e#yO!f#zO)T#mO!^&zi!_&zi!h&zi(u&zi)U&zi)V&zi)W&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!b#yO!c#yO!e#yO!f#zO)T#mO!^&zi!_&zi!a&zi!h&zi(u&zi)U&zi)V&zi)W&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!f#zO)T#mO!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!h&zi(u&zi)U&zi)V&zi)W&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO)T#mO!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!f&zi!h&zi(u&zi)U&zi)V&zi)W&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)T#mO)U#oO)V#nO)W#pO!h&zi(u&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h/cO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O[(sX~P#3zO!h/cO[(sX~O[/eO~O]%Xaq%Xa!X%Xa!Y%Xa![%Xa!^%Xa!_%Xa!a%Xa!b%Xa!c%Xa!e%Xa!f%Xa!h%Xa(u%Xa(w%Xa(x%Xa)U%Xa)V%Xa)W%Xa)X%Xa)Y%Xa!g%Xa)j%Xa[%Xa!W%Xa!T%Xa#v%Xa(v%Xa!U%XaQ%Xa!d%Xa~O)T/fO!V%Xa~P&,aO[/fO~O!W/fO~O!V/gO)T%Xa~P&,aO!X'Zi!Y'Zi!['Zi!^'Zi!_'Zi!a'Zi!b'Zi!c'Zi!e'Zi!f'Zi!h'Zi(u'Zi(w'Zi(x'Zi)T'Zi)U'Zi)V'Zi)W'Zi)X'Zi)Y'Zi!g'Zi)j'Zi['Zi!W'Zi(v'Zi!U'ZiQ'Zi!d'Zi~P%6oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!h'^i)X'^i!g'^i)j'^i['^i!W'^i(v'^i!U'^iQ'^i!d'^i~P#3zO!W/lO~P%:oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h/nO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!U)rX~P#3zO(r/qO~O!V/sO(w)sO)j/uO~O!h/nO!U)rX~O!U/vO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)T#mO)U#oO)V#nO)W#pO)Y#|O!h`i(u`i)X`i!g`i)j`i[`i!W`i(v`i!U`iQ`i!d`i~P#3zO!R/wO~Om){O]!Qa!h!Qa)P!Qa)Y!Qa~OP0PO]0OOm0PO!R0PO!T/|O!V/}O!X0PO!Y0PO![0PO!^0PO!_0PO!a0PO!b0PO!c0PO!e0PO!f0PO!g0PO!h0PO!i0PO(pQO(v0PO(w0PO(x0PO)T/yO)U/zO)V/zO)W/{O)X0PO)Y0PO)[XO~O[0SO~P&6yO!R$[O~O!h*OO)P)Ra)Y)Ra~O)P0WO~O])dO!V)eO!X)bO!g)bO%Z)bO%[)bO%])bO%^)bO%_)fO%`)fO%a)bO(x)cO)j)bO)x)gO~Oe)oO%Y*TO(y$OO~O)X0YO~O]oXeoXmnXqoXsoXtoXuoXvoXwoXxoXyoXzoX!OoX!VoX!roX!soX!toX!uoX!voX!xoX!{oX%voX&roX&soX(roX)ToX)VoX)WoX!ToX!hoX)YoX[oXQoX!doX~O!loX(voX)XoX!XoX!YoX![oX!^oX!_oX!aoX!boX!coX!eoX!foX(uoX(woX(xoX)UoX!goX)joX!WoX!UoX#voX#ToX#VoX#poXboX|oX!ooX#aoX#boX#ioX#toX${oX%coX%eoX%koX%loX%ooX&moX)QoX~P&:uOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!O!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO~O])aie)aim)ai!V)ai!{)ai%v)ai(r)ai)T)ai)V)ai)W)aiQ)ai!d)ai!h)ai)Y)ai)j)ai[)ai!T)ai&r)ai(v)ai)X)ai~P&?sO]&cO!V&bO[#Qi!T#Qi!h#Qi#v#Qi)X#Qi)j#QiQ#Qi!d#Qi(v#Qi~O[raQra!dra!hra)Yra)Xra~P#9{O[raQra!dra!hra)Yra)Xra~P#IkO]&cO!V+kO[raQra!dra!hra)Yra)Xra~O!h*iO!W)ka~O!h*mO!W*Oa~OPmOb!]Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!X!XO!Y!WO!i!YO!s!aO!t!aO!v!aO!x!cO#V#QO#a#VO#b#TO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%e#UO%l#SO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO)QYO)XiO)Y!ZO)[XO)hcO)idO~O]eOe!POmTO!T*qO!U&TO!V0hO!opO!r!`O!u!bO!{!dO#i#OO#p!xO#t!fO$R!gO$T!hO${!tO$}!uO%U!yO%c!zO%g!{O%o!|O%v!}O%|#PO(rRO(w)sO)TaO)V|O)W{O~P&DuO!h*tO)X)qa~OPmO]$eOb!]Om:|O|#RO!T$WO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r;UO)QYO)T$kO)W$kO)Y0nO)[XO)hcO)idO[(sP[)dP~P&?sO!h*mO!W*OX~O]#}O!T$WO~O!h0sO!T)zX#v)zX)j)zX~O)X0uO~O)X0vO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X0xO)Y#|O~P#3zO)X0vO~P!?WO]1SOe!POm%bO!V1QO!{!dO%v$mO(r$xO)T0zO)Y0}O~O)V1OO)W1OO)j0{OQ#PX!d#PX!h#PX[#PX~P' dO!h1TOQ)lX!d)lX~OQ1VO!d1VO~O)Y1YO)j1XOQ#`X!d#`X!h#`X~P!<[O)Y1YO)j1XOQ#`X!d#`X!h#`X~P!;bOq&UO~O[#ka!T#ka#v#ka)X#ka)j#kaQ#ka!d#ka!h#ka)Y#ka!x#ka(v#ka~P#IkO]&cO!V+kO[#ka!T#ka#v#ka)X#ka)j#kaQ#ka!d#ka!h#ka)Y#ka!x#ka(v#ka~O!W1_O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W1_O)T1aO~P$%pO!W1_O~P!(zO]#ja!T#ja!V#ja[#ja#v#ja)X#ja)j#jaQ#ja!d#ja!h#ja)Y#ja!x#ja(v#ja~P$ xO[1eO]&cO!V+kO~O!h1fO[)dX~O[1hO~O]&cO!V+kO[#na!T#na#v#na)X#na)j#naQ#na!d#na!h#na)Y#na!x#na(v#na~O]1lOs#SXt#SXu#SXv#SXw#SXx#SXy#SXz#SX!T#SX!V#SX#T#SX#p#SX(x#SX)V#SX)W#SX!l#SX!x#SX#V#SX#v#SX(v#SX)j#SX[#SX!h#SX)X#SXQ#SX!d#SX)Y#SX~O]1mO~O]1pOm$oO!V$fO#V#QO(r$nO)hcO)idO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!l+zO#T+vO#V+yO#p+wO(x+tO)V+zO)W+zO~O])fX!T)fX!V)fX!x)fX#v)fX(v)fX)j)fX[)fX!h)fX)X)fXQ)fX!d)fX~P'+}O!x!cO]#Ri!T#Ri!V#Ri#v#Ri(v#Ri)j#Ri[#Ri!h#Ri)X#RiQ#Ri!d#Ri~O!W1xO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W1xO)T1zO~P$%pO!W1xO~P!(zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|OQ*RX!d*RX!h*RX~P#3zO)Y1{OQ({X!d({X!h({X~O!h1|OQ(zX!d(zX~OQ2OO!d2OO~O[2PO~O#t$lO)QYO~P8zOm-eO!TxO)j2TO~O[2UO~O#x,aOP#ui]#uib#uie#uim#uis#uit#uiu#uiv#uiw#uix#uiy#uiz#ui|#ui!O#ui!T#ui!V#ui!X#ui!Y#ui!i#ui!o#ui!r#ui!s#ui!t#ui!u#ui!v#ui!x#ui!{#ui#V#ui#a#ui#b#ui#i#ui#p#ui#t#ui#v#ui$R#ui$T#ui$Y#ui$Z#ui$`#ui$e#ui$g#ui$h#ui$k#ui$m#ui$o#ui$q#ui$s#ui$u#ui$w#ui${#ui$}#ui%U#ui%_#ui%`#ui%a#ui%c#ui%e#ui%g#ui%l#ui%o#ui%v#ui%|#ui&m#ui&r#ui&s#ui'Q#ui'R#ui'V#ui'Y#ui'a#ui'b#ui(k#ui(p#ui(r#ui)Q#ui)T#ui)V#ui)W#ui)X#ui)Y#ui)[#ui)h#ui)i#ui!U#ui$c#ui!n#ui%k#ui~O]&cO~O]&cO!TxO!V&bO#v!eO~O(v2ZO(w,cO)Q$Ua)X$Ua~O)QYO)X2]O~O[2^O~P,]O[2^O)X#jO~O[2^O~O$c2cOP$_i]$_ib$_ie$_im$_is$_it$_iu$_iv$_iw$_ix$_iy$_iz$_i|$_i!O$_i!T$_i!V$_i!X$_i!Y$_i!i$_i!o$_i!r$_i!s$_i!t$_i!u$_i!v$_i!x$_i!{$_i#V$_i#a$_i#b$_i#i$_i#p$_i#t$_i#v$_i$R$_i$T$_i$Y$_i$Z$_i$`$_i$e$_i$g$_i$h$_i$k$_i$m$_i$o$_i$q$_i$s$_i$u$_i$w$_i${$_i$}$_i%U$_i%_$_i%`$_i%a$_i%c$_i%e$_i%g$_i%l$_i%o$_i%v$_i%|$_i&m$_i&r$_i&s$_i'Q$_i'R$_i'V$_i'Y$_i'a$_i'b$_i(k$_i(p$_i(r$_i)Q$_i)T$_i)V$_i)W$_i)X$_i)Y$_i)[$_i)h$_i)i$_i!U$_i~O]1pO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)X2fO)Y#|O~P#3zOPmO]$eOb!]Om:{O|#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r:}O)T$kO)W$kO)X2iO)Y!ZO)[XO)hcO)idO~P&?sO)X2fO~O(r-UO~O)QYO)j2lO~O)X2nO~O]-YOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!{!dO!|%RO(r-UO)T-VO~O)T2sO~O]&cO!V2uO!h2vO)X)uX~O]-YO!{!dO(r-UO)T-VO~O)X2yO~O!TxO$`!iO$e!jO$g!kO$h!lO$k-bO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO$}!uO(r:nOe$Xi!o$Xi!{$Xi#i$Xi#p$Xi#t$Xi#v$Xi$R$Xi$T$Xi$Y$Xi$Z$Xi${$Xi%U$Xi%c$Xi%g$Xi%o$Xi%|$Xi(k$Xi)V$Xi!U$Xi$c$Xi~P$0kOm:{O(r:nO~P0zO]2}O~O)X2SO~O!u3PO(r%nO~O[3SO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h3TO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[3UO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO]&cO!V+kO!T%ui#v%ui)X%ui)j%ui~O!W3VO~Om:yO)X(}X~P$GQOb!TOm$oO|3]O#a#VO#b3[O#t!fO%e#UO%l3^O&m!RO&r#WO&s!TO(r$nO)QYO~P&?sOm;cO!o-pO#i-uO#t!fO${,yO%c!zO%k-tO%o!|O%v!}O(r;TO)QYO~P!8jO]&cO!V&bO)X3`O~O)X3aO~O)QYO)X3aO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)X3bO)Y#|O~P#3zO)X3bO~O)X3eO~O!U3gO~P$JbOm$oO(r$nO~O]3iO!T'yO~P'+iO!T(QO!l3lO(v(PO])Oae)Oam)Oas)Oat)Oau)Oav)Oaw)Oax)Oay)Oaz)Oa!O)Oa!V)Oa!r)Oa!s)Oa!t)Oa!u)Oa!v)Oa!x)Oa!{)Oa%v)Oa&r)Oa&s)Oa(r)Oa)T)Oa)V)Oa)W)Oa)X)Oa[)Oa!X)Oa!Y)Oa![)Oa!^)Oa!_)Oa!a)Oa!b)Oa!c)Oa!e)Oa!f)Oa!h)Oa(u)Oa(w)Oa(x)Oa)U)Oa)Y)Oa!g)Oa)j)Oa!W)OaQ)Oa!d)Oa!U)Oa#v)Oa~Om$oO!n.cO!o.cO(r$nO~O!h3pO)Y3rO!T)_X~O!o3tO)QYO~P8zO)X3uO~PGVO]3zOm({O!T$WO!{!dO%v$mO&r#WO(r(zO(v4OO)T3wO)V3{O)W3{O~O)X4PO)j4RO~P(&eOm;dO!U4TO!n.pO!o.oO#i-uO${!tO$}!uO%g!{O%k-tO%o!|O%v!}O(r;VO)QYO~P!8jOm;dO%v!}O(r;VO~P!8jO(v4UO~Om$oO!T(QO(r$nO(v(PO)QYO~O!l3lO~P((sO)j4WO!U&oX!h&oX~O!h4XO!U*QX~O!U4ZO~Ob4]Om$oO&m!RO(r$nO~O!T(ZO]&kie&kim&kis&kit&kiu&kiv&kiw&kix&kiy&kiz&ki!O&ki!V&ki!r&ki!s&ki!t&ki!u&ki!v&ki!x&ki!{&ki%v&ki&r&ki&s&ki(r&ki)T&ki)V&ki)W&ki)X&ki[&ki!X&ki!Y&ki![&ki!^&ki!_&ki!a&ki!b&ki!c&ki!e&ki!f&ki!h&ki(u&ki(w&ki(x&ki)U&ki)Y&ki!g&ki)j&ki!W&kiQ&ki!d&ki!U&ki#v&ki~O(v&ki~P(*TO(v.uO~P(*TO[4`O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[4`O~O[4aO~O]#}O!T$WO!V'Zi!X'Zi!Y'Zi!['Zi!^'Zi!_'Zi!a'Zi!b'Zi!c'Zi!e'Zi!f'Zi!h'Zi(u'Zi(w'Zi(x'Zi)T'Zi)U'Zi)V'Zi)W'Zi)X'Zi)Y'Zi!g'Zi)j'Zi['Zi!W'Zi(v'Zi!U'ZiQ'Zi!d'Zi~OPmOb%QOm:zO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)Y!ZO)[XO)hcO)idO]#]aq#]a!T#]a!V#]a)T#]a)V#]a)W#]a~O(r%nO)Y4fO[*YP~O*W4eO~O'f4hO*W4eO~O*W4iO~OmnXqoXq&wX~Oe4kO%Y*TO(y/]O~Oe4kO%Y*TO(y4lO~O!h/cO[(sa~O!W4pO~O]&cO!V+kO!T%uq#v%uq)X%uq)j%uq~O]#}O!T$WO!X'Zq!Y'Zq!['Zq!^'Zq!_'Zq!a'Zq!b'Zq!c'Zq!e'Zq!f'Zq!h'Zq(u'Zq(w'Zq(x'Zq)T'Zq)U'Zq)V'Zq)W'Zq)X'Zq)Y'Zq!g'Zq)j'Zq['Zq!W'Zq(v'Zq!U'ZqQ'Zq!d'Zq~O!V'Zq~P(5bO!V.}O&r#WO&s$wO~P(5bO!T$WO!V)rO(w)sO!U(UX!h(UX~P!JwO!h/nO!U)ra~O!W4xO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h*iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!U4|O~P&6yO!W4|O~P&6yO[4|O~P&6yO[5RO~P&6yO]5SO!h'ua)P'ua)Y'ua~O!h*OO)P)Ri)Y)Ri~O]&cO!V&bO[#Qq!T#Qq!h#Qq#v#Qq)X#Qq)j#QqQ#Qq!d#Qq(v#Qq~O[riQri!dri!hri)Yri)Xri~P#IkO]&cO!V+kO[riQri!dri!hri)Yri)Xri~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!h'Tq)X'Tq!g'Tq)j'Tq['Tq!W'Tq(v'Tq!U'TqQ'Tq!d'Tq~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!W'|a!h'|a~P#3zO!W5XO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h5YO(u#gO)T#mO)U#oO)V#nO)W#pO)X#jO)Y#|O!U)rX~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!h#{i)X#{i~P#3zO]*vO!T$WO!V&bO)j*rO!h(Va)X(Va~O!h1fO[)dX]'dX~P%2xO)Y5[O!T%qa!h%qa#v%qa)j%qa~O!h0sO!T)za#v)za)j)za~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X5_O)Y#|O~P#3zO]1SOe!POm;[O!V1QO!{!dO%v$mO(r$xO)T;xO)V5aO)W5aO~OQ#Pa!d#Pa!h#Pa[#Pa~P(DjO]1SOe!POs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V1QO!{!dO!|%RO%v$mO(r$xOQ#kX!d#kX!h#kX[#kX~Om%bO)T0zO)V;yO)W;yO~P(ElO]&cOQ#Pa!d#Pa!h#Pa[#Pa~O!V&bO)j5eO~P(GZO(r%nOQ#dX!d#dX!h#dX[#dX~O)V;yO)W;yOQ#nX!d#nX!h#nX[#nX~P' dO!V+kO~P(GZO]1SOb!TOe!POm;]O|#RO!V1QO!{!dO#a#VO#b#TO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO(r;QO)QYO)T;xO)V5aO)W5aO)Y+nO[)dP~P&?sO!h1TOQ)la!d)la~Oq&fO)j5jOQ#`am(}X!d#`a!h#`a)Y(}X~P$GQO(r-UOQ#ga!d#ga!h#ga~Oq&fO)j5jOQ#`a])^Xe)^Xm)^Xs)^Xt)^Xu)^Xv)^Xw)^Xx)^Xy)^Xz)^X!O)^X!T)^X!V)^X!d#`a!h#`a!l)^X!r)^X!s)^X!t)^X!u)^X!v)^X!x)^X!{)^X%v)^X&r)^X&s)^X(r)^X(v)^X)T)^X)V)^X)W)^X)Y)^X~O#a5mO#b5mO~O]&cO!V+kO[#ki!T#ki#v#ki)X#ki)j#kiQ#ki!d#ki!h#ki)Y#ki!x#ki(v#ki~O!W5oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W5oO~P!(zO!W5oO)T5qO~P$%pO]#ji!T#ji!V#ji[#ji#v#ji)X#ji)j#jiQ#ji!d#ji!h#ji)Y#ji!x#ji(v#ji~P$ xO)QYO)Y5sO~P8zO!h1fO[)da~O&r#WO&s$wO!T#qa!x#qa#v#qa(v#qa)j#qa[#qa!h#qa)X#qaQ#qa!d#qa)Y#qa~P#NeO[5xO~P!(zO[)oP~P!4xO)U6OO)V5|O]#Ua!T#Ua!V#Ua)T#Ua)W#Uas#Uat#Uau#Uav#Uaw#Uax#Uay#Uaz#Ua!l#Ua!x#Ua#T#Ua#V#Ua#p#Ua#v#Ua(v#Ua(x#Ua)j#Uab#Uae#Uam#Ua|#Ua!O#Ua!o#Ua!r#Ua!s#Ua!t#Ua!u#Ua!v#Ua!{#Ua#a#Ua#b#Ua#i#Ua#t#Ua${#Ua%c#Ua%e#Ua%k#Ua%l#Ua%o#Ua%v#Ua&m#Ua&r#Ua&s#Ua(r#Ua)Q#Ua)X#Ua[#Ua!h#UaQ#Ua!d#Ua~O!x!cO]#Rq!T#Rq!V#Rq#v#Rq(v#Rq)j#Rq[#Rq!h#Rq)X#RqQ#Rq!d#Rq~O!W6TO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W6TO~P!(zO!h1|OQ(za!d(za~O)X6YO~Om-eO!TxO)j6ZO~O]*vO!T$WO!V&bO!h*tO)X)qX~O)j6_O~P)+cO[6aO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[6aO~O$c6cOP$_q]$_qb$_qe$_qm$_qs$_qt$_qu$_qv$_qw$_qx$_qy$_qz$_q|$_q!O$_q!T$_q!V$_q!X$_q!Y$_q!i$_q!o$_q!r$_q!s$_q!t$_q!u$_q!v$_q!x$_q!{$_q#V$_q#a$_q#b$_q#i$_q#p$_q#t$_q#v$_q$R$_q$T$_q$Y$_q$Z$_q$`$_q$e$_q$g$_q$h$_q$k$_q$m$_q$o$_q$q$_q$s$_q$u$_q$w$_q${$_q$}$_q%U$_q%_$_q%`$_q%a$_q%c$_q%e$_q%g$_q%l$_q%o$_q%v$_q%|$_q&m$_q&r$_q&s$_q'Q$_q'R$_q'V$_q'Y$_q'a$_q'b$_q(k$_q(p$_q(r$_q)Q$_q)T$_q)V$_q)W$_q)X$_q)Y$_q)[$_q)h$_q)i$_q!U$_q~O)X6dO~OPmO]$eOb!]Om:{O|#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r:}O)T$kO)W$kO)X6fO)Y!ZO)[XO)hcO)idO~P&?sO(v6hO)j*rO~P)+cO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X6fO)Y#|O~P#3zO[6jO~P!(zO)X6nO~O)X6oO~O]-YOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!{!dO(r-UO)T-VO~O]&cO!V2uO!h%Oa)X%Oa[%Oa~O!W6uO)T6vO~P$%pO!h2vO)X)ua~O[6yO]&cO!V2uO~O!TxO$`!iO$e!jO$g!kO$h!lO$k-bO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO$}!uO(r:nOe$Xq!o$Xq!{$Xq#i$Xq#p$Xq#t$Xq#v$Xq$R$Xq$T$Xq$Y$Xq$Z$Xq${$Xq%U$Xq%c$Xq%g$Xq%o$Xq%|$Xq(k$Xq)V$Xq!U$Xq$c$Xq~P$0kOPmO]$eOb!]Om:{O|#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r:}O)QYO)T$kO)W$kO)X6{O)Y!ZO)[XO)hcO)idO~P&?sO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X7OO)Y#|O~P#3zO)X7PO~OP7QO(pQO~Om*[O)X)^X~P$GQOq&fOm(}X)X)^X~P$GQO)X7SO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O)X&Sa~P#3zO!U7UO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO)X7VO~OPmO]$eOb!]Om:|O|#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r;UO)QYO)T$kO)W$kO)Y0nO)[XO)hcO)idO[)dP~P&?sO!h3pO)Y7ZO!T)_a~O!h3pO!T)_a~O)X7`O)j7bO~P(&eO)X7dO~PGVO]3zOm({Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!{!dO!|%RO%v$mO&r#WO(r(zO)T3wO)V3{O)W3{O~O)T7hO~O]&cO!T*qO!V7jO!h7kO#v!eO(v4OO~O)X7`O)j7mO~P)FwO]3zOm({O!{!dO%v$mO&r#WO(r(zO)T3wO)V3{O)W3{O~Oq&fO])cX!T)cX!V)cX!h)cX#v)cX(v)cX)X)cX)j)cX[)cX~O)X7`O~O!T(QO!l7sO(v(PO])Oie)Oim)Ois)Oit)Oiu)Oiv)Oiw)Oix)Oiy)Oiz)Oi!O)Oi!V)Oi!r)Oi!s)Oi!t)Oi!u)Oi!v)Oi!x)Oi!{)Oi%v)Oi&r)Oi&s)Oi(r)Oi)T)Oi)V)Oi)W)Oi)X)Oi[)Oi!X)Oi!Y)Oi![)Oi!^)Oi!_)Oi!a)Oi!b)Oi!c)Oi!e)Oi!f)Oi!h)Oi(u)Oi(w)Oi(x)Oi)U)Oi)Y)Oi!g)Oi)j)Oi!W)OiQ)Oi!d)Oi!U)Oi#v)Oi~O(r%nO!U(fX!h(fX~O!h4XO!U*Qa~Oq&fO]*Pae*Pam*Pas*Pat*Pau*Pav*Paw*Pax*Pay*Paz*Pa!O*Pa!T*Pa!V*Pa!r*Pa!s*Pa!t*Pa!u*Pa!v*Pa!x*Pa!{*Pa%v*Pa&r*Pa&s*Pa(r*Pa)T*Pa)V*Pa)W*Pa)X*Pa[*Pa!X*Pa!Y*Pa![*Pa!^*Pa!_*Pa!a*Pa!b*Pa!c*Pa!e*Pa!f*Pa!h*Pa(u*Pa(w*Pa(x*Pa)U*Pa)Y*Pa!g*Pa)j*Pa!W*PaQ*Pa!d*Pa(v*Pa!U*Pa#v*Pa~O!T(ZO]&kqe&kqm&kqs&kqt&kqu&kqv&kqw&kqx&kqy&kqz&kq!O&kq!V&kq!r&kq!s&kq!t&kq!u&kq!v&kq!x&kq!{&kq%v&kq&r&kq&s&kq(r&kq)T&kq)V&kq)W&kq)X&kq[&kq!X&kq!Y&kq![&kq!^&kq!_&kq!a&kq!b&kq!c&kq!e&kq!f&kq!h&kq(u&kq(w&kq(x&kq)U&kq)Y&kq!g&kq)j&kq!W&kqQ&kq!d&kq(v&kq!U&kq#v&kq~OPmOb%QOm:zO!T$WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)[XO)hcO)idO~O]*Ui!V*Ui!X*Ui!Y*Ui![*Ui!^*Ui!_*Ui!a*Ui!b*Ui!c*Ui!e*Ui!f*Ui!h*Ui(u*Ui(w*Ui(x*Ui)T*Ui)U*Ui)V*Ui)W*Ui)X*Ui)Y*Ui!g*Ui)j*Ui[*Ui!W*Ui(v*Ui!U*UiQ*Ui!d*Ui~P*&WO[7xO~O!W7yO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!h'^q)X'^q!g'^q)j'^q['^q!W'^q(v'^q!U'^qQ'^q!d'^q~P#3zO!h7zO[*YX~O[7|O~O*W7}O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!h_y)X_y!g_y)j_y[_y!W_y(v_y!U_yQ_y!d_y~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O[(ha!h(ha~P#3zO]#}O!T$WO!V'Zy!X'Zy!Y'Zy!['Zy!^'Zy!_'Zy!a'Zy!b'Zy!c'Zy!e'Zy!f'Zy!h'Zy(u'Zy(w'Zy(x'Zy)T'Zy)U'Zy)V'Zy)W'Zy)X'Zy)Y'Zy!g'Zy)j'Zy['Zy!W'Zy(v'Zy!U'ZyQ'Zy!d'Zy~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!h'^y)X'^y!g'^y)j'^y['^y!W'^y(v'^y!U'^yQ'^y!d'^y~P#3zO]&cO!V+kO!T%uy#v%uy)X%uy)j%uy~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!U(Ua!h(Ua~P#3zO!W4xO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!U#}i!h#}i~P#3zO!U8PO~P&6yO!W8PO~P&6yO[8PO~P&6yO[8RO~P&6yO]&cO!V&bO[#Qy!T#Qy!h#Qy#v#Qy)X#Qy)j#QyQ#Qy!d#Qy(v#Qy~O]&cO!V+kO[rqQrq!drq!hrq)Yrq)Xrq~O]&cOQ#Pi!d#Pi!h#Pi[#Pi~O!V+kO~P*9jOQ#nX!d#nX!h#nX[#nX~P(DjO!V&bO~P*9jOQ(OX](OXe'qXm'qXs(OXt(OXu(OXv(OXw(OXx(OXy(OXz(OX!V(OX!d(OX!h(OX!{'qX%v'qX(r'qX)T(OX)V(OX)W(OX[(OX~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|OQ#_i!d#_i!h#_i[#_i~P#3zO&r#WO&s$wOQ#fi!d#fi!h#fi~O(r-UO)Y1YO)j1XOQ#`X!d#`X!h#`X~O!W8WO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W8WO~P!(zO!T#qi!x#qi#v#qi(v#qi)j#qi[#qi!h#qi)X#qiQ#qi!d#qi)Y#qi~O]&cO!V+kO~P*?fO]&YO!V&WO&r#WO&s$wO)T&VO)V&ZO)W&ZO~P*?fO[8YO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!h8ZO[)oX~O[8]O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|OQ*TX!d*TX!h*TX~P#3zO)Y8`OQ*SX!d*SX!h*SX~O)X8bO~O[$bi!h#{a)X#{a~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X8eO)Y#|O~P#3zO[8gO~P!(zO[8gO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[8gO~O]&cO!V&bO(v8mO~O)X8nO~O]&cO!V2uO!h%Oi)X%Oi[%Oi~O!W8qO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W8qO)T8sO~P$%pO!W8qO~P!(zO]&cO!V2uO!h(Ya)X(Ya~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)X8tO)Y#|O~P#3zO)X2iO~P!(zO)X8tO~OP%oO[8uO(pQO~O[8uO~O)X8vO~P%%eO#T8yO(x.PO)X8wO~O!h3pO!T)_i~O)Y8}O!T'wa!h'wa~O)X9PO)j9RO~P)FwO)X9PO~O)X9PO)j9VO~P(&eOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O~P)GgO]&cO!V7jO!T!ya!h!ya#v!ya(v!ya)X!ya)j!ya[!ya~O!W9^O)T9_O~P$%pO!T$WO!h7kO(v4OO)X9PO)j9VO~O!T$WO~P#EfO[9bO]&cO!V7jO~O]&cO!V7jO!T&aa!h&aa#v&aa(v&aa)X&aa)j&aa[&aa~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O)X&ba~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X9PO)Y#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!U&oi!h&oi~P#3zO!V.}O]']i!T']i!X']i!Y']i![']i!^']i!_']i!a']i!b']i!c']i!e']i!f']i!h']i(u']i(w']i(x']i)T']i)U']i)V']i)W']i)X']i)Y']i!g']i)j']i[']i!W']i(v']i!U']iQ']i!d']i~O(r%nO)Y9eO~O!h7zO[*Ya~O[9gO~P&6yO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!U(Ua)X#Zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|OQ#_q!d#_q!h#_q[#_q~P#3zO&r#WO&s$wOQ#fq!d#fq!h#fq~O)j5jOQ#`a!d#`a!h#`a~O]&cO!V+kO!T#qq!x#qq#v#qq(v#qq)j#qq[#qq!h#qq)X#qqQ#qq!d#qq)Y#qq~O!h8ZO[)oa~O)V5|O]&Vi!T&Vi!V&Vi)T&Vi)U&Vi)W&Vis&Vit&Viu&Viv&Viw&Vix&Viy&Viz&Vi!l&Vi!x&Vi#T&Vi#V&Vi#p&Vi#v&Vi(v&Vi(x&Vi)j&Vib&Vie&Vim&Vi|&Vi!O&Vi!o&Vi!r&Vi!s&Vi!t&Vi!u&Vi!v&Vi!{&Vi#a&Vi#b&Vi#i&Vi#t&Vi${&Vi%c&Vi%e&Vi%k&Vi%l&Vi%o&Vi%v&Vi&m&Vi&r&Vi&s&Vi(r&Vi)Q&Vi)X&Vi[&Vi!h&ViQ&Vi!d&Vi~O)X9jO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O[$bq!h#{i)X#{i~P#3zO[9lO~P!(zO[9lO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[9lO~O]&cO!V&bO(v9oO~O[9pO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[9pO~O]&cO!V2uO!h%Oq)X%Oq[%Oq~O!W9tO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W9tO~P!(zO)X6fO~P!(zO)X9uO~O)X9vO~O(x.PO)X9vO~O!h3pO!T)_q~O)Y9xO!T'wi!h'wi~O!T$WO!h7kO(v4OO)X9yO)j9{O~O)X9yO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X9yO)Y#|O~P#3zO)X9yO)j:OO~P)FwO]&cO!V7jO!T!yi!h!yi#v!yi(v!yi)X!yi)j!yi[!yi~O!W:SO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W:SO)T:UO~P$%pO!W:SO~P!(zO]&cO!V7jO!T(da!h(da(v(da)X(da)j(da~O[:WO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[:WO~O[:]O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[:]O~O]&cO!V2uO!h%Oy)X%Oy[%Oy~O)X:^O~O)X:_O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X:_O)Y#|O~P#3zO!T$WO!h7kO(v4OO)X:_O)j:bO~O]&cO!V7jO!T!yq!h!yq#v!yq(v!yq)X!yq)j!yq[!yq~O!W:dO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W:dO~P!(zO[:fO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[:fO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X:hO)Y#|O~P#3zO)X:hO~O]&cO!V7jO!T!yy!h!yy#v!yy(v!yy)X!yy)j!yy[!yy~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X:lO)Y#|O~P#3zO)X:lO~O]ZXmhXqZXqjX!TjX!VZX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX(uZX(v$]X(wZX(xZX)TZX)UZX)VZX)WZX)XZX)YZX)jZX~O]%WXmnXqoXq%WX!ToX!V%WX!X%WX!Y%WX![%WX!^%WX!_%WX!a%WX!b%WX!c%WX!e%WX!f%WX!gnX!h%WX(u%WX(w%WX(x%WX)T%WX)U%WX)V%WX)W%WX)Y%WX)jnX[%WXQ%WX!d%WX~O)X%WX!W%WX(v%WX!U%WX~P+GrO]oX]%WXeoXmnXqoXq%WXsoXtoXuoXvoXwoXxoXyoXzoX!OoX!VoX!V%WX!roX!soX!toX!uoX!voX!xoX!{oX%voX&roX&soX(roX)ToX)VoX)WoX[oX[%WX!hoX)YoX~O)XoX)joX~P+JSO]%WXmnXqoXq%WX!V%WX!h%WXQ%WX!d%WX[%WX~O!T%WX#v%WX)X%WX)j%WX(v%WX~P+LmOQoXQ%WX!ToX!X%WX!Y%WX![%WX!^%WX!_%WX!a%WX!b%WX!c%WX!doX!d%WX!e%WX!f%WX!gnX!h%WX(u%WX(w%WX(x%WX)T%WX)U%WX)V%WX)W%WX)Y%WX)jnX~P+JSO]oX]%WXmnXqoXq%WXsoXtoXuoXvoXwoXxoXyoXzoX!OoX!V%WX!roX!soX!toX!uoX!voX!xoX!{oX%voX&roX&soX(roX)ToX)VoX)WoX~O!ToX(voX)XoX)joX~P, eOeoX!VoX)X%WX~P, eOmnXqoX)X%WX~Oe)oO%Y)pO(y:oO~Oe)oO%Y)pO(y:tO~Oe)oO%Y)pO(y:pO~Oe$RO%Y*TO'[$TO'_$UO(y:oO~Oe$RO%Y*TO'[$TO'_$UO(y:qO~Oe$RO%Y*TO'[$TO'_$UO(y:sO~O[jX]jXsjXtjXujXvjXwjXxjXyjXzjX!VjX&rjX&sjX)TjX)VjX)WjXejX!OjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX(rjX~P#1jO]ZXmhXqZXqjX!VZX!hZX)XZX)jZX~O!TZX#vZX(vZX~P,'{OmhXqjX)QjX)XZX)jjX~O]ZX]jXejXmhXqZXqjXsjXtjXujXvjXwjXxjXyjXzjX!OjX!VZX!VjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(rjX)TjX)VjX)WjX[ZX[jX!hjX)YjX)jjX~O)XZX~P,)VO]ZX]jXmhXqZXqjXsjXtjXujXvjXwjXxjXyjXzjX!TjX!VZX!VjX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX!hjX&rjX&sjX(uZX(wZX(xZX)TZX)TjX)UZX)VZX)VjX)WZX)WjX)YZX)YjX)jZX~OQZXQjX!dZX!djX~P,+pO]jXejXsjXtjXujXvjXwjXxjXyjXzjX!OjX!VjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(rjX)TjX)VjX)WjX~P#1jO]ZX]jXejXmhXqZXqjXsjXtjXujXvjXwjXxjXyjXzjX!OjX!VZX!VjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(rjX)TjX)VjX)WjX~O)XjX~P,0rO[ZX[jXejX!OjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX(rjX)jjX~P,+pO]ZX]jXmhXqZXqjXsjXtjXujXvjXwjXxjXyjXzjX!OjX!TjX!VZX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(rjX(vjX)TjX)VjX)WjX)XjX)jjX~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O~PBUOe$RO%Y*TO(y:oO~Oe$RO%Y*TO(y:pO~Oe$RO%Y*TO(y:vO~Oe$RO%Y*TO(y:uO~O]%hOe!POm%bOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V%kO!{!dO!|%RO%v$mO(r$xO)T;aO)V;bO)W;bO~O]%hOe!POm%bO!V%kO!{!dO%v$mO(r$xO)T;aO)V;bO)W;bO~Oe$RO%Y$SO(y:pO~Oe$RO%Y$SO(y:tO~Om:yO~Om:xO~O]dXmhXqjX!TdX~Oe)oO%Y*TO(y:oO~Oe)oO%Y*TO(y:pO~Oe)oO%Y*TO(y:qO~Oe)oO%Y*TO(y:rO~Oe)oO%Y*TO(y:sO~Oe)oO%Y*TO(y:uO~Oe)oO%Y*TO(y:vO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O~P,9OO](}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}Xz(}X!O(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)T(}X)V(}X)W(}X)j(}X~Om:xO!T(}X(v(}X)X(}X~P,<}O]&wXmnXqoX!T&wX~Oe4kO%Y*TO(y;tO~Om;[O)T;xO)V5aO)W5aO~P(ElOe!POm%bO!{!dO%v$mO(r$xO~O]1SO!V1QO)T0zO)V;yO)W;yOQ#nX!d#nX!h#nX[#nX~P,?yO)T;YO~Om;hO~Om;iO~Om;jO~Om;lO~Om;mO~Om;nO~Om;lO!T$WOQ(}X!d(}X!h(}X)Y(}X[(}X)j(}X~P$GQOm;jO!T$WO~P$GQOm;hO!g$YO)j$YO~Om;jO!g$YO)j$YO~Om;lO!g$YO)j$YO~Om;iO[(}X!h(}X)Y(}X)j(}X~P$GQOe/^O%Y*TO(y;tO~Om;uO~O)T<YO~OV'e'h'i'g(p)[!R(rST%Z!Y!['je%[!i'R!f]'f*Z'k(w!^!_'l'm'l~",goto:"%5]*ZPPPPPP*[P*_PP.TPP4i7j7j:tP:t>OP>i>{?aFXMX!&]!,sP!3m!4b!5VP!5qPPPPPPPP!6[P!7tP!9V!:oP!:uPPPPPP!:xP!:xPP!:xPPPPPPPPP!;U!>lP!>oPP!?]!@QPPPPP!@UP>l!AgPP>l!Cn!Eo!E}!Gd!ITP!I`P!Io!Io!MP#!`##v#'S#*^!Eo#*hPP!Eo#*o#*u#*h#*h#*xP#*|#+k#+k#+k#+k!ITP#,U#,g#.|P#/bP#0}P#1R#1Z#2O#2Z#4i#4q#4q#1RP#1RP#4x#5OP#5YPP#5u#6d#7U#5uP#7v#8SP#5uP#5uPP#5u#5uP#5uP#5uP#5uP#5uP#5uP#5uP#8V#5Y#8sP#9YP#9o#9o#9o#9o#9|#1RP#:d#?`#?}PPPPPPPP#@uP#ATP#ATP#Aa#Dn#9OPP#@}#EQP#Ee#Ep#Ev#Ev#@}#FlP#1R#1R#1R#1R#1RP!Io#GW#G_#G_#G_#Gc!Ly#Gm!Ly#Gq!E}!E}!E}#Gt#L^!E}>l>l>l$#V!@Q!@Q!@Q!@Q!@Q!@Q!6[!6[!6[$#jP$%V$%e!6[$%kPP!6[$'y$'|#@l$(P:t7j$+V$-Q$.q$0a7jPP7j$2T7jP7j7jP7jP$5Z7jP7jPP7j$5gPPPPPPPPP*[P$8o$8u$;^$=d$=j$>Q$>[$>g$>v$>|$@[$AZ$Ab$Ai$Ao$Aw$BR$BX$Bd$Bj$Bs$B{$CW$C^$Ch$Cn$Cx$DP$D`$Df$DlP$Dr$Dz$ER$Ea$F}$GT$GZ$Gb$GkPPPPPPPP$Gq$GuPPPPP$Nw$'y$Nz%$S%&[PP%&i%&lPPPPPPPPP%&x%'{%(R%(V%)|%+Z%+|%,T%.d%.jPPP%.t%/P%/S%/Y%0a%0d%0n%0x%0|%2Q%2s%2y#@uP%3d%3t%3w%4X%4e%4i%4o%4u$'y$'|$'|%4x%4{P%5V%5YR#cP'`mO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fU%om%p7QQ&m!`Q(j#]d0P)}/|/}0O0R4}5O5P5S8QR7Q3Tb}Oaewx{!g&S*q&v$i[!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0{1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fS%`f0h#d%jgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YS%qm!YS&u!h#PQ']!tQ'g!yQ'h!zQ(j#`Q(k#]Q(l#^Q*x%kQ,W&lQ,]&nQ-S'^Q-d'fQ-k'qS.r(Z4XQ/f)gQ0e*mQ2Q,[Q2X,cQ3O-eQ4b.|Q4f/TQ5f0}Q6[2TQ6}3PQ8a6ZQ9e7zR;Z1Q$|#hS!]$y%Q%T%Z&j&k'Q'X'Z'a'c(a(e(h(w(x)R)S)T)U)V)W)X)Y)Z)[)])^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:iQ&p!dQ(g#ZQ(s#bQ)j$T[*s%e*W0k2`2g2{Q,^&oQ/O(fQ/S(kQ/Z(tS/i)i/PQ0r+QS4q/j/kR8O4r'a![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f'a!VO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ)O#kS+Q%y0sQ/r)sk3}.g3s3w3z3{7c7e7f7h7k9X9Y:RQ)Q#kk3|.g3s3w3z3{7c7e7f7h7k9X9Y:Rl)P#k.g3s3w3z3{7c7e7f7h7k9X9Y:RT+Q%y0s[UOwx!g&S*qW$`[e$e(b#l$p_!f!u!}#R#S#T#U#V#Z$S$T$l%U&U&Y&c&m'_'}(P(U(^(g)j)p+[+a+b+t+y,X,k,z-Q-o-t.W.X._.`.d.q.u1T1X1f1k1m2l3[3]3^3p3t5j5}6P7[8Z![%cg$g%d%i&s*Y*t+],l,v-_0z1O2_;W;X;Y;a;b;o;p;q;r;v;w;y<W<X<YY%snp%w-p.fl(|#k.g3s3w3z3{7c7e7f7h7k9X9Y:RS;e't-wU;f(Q.m.o&|;{af{|!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k$|$}%S%]%h%m&Q&W&b&y&|'O'i'j'u'y(`(i)l)r*`*b*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0]0h0y0{1Q1a1b1l1p1z2c2i2j2u4O4R4W4a5Y5a5e5q6_6c6f6g6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f;`;xQ;|1Sd;}&x'P'b,w-]-^-a2f2z2}W<O&f*v1|3iQ<P#O[<Q!t'^'f,[2T6ZT<]%y0s[VOwx!g&S*qW$a[e$e(bQ$p.u!j$q_!f!u!}#V#Z$S$T$l%U&U&Y&c&m'_(g)j)p+[+a+t,X,k,z-Q-o.d1T1X1f1k1m2l3t5j8Z&^$zaf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f![%cg$g%d%i&s*Y*t+],l,v-_0z1O2_;W;X;Y;a;b;o;p;q;r;v;w;y<W<X<YY%snp%w-p.fQ'r#O|'|#R#S#T#U'}(P(U(^+b+y.W.X._.`.q3[3]3^3p5}6P7[l(|#k.g3s3w3z3{7c7e7f7h7k9X9Y:RS-n't-wQ3W-tU;s(Q.m.on;{|$|$}%S%h'u*`*b0]0y2j5a6g;`;x[<Q!t'^'f,[2T6ZW<R&f*v1|3id<S&x'P'b,w-]-^-a2f2z2}Q<Z1ST<]%y0s!Q!UO[ewx!g$e&S&f&x'P'b(b*q*v,w-]-^-a1|2f2z2}3i!v$t_!f!u!}#O#V#Z$S$T$l%U&U&Y&c&m'_'t(Q(g)j)p+[+t,X,k,z-Q-o-w.d.m.o1S1T1X1f1k1m2l3t5j8Z&^%Paf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f$Q%lgnp|#k$g$|$}%S%d%h%i%w%y&s'^'f'u*Y*`*b*t+],[,l,v-_-p.f.g0]0s0y0z1O2T2_2j3s3w3z3{5a6Z6g7c7e7f7h7k9X9Y:R;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YQ'[!tz(O#R#S#T#U'}(P(U(^+y.W.X._.`.q3[3]3^3p5}6P7[f-Z'`-T-V-Y2p2q2s2v6q6r8pQ1W+aQ1Z+bQ2k,yQ3X-tQ4[.uQ5l1YR8V5m!Q!UO[ewx!g$e&S&f&x'P'b(b*q*v,w-]-^-a1|2f2z2}3i!x$t_!f!u!}#O#V#Z$S$T$l%U&U&Y&c&m'_'t(Q(g)j)p+[+a+t,X,k,z-Q-o-w.d.m.o1S1T1X1f1k1m2l3t5j8Z&^%Paf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f$S%lgnp|!t#k$g$|$}%S%d%h%i%w%y&s'^'f'u*Y*`*b*t+],[,l,v-_-p.f.g0]0s0y0z1O2T2_2j3s3w3z3{5a6Z6g7c7e7f7h7k9X9Y:R;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Y|(O#R#S#T#U'}(P(U(^+b+y.W.X._.`.q3[3]3^3p5}6P7[Q3X-tR4[.u[WOwx!g&S*qW$b[e$e(b#l$p_!f!u!}#R#S#T#U#V#Z$S$T$l%U&U&Y&c&m'_'}(P(U(^(g)j)p+[+a+b+t+y,X,k,z-Q-o-t.W.X._.`.d.q.u1T1X1f1k1m2l3[3]3^3p3t5j5}6P7[8Z![%cg$g%d%i&s*Y*t+],l,v-_0z1O2_;W;X;Y;a;b;o;p;q;r;v;w;y<W<X<YY%snp%w-p.fl(|#k.g3s3w3z3{7c7e7f7h7k9X9Y:RS;e't-wU;f(Q.m.on;{|$|$}%S%h'u*`*b0]0y2j5a6g;`;xQ;|1SQ<P#O[<Q!t'^'f,[2T6Z&^<Taf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fd<U&x'P'b,w-]-^-a2f2z2}W<V&f*v1|3iT<]%y0sp$PT$_$o%b%r({:z:{:|;[;];^;_;c;d<[o)m$V*U*[/_:w:x:y;h;i;j;k;l;m;n;up$QT$_$o%b%r({:z:{:|;[;];^;_;c;d<[o)n$V*U*[/_:w:x:y;h;i;j;k;l;m;n;u^&e}!O$i$j%`%j;Zd&i!U$t%P%l'[(O1W1Z3X4[V/a)O)P3}S%Ye$eQ,T&fQ.{(bQ2m-QQ5y1mQ6V1|Q6m2lR9h8Z#}!TO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o1S1T1X1f1k1m1|2f2l2z2}3i3t5j8Z#[^O[_`wx!f!g!}#O$S$d$l$s$u&S&U&Y&c&m&r&x'P'b't(Q)p*]*q*v+[,X,k,w,z-]-^-a-o-t-w.d.m.o1S1T1f2f2z2}3i3t_(U#R#S#T+b3[3]3^#}ZO[wx!g!k#R#S#T%m&S&U&Y&c&m&w&x&y&|'O'P'['b't'x'}(P(Q(U*q*v+[+b,X,h,k,q-P-]-^-a-o-t-w-z._.d.m.q1S1T1f2c2k2z2}3[3]3^3i6c6j8g9l9p:W:]:fQ$]YR0T*OR*Q$]e0P)}/|/}0O0R4}5O5P5S8Q'`!YO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fe0P)}/|/}0O0R4}5O5P5S8QR5T0T^(T#R#S#T+b3[3]3^Y.]'}(R(U(V7TU3k.Z.^.qS7X3l4VR9c7s^(S#R#S#T+b3[3]3^[.['}(R(T(U(V7TW3j.Z.].^.qU7W3k3l4VS8z7X7sR:V9cT.k(Q.md]Owx!g&S't(Q*q-w.m!v^[_`!f!}#O$S$d$l$s$u&U&Y&c&m&r&x'P'b)p*]*v+[,X,k,w,z-]-^-a-o-t.d.o1S1T1f2f2z2}3i3tQ%tnT1u+}1v!jbOaenpwx{|!g#O$|$}%S%h%w&S't'u(Q*`*b*q-p-w.f.m.o0]0y1S2j5a6g;`;xf-W'`-T-V-Y2p2q2s2v6q6r8pj3x.g3s3w3z3{7c7e7f7h7k9X9Y:Rr;zg$g%d%i&s*Y*t,l,v-_2_;W;X;Y;o;q;vi<^+]0z1O;a;b;p;r;w;y<W<X<Y!O&^y%X&V&Y&Z'k)h*d*f+]+e+x/m0^0y0z1O1S1j5a5v;x;yz&az%O%W%e&d's*W*_,b-x0Z0[0k0|2`2g2{5V5b6l8iS'{#Q.Xn+l&X*g+f+m+p-j/h0_1R1^4t5W5`5u8XQ2W,a^2t-X2r2x6p6w8o9se7i3y7_7g7o7p9U9W9`:Q:cS+^&U1TY+n&Y&c*v1S3iR5s1f#w!POaegnpwx{|!g#O$g$|$}%S%d%h%i%w&S&s't'u(Q*Y*`*b*q*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Y`oOwx!g&S't*q-w#U!Paeg{|#O$g$|$}%S%d%h%i&s'u*Y*`*b*t+],l,v-_0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YU%vnp-pQ*}%wS.e(Q.mT3v.f.oW+r&^+l+s1cV+z&a+{7iQ+x&`U+z&a+{7iQ-w'tT.S'y.U'`![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fX1r+y.X5}6P'W!VO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fW1r+y.X5}6PR2e,s!WjO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fY%Ve$e(b1p3iQ'S!nS(y#i5YQ,m&xQ,x'PS.O'y.UQ2b,nQ6k2iQ6|2}Q8h6fR9m8e'W![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fX1r+y.X5}6P'ayO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k+y,P,R,n,q,w-]-^-a-g.P.Q.U.X.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q5}6P6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ&`yS't#O-uR1[+cS+^&U1TR5n1[Q1P+]R5g1OR1P+]T+^&U1Tz&[%X&V&Y&Z'k)h*d*f+]+e/m0^0y0z1O1S1j5a5v;x;yQ&]yR1n+x!P&[y%X&V&Y&Z'k)h*d*f+]+e+x/m0^0y0z1O1S1j5a5v;x;yQ+u&^S+|&a7iS1d+l+sQ1t+{R5r1c!WkO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fS%zo.eS&Oq-rQ&_yQ&q!eQ'e!yQ*p%eU*{%v%{3vS+P%x%}Q+q&]Q,Y&mS,Z&n'gQ,r&{S0X*W,bS0o*|*}Q0q+OQ1o+xS2S,]-fQ5U0ZQ5Z0pQ5{1nQ6Y2RQ6]2WQ7n3yQ9S7_R:P9U[uOwx!g&S*qQ,Y&mQ-v'tQ3Y-tR3_-wxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fU$h[&|-^S%zo.eS&Oq-rQ*p%eU*{%v%{3vS+P%x%}S0X*W,bS0o*|*}Q0q+OQ5U0ZQ5Z0pQ7n3yQ9S7_R:P9UT,_&q,`]uOwx!g&S*q[uOwx!g&S*qQ,Y&mQ,n&xQ,w'PW-`'b-]-a2zQ-v'tQ3Y-tQ3_-wR6{2}[%fg$g,l,v-_2_R0l*t^$XV!U$a$z%P<R<SQ'S!nS)`#}*vS)v$W*qQ)y$YY*s%e*W0k2g2{Q/O(fS/i)i/PS0a*h4aS0j*r6_Q0r+QQ4Q.gQ4n/cS4q/j/kS4v/n5YQ4{/uQ6`2`U7a3s3y4RQ8O4rQ8k6hY9Q7_7b7c7l7mQ9r8mW9z9O9R9U9VQ:Z9oU:a9{9}:OR:j:bS)v$W*qT4v/n5YZ)t$W)u*q/n5YQ&w!hR'x#PS,g&v'vQ2[,eR6^2ZxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fV$h[&|-^!XkO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:f!WhO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fR'W!q!WkO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fR,n&xQ&y!iQ&{!jQ'O!lR,q&zR,o&xxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fX-`'b-]-a2z[uOwx!g&S*qQ,z'PQ-v'tS.k(Q.mR3_-w[uOwx!g&S*qQ,z'PW-`'b-]-a2zT.k(Q.mg-Z'`-T-V-Y2p2q2s2v6q6r8pylOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fb!OOaewx{!g&S*q&|$j[f!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f#d%jgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YQ']!tQ-S'^Q-d'fQ2Q,[Q6[2TR8a6Zj$RT$_%b%r:z:{:|;[;];^;_;c;di)o$V*U:w:x:y;h;i;j;k;l;m;nj$RT$_%b%r:z:{:|;[;];^;_;c;dh)o$V*U:w:x:y;h;i;j;k;l;m;nS/^({<[V4k/_/`;u[uOwx!g&S*qQ-v'tR3_-w[uOwx!g&S*qT.k(Q.m'`!YO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fR7R3T[uOwx!g&S*qQ-v'tS.k(Q.mR3_-w[pOwx!g&S*qQ%wnS-p't-wT.f(Q.mS%{o.eS*|%v3vR0p*}Q+R%yR5]0sS%zo.eS&Oq-rU*{%v%{3vS+P%x%}S0o*|*}Q0q+OQ5Z0pQ7n3yQ9S7_R:P9U`qOwx!g&S(Q*q.mS%xn-pU%}p.f.oQ+O%wT-r't-wS'z#Q.XR.Y'{T.R'y.US.S'y.UQ8x7UR9w8yT5}1q8_R6P1q#d!Pgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Yb!QOaewx{!g&S*q&}![[f!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f#d!Pgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Yb!QOaewx{!g&S*q&|![[f!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fk3|.g3s3w3z3{7c7e7f7h7k9X9Y:RQ4Q.gS7a3s3yU9Q7_7c7lS9z9O9UR:a9}#|!TO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o1S1T1X1f1k1m1|2f2l2z2}3i3t5j8ZR4].uQ(]#US.v([(^S4^.w.xR7w4_Q.s(ZR7u4X#|!TO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o1S1T1X1f1k1m1|2f2l2z2}3i3t5j8Zp$w`$d$s%X&r'`(_(f)i*d-T/k1j5k5v8Uq(}#k%y.g0s3s3w3z3{7c7e7f7h7k9X9Y:RR,U&fR6W1|'X!VO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f$q#rS%T%Z'Q'X'Z'a'c(a(e(h(w(x)R)S)U)V)W)X)Y)Z)[)])^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i$]#sS%T%Z'Q'X'Z'a'c(h(w(x)R)V)^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i$Z#tS%T%Z'Q'X'Z'a'c(h(w(x)R)^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i$c#wS%T%Z'Q'X'Z'a'c(h(w(x)R)U)V)W)X)^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i'X![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ/P(fQ/j)iQ4r/kR9d7y']![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ#eQR(u#eU$|a;`;xb%Ue$e&f(b-Q1m1|2l8ZQ'_!u!Q*^$|%U'_*`*f+h,P0]0^1b2p6q6t7e8p9X9]:R;W;o;p;v;w<WS*`$}%SQ*f%XS+h&W1QQ,P&bQ0]*bQ0^*dQ1b+kQ2p-VS6q2q2sQ6t2uQ7e3wQ8p6rS9X7f7hQ9]7jQ:R9YQ;W%dS;o;X;YS;p<X<YQ;v;qQ;w;rT<W0z;a[[Owx!g&S*ql$c[&|'}+[,X,h,k-P-^-o-z._.d.ql&|!k%m&y'O,q2c6c6j8g9l9p:W:]:f^'}#R#S#T+b3[3]3^`+[&U&Y&c*v1S1T1f3iS,X&m-tQ,h&wU,k&x'P2}S-P'[2kW-^'b-]-a2zS-o't-wQ-z'xQ._(PS.d(Q.mR.q(UQ)|$[R/x)|Q0R)}Q4}/|Q5O/}Q5P0OY5Q0R4}5O5P8QR8Q5SQ*P$]S0U*P0VR0V*QS.`(P._S3n.`7[R7[3pQ3q.aS7Y3o3rU7^3q7Y8{R8{7ZQ.m(QR4S.m!|_O[wx!f!g!}#O$S$l&S&U&Y&c&m&x'P'b't(Q)p*q*v+[,X,k,w,z-]-^-a-o-t-w.d.m.o1S1T1f2f2z2}3i3tU$r_$u*]U$u`$d&rR*]$sU$}a;`;xd*a$}*b2q6r7f9Y;X;q;r<XQ*b%SQ2q-VQ6r2sQ7f3wQ9Y7hQ;X%dQ;q;YQ;r<YT<X0z;aS+{&a7iR1s+{S*j%Z/pR0c*jQ1U+_R5i1UU+e&V0z;xR1]+eQ+s&^Q1c+lT1i+s1cQ8[5yR9i8[QwOS&Rw&ST&Sx*qQ,`&qR2V,`W)u$W*q/n5YR/t)uU/o)q)v0gR4w/o[*u%e%f*W2`2g2{R0m*uQ,d&uR2Y,dQ-a'bQ2z-]T2|-a2zQ2w-XR6x2wQ-f'gQ2R,]T3Q-f2RS%pm7QR*z%pdnOwx!g&S't(Q*q-w.mR%unQ0t+RR5^0tQ.U'yR3f.UQ1v+}R6Q1vU*n%`*x;ZR0f*nS1g+n0nR5t1gQ7l3yQ9O7_U9a7l9O9}R9}9U$O!SO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o.u1S1T1X1f1k1m1|2f2l2z2}3i3t5j8ZR&g!SQ4Y.sR7v4YQ1},UR6X1}S/d)_)`R4o/dW(o#a(j(k/SR/W(oQ7{4fR9f7{T)a#}*v!USO[wx!g!k%m&S&y&|'O'b,q-]-^-a2c2z6c6j8g9l9p:W:]:fj$ya{$k%]+j,R1a1z5q6v8s9_:UY%Te$e(b1p3iY%Zf$f(i)l*lQ&j!WQ&k!XQ'Q!nQ'X!rQ'Z!sQ'a!vQ'c!xQ(a#XQ(e#YS(h#[+YQ(w#gQ(x#iQ)R#lQ)S#qQ)T#rQ)U#sQ)V#tQ)W#uQ)X#vQ)Y#wQ)Z#xQ)[#yQ)]#zQ)^#{S)_#}*vQ)k$UQ)q$WQ)x$YQ+X&QS+g&W1QQ,O&bQ,S&fQ,j&xQ,u'PQ-h'iQ-i'jS-|'y.UQ.y(`S/p)r0hS0`*h4aQ0b*iQ0g*qQ0i*rQ0w+WS1`+h+kQ1y,PQ2a,nS2h,w6{Q3R-gQ3c.PQ3d.QQ4c.}Q4d/QQ4j/[Q4m/cQ4s/lQ4u/nQ4y/sQ4z/uQ5d0{Q5p1bQ5w1lQ6U1|S6e2f8tQ6i2iQ6s2uQ6z2}Q7q4OQ7r4RQ7t4WQ8S5YQ8T5eQ8c6_Q8f6fQ8j6hQ8r6tS9T7b7mQ9[7jQ9k8eQ9q8mS9|9R9VQ:T9]Q:Y9oS:`9{:OR:i:bR,V&fd]Owx!g&S't(Q*q-w.m!v^[_`!f!}#O$S$d$l$s$u&U&Y&c&m&r&x'P'b)p*]*v+[,X,k,w,z-]-^-a-o-t.d.o1S1T1f2f2z2}3i3t#r${ae!u$e$|$}%S%U%X%d&W&b&f'_(b*`*b*d*f+h+k,P-Q-V0]0^1Q1b1m1|2l2p2q2s2u3w6q6r6t7e7f7h7j8Z8p9X9Y9]:R;W;X;Y;`;a;o;p;q;r;v;w<W<X<YQ%tnS+d&V+eW+r&^+l+s1cU+z&a+{7iQ1k+tT5c0z;x``Owx!g&S't*q-wS$d[-oQ$s_b%Xe$e&f(b-Q1m1|2l8Z!h&r!f!}#O$S$l&U&Y&c&m&x'P'b(Q)p*v+[,X,k,w,z-]-^-a-t.d.m.o1S1T1f2f2z2}3i3tQ'`!uS(_#V+aQ(f#ZS)i$T(gQ*d%UQ-T'_Q/k)jQ1j+tQ5k1XQ5v1kR8U5jS(W#R3]S(X#S3^V(Y#T+b3[R$^Ye0Q)}/|/}0O0R4}5O5P5S8QW(R#R#S#T+bQ([#US.Z'}(US.a(P._Q.x(^W1r+y.X5}6PQ3Z-tQ3h.WQ3o.`Q4V.qU7T3[3]3^Q7]3pR8|7[Q.b(PR3m._T.l(Q.mdgOwx!g&S&m't*q-t-wU$g[,X-oQ&s!fQ'k!}Q'u#OQ)h$SQ*Y$l`+]&U&Y&c*v1S1T1f3iQ,l&xQ,v'PY-_'b-]-a2z2}S.g(Q.mQ/m)pQ0y+[S2_,k-^S2j,w,zS3s.d.oQ6g2fR7c3td]Owx!g&S't(Q*q-w.m!v^[_`!f!}#O$S$d$l$s$u&U&Y&c&m&r&x'P'b)p*]*v+[,X,k,w,z-]-^-a-o-t.d.o1S1T1f2f2z2}3i3tR%tnQ3y.gQ7_3sQ7g3wQ7o3zQ7p3{Q9U7cU9W7e7f7hQ9`7kS:Q9X9YR:c:RZ+o&Y&c*v1S3ipzOnpwx!g%w&S't(Q*q-p-w.f.m.o[%Oa%d0z;`;a;xU%We%h1SQ%eg^&d{|%i1O5a;b;yQ's#OQ*W$gb*_$|$}%S;W;X;Y<W<X<YQ,b&sQ-x'uQ0Z*Y[0[*`*b;o;p;q;rQ0k*tQ0|+]Q2`,lQ2g,vS2{-_2_U5V0];v;wQ5b0yQ6l2jR8i6gQ+}&aR9Z7iS1q+y.XQ8^5}R8_6P[%^f$f(i)l)r0hR0d*lR+`&UQ+_&UR5h1TS&Xy+xQ*g%XU+f&V0z;xS+m&Y1SW+p&Z1O5a;yQ-j'kQ/h)hS0_*d*fQ1R+]Q1^+eQ4t/mQ5W0^Q5`0yQ5u1jR8X5vR5z1mYvOwx&S*qR&t!gW%gg,l,v-_T*X$g2_T)w$W*q[uOwx!g&S*qQ&}!kQ*y%mQ,p&yQ,t'OQ2d,qQ6b2cQ8d6cQ8l6jQ9n8gQ:X9lQ:[9pQ:e:WQ:g:]R:k:fxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fU$h[&|-^X-`'b-]-a2zQ-['`R2o-TS-X'`-TQ2r-VQ2x-YU6p2p2q2sQ6w2vS8o6q6rR9s8p[rOwx!g&S*qS-q't-wT.h(Q.mR+S%y[sOwx!g&S*qS-s't-wT.i(Q.m[tOwx!g&S*qT.j(Q.mT.T'y.UX%af%k0h1QQ.w([R4_.xR.t(ZR(d#XQ(r#aS/R(j(kR4e/SR/V(lR4g/T",nodeNames:"⚠ RawString > MacroName LineComment BlockComment PreprocDirective #include String EscapeSequence SystemLibString Identifier ) ( ArgumentList ConditionalExpression AssignmentExpression CallExpression PrimitiveType FieldExpression FieldIdentifier DestructorName TemplateMethod ScopedFieldIdentifier NamespaceIdentifier TemplateType TypeIdentifier ScopedTypeIdentifier ScopedNamespaceIdentifier :: NamespaceIdentifier TypeIdentifier TemplateArgumentList < TypeDescriptor const volatile restrict _Atomic mutable constexpr constinit consteval StructSpecifier struct MsDeclspecModifier __declspec Attribute AttributeName Identifier AttributeArgs { } [ ] UpdateOp ArithOp ArithOp ArithOp LogicOp BitOp BitOp BitOp CompareOp CompareOp CompareOp > CompareOp BitOp UpdateOp , Number CharLiteral AttributeArgs VirtualSpecifier BaseClassClause Access virtual FieldDeclarationList FieldDeclaration extern static register inline thread_local AttributeSpecifier __attribute__ PointerDeclarator MsBasedModifier __based MsPointerModifier FunctionDeclarator ParameterList ParameterDeclaration PointerDeclarator FunctionDeclarator Noexcept noexcept RequiresClause requires True False ParenthesizedExpression CommaExpression LambdaExpression LambdaCaptureSpecifier TemplateParameterList OptionalParameterDeclaration TypeParameterDeclaration typename class VariadicParameterDeclaration VariadicDeclarator ReferenceDeclarator OptionalTypeParameterDeclaration VariadicTypeParameterDeclaration TemplateTemplateParameterDeclaration template AbstractFunctionDeclarator AbstractPointerDeclarator AbstractArrayDeclarator AbstractParenthesizedDeclarator AbstractReferenceDeclarator ThrowSpecifier throw TrailingReturnType CompoundStatement FunctionDefinition MsCallModifier TryStatement try CatchClause catch LinkageSpecification Declaration InitDeclarator InitializerList InitializerPair SubscriptDesignator FieldDesignator ExportDeclaration export ImportDeclaration import ModuleName PartitionName HeaderName CaseStatement case default LabeledStatement StatementIdentifier ExpressionStatement IfStatement if ConditionClause Declaration else SwitchStatement switch DoStatement do while WhileStatement ForStatement for ReturnStatement return BreakStatement break ContinueStatement continue GotoStatement goto CoReturnStatement co_return CoYieldStatement co_yield AttributeStatement ForRangeLoop AliasDeclaration using TypeDefinition typedef PointerDeclarator FunctionDeclarator ArrayDeclarator ParenthesizedDeclarator ThrowStatement NamespaceDefinition namespace ScopedIdentifier Identifier OperatorName operator ArithOp BitOp CompareOp LogicOp new delete co_await ConceptDefinition concept UsingDeclaration enum StaticAssertDeclaration static_assert ConcatenatedString TemplateDeclaration FriendDeclaration friend union FunctionDefinition ExplicitFunctionSpecifier explicit FieldInitializerList FieldInitializer DefaultMethodClause DeleteMethodClause FunctionDefinition OperatorCast operator TemplateInstantiation FunctionDefinition FunctionDefinition Declaration ModuleDeclaration module RequiresExpression RequirementList SimpleRequirement TypeRequirement CompoundRequirement ReturnTypeRequirement ConstraintConjuction LogicOp ConstraintDisjunction LogicOp ArrayDeclarator ParenthesizedDeclarator ReferenceDeclarator TemplateFunction OperatorName StructuredBindingDeclarator ArrayDeclarator ParenthesizedDeclarator ReferenceDeclarator BitfieldClause FunctionDefinition FunctionDefinition Declaration FunctionDefinition Declaration AccessSpecifier UnionSpecifier ClassSpecifier EnumSpecifier SizedTypeSpecifier TypeSize EnumeratorList Enumerator DependentType Decltype decltype auto PlaceholderTypeSpecifier ParameterPackExpansion ParameterPackExpansion FieldIdentifier PointerExpression SubscriptExpression BinaryExpression ArithOp LogicOp LogicOp BitOp UnaryExpression LogicOp BitOp UpdateExpression CastExpression SizeofExpression sizeof CoAwaitExpression CompoundLiteralExpression NULL NewExpression new NewDeclarator DeleteExpression delete ParameterPackExpansion nullptr this UserDefinedLiteral ParamPack #define PreprocArg #if #ifdef #ifndef #else #endif #elif PreprocDirectiveName Macro Program",maxTerm:425,nodeProps:[["group",-35,1,8,11,15,16,17,19,71,72,100,101,102,104,191,208,229,242,243,270,271,272,277,280,281,282,284,285,286,287,290,292,293,294,295,296,"Expression",-13,18,25,26,27,43,255,256,257,258,262,263,265,266,"Type",-19,126,129,147,150,152,153,158,160,163,164,166,168,170,172,174,176,178,179,188,"Statement"],["isolate",-4,4,5,8,10,""],["openedBy",12,"(",52,"{",54,"["],["closedBy",13,")",51,"}",53,"]"]],propSources:[kz],skippedNodes:[0,3,4,5,6,7,10,297,298,299,300,301,302,303,304,305,306,347,348],repeatNodeCount:41,tokenData:"&*r7ZR!UOX$eXY({YZ.gZ]$e]^+P^p$epq({qr.}rs0}st2ktu$euv!7dvw!9bwx!;exy!<Yyz!=Tz{!>O{|!?R|}!AV}!O!BQ!O!P!DX!P!Q#+y!Q!R#Az!R![$(x![!]$Ag!]!^$Cc!^!_$D^!_!`%1W!`!a%2X!a!b%5_!b!c$e!c!n%6Y!n!o%7q!o!w%6Y!w!x%7q!x!}%6Y!}#O%:n#O#P%<g#P#Q%Kz#Q#R%Ms#R#S%6Y#S#T$e#T#i%6Y#i#j%Nv#j#o%6Y#o#p&!e#p#q&#`#q#r&%f#r#s&&a#s;'S$e;'S;=`(u<%lO$e&t$nY)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e&r%eW)]W'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^&j&SU'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&j&kX'f&jOY%}YZ%}Z]%}]^'W^#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&j']V'f&jOY%}YZ%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&j'uP;=`<%l%}&r'{P;=`<%l%^&l(VW(qQ'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O&l(rP;=`<%l(O&t(xP;=`<%l$e7Z)Y`)]W(qQ(n.o'f&j*Z)`OX$eXY({YZ*[Z]$e]^+P^p$epq({qr$ers%^sw$ewx(Ox#O$e#O#P,^#P;'S$e;'S;=`(u<%lO$e.o*aT(n.oXY*[YZ*[]^*[pq*[#O#P*p.o*sQYZ*[]^*y.o*|PYZ*[4e+[`)]W(qQ(n.o'f&jOX$eXY+PYZ*[Z]$e]^+P^p$epq+Pqr$ers%^sw$ewx(Ox#O$e#O#P,^#P;'S$e;'S;=`(u<%lO$e4Z,cX'f&jOY%}YZ-OZ]%}]^-{^#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}4Z-V[(n.o'f&jOX%}XY-OYZ*[Z]%}]^-O^p%}pq-Oq#O%}#O#P,^#P;'S%};'S;=`'r<%lO%}4Z.QV'f&jOY%}YZ-OZ#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}7P.nT*W)`(n.oXY*[YZ*[]^*[pq*[#O#P*p3o/[[%^!b'QP)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`0Q!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o0_Y%]!b!a,g)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e6e1YY)]W(oQ(p/]'f&jOY%^Zr%^rs1xsw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^(U2RW)x!b)]W'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^4e2tf)]W(qQ'f&jOX$eXY2kZp$epq2kqr$ers%^sw$ewx(Ox!c$e!c!}4Y!}#O$e#O#P&f#P#T$e#T#W4Y#W#X5m#X#Y>u#Y#]4Y#]#^NZ#^#o4Y#o;'S$e;'S;=`(u<%lO$e4e4eb)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e5xd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y7W#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e7cd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z8q#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4e8|d)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#]4Y#]#^:[#^#o4Y#o;'S$e;'S;=`(u<%lO$e4e:gd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#b4Y#b#c;u#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e<Qd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y=`#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e=mb)]W(qQ'e.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e?Qf)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#`4Y#`#a@f#a#b4Y#b#cHV#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e@qf)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#]4Y#]#^BV#^#g4Y#g#hEV#h#o4Y#o;'S$e;'S;=`(u<%lO$e4eBbd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#ZCp#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4eC}b)]W(qQ'f&j'l.o'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4eEbd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#YFp#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4eF}b)]W(qQ'j.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4eHbd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#XIp#X#o4Y#o;'S$e;'S;=`(u<%lO$e4eI{d)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#]4Y#]#^KZ#^#o4Y#o;'S$e;'S;=`(u<%lO$e4eKfd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#ZLt#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4eMRb)]W(qQ'f&j'k.o'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4eNff)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z! z#Z#b4Y#b#c!.[#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e!!Xf)]W(qQ'g.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#X!#m#X#b4Y#b#c!(W#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e!#xd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y!%W#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e!%cd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z!&q#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4e!'Ob)]W(qQ'h.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e!(cd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#X!)q#X#o4Y#o;'S$e;'S;=`(u<%lO$e4e!)|d)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y!+[#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e!+gd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z!,u#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4e!-Sb)]W(qQ'i.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e!.gd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#V4Y#V#W!/u#W#o4Y#o;'S$e;'S;=`(u<%lO$e4e!0Qd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#`4Y#`#a!1`#a#o4Y#o;'S$e;'S;=`(u<%lO$e4e!1kd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#i4Y#i#j!2y#j#o4Y#o;'S$e;'S;=`(u<%lO$e4e!3Ud)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#X!4d#X#o4Y#o;'S$e;'S;=`(u<%lO$e4e!4od)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y!5}#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e!6[b)]W(qQV.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e3o!7q[)]W(qQ%Z!b![,g'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!8rY!g-y)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!9o])W,g)]W(qQ%[!b'f&jOY$eZr$ers%^sv$evw!:hwx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!:uY)V,g%^!b)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2X!;pW)ZS(qQ)[,g'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O6i!<eY)]W(qQ]6_'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e'V!=`Y[a)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!>][)T,g)]W(qQ%Z!b'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!?`^)]W(qQ%Z!b!Y,g'f&jOY$eZr$ers%^sw$ewx(Ox{$e{|!@[|!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!@gY)]W!X-y(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!AbY!h,k)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!B__)]W(qQ%Z!b!Y,g'f&jOY$eZr$ers%^sw$ewx(Ox}$e}!O!@[!O!_$e!_!`!8g!`!a!C^!a#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!CiY(x-y)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!Dd^)]W(qQ'f&j(w,gOY$eZr$ers%^sw$ewx(Ox!O$e!O!P!E`!P!Q$e!Q![!GY![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!Ei[)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!O$e!O!P!F_!P#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!FjY)Y,k)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]!Gen)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx!Icx!Q$e!Q![!GY![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2T!IjY(qQ'f&jOY(OZr(Ors%}s!Q(O!Q![!JY![#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O2T!Jcn(qQ!i,g'f&jOY(OZr(Ors%}sw(Owx!Icx!Q(O!Q![!JY![!g(O!g!h!La!h!i##`!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#X(O#X#Y!La#Y#Z##`#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T!Ljl(qQ!i,g'f&jOY(OZr(Ors%}s{(O{|!Nb|}(O}!O!Nb!O!Q(O!Q![# e![!c(O!c!h# e!h!i# e!i!n(O!n!o##`!o!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#Y# e#Y#Z# e#Z#`(O#`#a##`#a#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T!Ni^(qQ'f&jOY(OZr(Ors%}s!Q(O!Q![# e![!c(O!c!i# e!i#O(O#O#P&f#P#T(O#T#Z# e#Z;'S(O;'S;=`(o<%lO(O2T# nj(qQ!i,g'f&jOY(OZr(Ors%}sw(Owx!Nbx!Q(O!Q![# e![!c(O!c!h# e!h!i# e!i!n(O!n!o##`!o!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#Y# e#Y#Z# e#Z#`(O#`#a##`#a#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T##id(qQ!i,g'f&jOY(OZr(Ors%}s!h(O!h!i##`!i!n(O!n!o##`!o!w(O!w!x##`!x#O(O#O#P&f#P#Y(O#Y#Z##`#Z#`(O#`#a##`#a#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2]#%Sn)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx(Ox{$e{|#'Q|}$e}!O#'Q!O!Q$e!Q![#(]![!c$e!c!h#(]!h!i#(]!i!n$e!n!o#*Y!o!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#Y#(]#Y#Z#(]#Z#`$e#`#a#*Y#a#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]#'Z`)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![#(]![!c$e!c!i#(]!i#O$e#O#P&f#P#T$e#T#Z#(]#Z;'S$e;'S;=`(u<%lO$e2]#(hj)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx!Nbx!Q$e!Q![#(]![!c$e!c!h#(]!h!i#(]!i!n$e!n!o#*Y!o!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#Y#(]#Y#Z#(]#Z#`$e#`#a#*Y#a#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]#*ef)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx(Ox!h$e!h!i#*Y!i!n$e!n!o#*Y!o!w$e!w!x#*Y!x#O$e#O#P&f#P#Y$e#Y#Z#*Y#Z#`$e#`#a#*Y#a#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e7Z#,W`)]W(qQ%Z!b![,g'f&jOY$eZr$ers%^sw$ewx(Oxz$ez{#-Y{!P$e!P!Q#:s!Q!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z#-c])]W(qQ'f&jOY#-YYZ#.[Zr#-Yrs#/csw#-Ywx#5wxz#-Yz{#8j{#O#-Y#O#P#2`#P;'S#-Y;'S;=`#:m<%lO#-Y1e#._TOz#.[z{#.n{;'S#.[;'S;=`#/]<%lO#.[1e#.qVOz#.[z{#.n{!P#.[!P!Q#/W!Q;'S#.[;'S;=`#/]<%lO#.[1e#/]OT1e1e#/`P;=`<%l#.[7X#/jZ)]W'f&jOY#/cYZ#.[Zw#/cwx#0]xz#/cz{#4O{#O#/c#O#P#2`#P;'S#/c;'S;=`#5q<%lO#/c7P#0bX'f&jOY#0]YZ#.[Zz#0]z{#0}{#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#1SZ'f&jOY#0]YZ#.[Zz#0]z{#0}{!P#0]!P!Q#1u!Q#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#1|UT1e'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}7P#2eZ'f&jOY#0]YZ#0]Z]#0]]^#3W^z#0]z{#0}{#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#3]X'f&jOY#0]YZ#0]Zz#0]z{#0}{#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#3{P;=`<%l#0]7X#4V])]W'f&jOY#/cYZ#.[Zw#/cwx#0]xz#/cz{#4O{!P#/c!P!Q#5O!Q#O#/c#O#P#2`#P;'S#/c;'S;=`#5q<%lO#/c7X#5XW)]WT1e'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^7X#5tP;=`<%l#/c7R#6OZ(qQ'f&jOY#5wYZ#.[Zr#5wrs#0]sz#5wz{#6q{#O#5w#O#P#2`#P;'S#5w;'S;=`#8d<%lO#5w7R#6x](qQ'f&jOY#5wYZ#.[Zr#5wrs#0]sz#5wz{#6q{!P#5w!P!Q#7q!Q#O#5w#O#P#2`#P;'S#5w;'S;=`#8d<%lO#5w7R#7zW(qQT1e'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O7R#8gP;=`<%l#5w7Z#8s_)]W(qQ'f&jOY#-YYZ#.[Zr#-Yrs#/csw#-Ywx#5wxz#-Yz{#8j{!P#-Y!P!Q#9r!Q#O#-Y#O#P#2`#P;'S#-Y;'S;=`#:m<%lO#-Y7Z#9}Y)]W(qQT1e'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z#:pP;=`<%l#-Y7Z#;OY)]W(qQS1e'f&jOY#:sZr#:srs#;nsw#:swx#@{x#O#:s#O#P#<z#P;'S#:s;'S;=`#At<%lO#:s7X#;wW)]WS1e'f&jOY#;nZw#;nwx#<ax#O#;n#O#P#<z#P;'S#;n;'S;=`#@u<%lO#;n7P#<hUS1e'f&jOY#<aZ#O#<a#O#P#<z#P;'S#<a;'S;=`#>[<%lO#<a7P#=RXS1e'f&jOY#<aYZ%}Z]#<a]^#=n^#O#<a#O#P#>b#P;'S#<a;'S;=`#>[<%lO#<a7P#=uVS1e'f&jOY#<aYZ%}Z#O#<a#O#P#<z#P;'S#<a;'S;=`#>[<%lO#<a7P#>_P;=`<%l#<a7P#>i]S1e'f&jOY#<aYZ%}Z]#<a]^#=n^#O#<a#O#P#>b#P#b#<a#b#c#<a#c#f#<a#f#g#?b#g;'S#<a;'S;=`#>[<%lO#<a7P#?iUS1e'f&jOY#<aZ#O#<a#O#P#?{#P;'S#<a;'S;=`#>[<%lO#<a7P#@SZS1e'f&jOY#<aYZ%}Z]#<a]^#=n^#O#<a#O#P#>b#P#b#<a#b#c#<a#c;'S#<a;'S;=`#>[<%lO#<a7X#@xP;=`<%l#;n7R#AUW(qQS1e'f&jOY#@{Zr#@{rs#<as#O#@{#O#P#<z#P;'S#@{;'S;=`#An<%lO#@{7R#AqP;=`<%l#@{7Z#AwP;=`<%l#:s2]#BVt)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx#Dgx!O$e!O!P$ m!P!Q$e!Q![$(x![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#U$e#U#V$+X#V#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j#l$e#l#m$=`#m;'S$e;'S;=`(u<%lO$e2T#DnY(qQ'f&jOY(OZr(Ors%}s!Q(O!Q![#E^![#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O2T#Egp(qQ!i,g'f&jOY(OZr(Ors%}sw(Owx#Dgx!O(O!O!P#Gk!P!Q(O!Q![#E^![!g(O!g!h!La!h!i##`!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#X(O#X#Y!La#Y#Z##`#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T#Gtn(qQ!i,g'f&jOY(OZr(Ors%}s!Q(O!Q![#Ir![!c(O!c!g#Ir!g!h#MS!h!i#Ir!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X#Ir#X#Y#MS#Y#Z#Ir#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T#I{p(qQ!i,g'f&jOY(OZr(Ors%}sw(Owx#LPx!Q(O!Q![#Ir![!c(O!c!g#Ir!g!h#MS!h!i#Ir!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X#Ir#X#Y#MS#Y#Z#Ir#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T#LW^(qQ'f&jOY(OZr(Ors%}s!Q(O!Q![#Ir![!c(O!c!i#Ir!i#O(O#O#P&f#P#T(O#T#Z#Ir#Z;'S(O;'S;=`(o<%lO(O2T#M]t(qQ!i,g'f&jOY(OZr(Ors%}sw(Owx#LPx{(O{|!Nb|}(O}!O!Nb!O!Q(O!Q![#Ir![!c(O!c!g#Ir!g!h#MS!h!i#Ir!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X#Ir#X#Y#MS#Y#Z#Ir#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2]$ xp)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![$#|![!c$e!c!g$#|!g!h$&]!h!i$#|!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$#|#X#Y$&]#Y#Z$#|#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$$Xp)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx#LPx!Q$e!Q![$#|![!c$e!c!g$#|!g!h$&]!h!i$#|!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$#|#X#Y$&]#Y#Z$#|#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$&ht)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx#LPx{$e{|#'Q|}$e}!O#'Q!O!Q$e!Q![$#|![!c$e!c!g$#|!g!h$&]!h!i$#|!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$#|#X#Y$&]#Y#Z$#|#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$)Tp)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx#Dgx!O$e!O!P$ m!P!Q$e!Q![$(x![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$+b_)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!O$e!O!P$,a!P!Q$e!Q!R$-`!R![$(x![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$,j[)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![!GY![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$-kt)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx#Dgx!O$e!O!P$ m!P!Q$e!Q![$(x![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#U$e#U#V$/{#V#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j#l$e#l#m$0z#m;'S$e;'S;=`(u<%lO$e2]$0U[)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![$(x![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$1T`)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![$2V![!c$e!c!i$2V!i#O$e#O#P&f#P#T$e#T#Z$2V#Z;'S$e;'S;=`(u<%lO$e2]$2br)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx$4lx!O$e!O!P$ m!P!Q$e!Q![$2V![!c$e!c!g$2V!g!h$:p!h!i$2V!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$2V#X#Y$:p#Y#Z$2V#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2T$4s^(qQ'f&jOY(OZr(Ors%}s!Q(O!Q![$5o![!c(O!c!i$5o!i#O(O#O#P&f#P#T(O#T#Z$5o#Z;'S(O;'S;=`(o<%lO(O2T$5xr(qQ!i,g'f&jOY(OZr(Ors%}sw(Owx$4lx!O(O!O!P#Gk!P!Q(O!Q![$5o![!c(O!c!g$5o!g!h$8S!h!i$5o!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X$5o#X#Y$8S#Y#Z$5o#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T$8]u(qQ!i,g'f&jOY(OZr(Ors%}sw(Owx$4lx{(O{|!Nb|}(O}!O!Nb!O!P#Gk!P!Q(O!Q![$5o![!c(O!c!g$5o!g!h$8S!h!i$5o!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X$5o#X#Y$8S#Y#Z$5o#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2]$:{u)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx$4lx{$e{|#'Q|}$e}!O#'Q!O!P$ m!P!Q$e!Q![$2V![!c$e!c!g$2V!g!h$:p!h!i$2V!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$2V#X#Y$:p#Y#Z$2V#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$=ic)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!O$e!O!P$,a!P!Q$e!Q!R$>t!R![$2V![!c$e!c!i$2V!i#O$e#O#P&f#P#T$e#T#Z$2V#Z;'S$e;'S;=`(u<%lO$e2]$?Pv)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx$4lx!O$e!O!P$ m!P!Q$e!Q![$2V![!c$e!c!g$2V!g!h$:p!h!i$2V!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#U$2V#U#V$2V#V#X$2V#X#Y$:p#Y#Z$2V#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j#l$e#l#m$0z#m;'S$e;'S;=`(u<%lO$e4e$Ar[(v-X)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox![$e![!]$Bh!]#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3s$BsYm-})]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$CnY)X,g)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7V$Dk_q,g%]!b)]W(qQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!^$Ej!^!_%+w!_!`%.U!`!a%0]!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej*[$Es])]W(qQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!`$Ej!`!a%*t!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ejp$FoTO!`$Fl!`!a$GO!a;'S$Fl;'S;=`$GT<%lO$Flp$GTO$Wpp$GWP;=`<%l$Fl*Y$GbZ)]W'f&jOY$GZYZ$FlZw$GZwx$HTx!`$GZ!`!a%(U!a#O$GZ#O#P$Ib#P;'S$GZ;'S;=`%(y<%lO$GZ*Q$HYX'f&jOY$HTYZ$FlZ!`$HT!`!a$Hu!a#O$HT#O#P$Ib#P;'S$HT;'S;=`$Mx<%lO$HT*Q$IOU$WpY#t'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}*Q$Ig['f&jOY$HTYZ$HTZ]$HT]^$J]^!`$HT!`!a$NO!a#O$HT#O#P%&n#P;'S$HT;'S;=`%'f;=`<%l%$z<%lO$HT*Q$JbX'f&jOY$HTYZ$J}Z!`$HT!`!a$Hu!a#O$HT#O#P$Ib#P;'S$HT;'S;=`$Mx<%lO$HT'[$KSX'f&jOY$J}YZ$FlZ!`$J}!`!a$Ko!a#O$J}#O#P$LY#P;'S$J};'S;=`$Mr<%lO$J}'[$KvU$Wp'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}'[$L_Z'f&jOY$J}YZ$J}Z]$J}]^$MQ^!`$J}!`!a$Ko!a#O$J}#O#P$LY#P;'S$J};'S;=`$Mr<%lO$J}'[$MVX'f&jOY$J}YZ$J}Z!`$J}!`!a$Ko!a#O$J}#O#P$LY#P;'S$J};'S;=`$Mr<%lO$J}'[$MuP;=`<%l$J}*Q$M{P;=`<%l$HT*Q$NVW$Wp'f&jOY$NoZ!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`$NtW'f&jOY$NoZ!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`% eUY#t'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%})`% |Y'f&jOY$NoYZ$NoZ]$No]^%!l^#O$No#O#P%#d#P;'S$No;'S;=`%$[;=`<%l%$z<%lO$No)`%!qX'f&jOY$NoYZ%}Z!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`%#aP;=`<%l$No)`%#iZ'f&jOY$NoYZ%}Z]$No]^%!l^!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`%$_XOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h;=`<%l$No<%lO%$z#t%$}WOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h<%lO%$z#t%%lOY#t#t%%oRO;'S%$z;'S;=`%%x;=`O%$z#t%%{XOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h;=`<%l%$z<%lO%$z#t%&kP;=`<%l%$z*Q%&sZ'f&jOY$HTYZ$J}Z]$HT]^$J]^!`$HT!`!a$Hu!a#O$HT#O#P$Ib#P;'S$HT;'S;=`$Mx<%lO$HT*Q%'iXOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h;=`<%l$HT<%lO%$z*Y%(aW$WpY#t)]W'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^*Y%(|P;=`<%l$GZ*S%)WZ(qQ'f&jOY%)PYZ$FlZr%)Prs$HTs!`%)P!`!a%)y!a#O%)P#O#P$Ib#P;'S%)P;'S;=`%*n<%lO%)P*S%*UW$WpY#t(qQ'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O*S%*qP;=`<%l%)P*[%+RY$WpY#t)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e*[%+tP;=`<%l$Ej7V%,U^)]W(qQ%[!b!f,g'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!_$Ej!_!`%-Q!`!a%*t!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej7V%-]]!g-y)]W(qQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!`$Ej!`!a%*t!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej7V%.c]%]!b!b,g)]W(qQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!`$Ej!`!a%/[!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej7V%/mY%]!b!b,g$WpY#t)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e)j%0hYY#t)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%1c[)j!c)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`0Q!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%2f]%]!b)]W(qQ!d,g'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`%3_!`!a%4[!a#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%3lY%]!b!b,g)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%4i[)]W(qQ%[!b!f,g'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e&u%5jY(uP)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z%6ib)]W(yS(qQ!R,f(r%y'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![%6Y![!c$e!c!}%6Y!}#O$e#O#P&f#P#R$e#R#S%6Y#S#T$e#T#o%6Y#o;'S$e;'S;=`(u<%lO$e7Z%8Qb)]W(yS(qQ!R,f(r%y'f&jOY$eZr$ers%9Ysw$ewx%9{x!Q$e!Q![%6Y![!c$e!c!}%6Y!}#O$e#O#P&f#P#R$e#R#S%6Y#S#T$e#T#o%6Y#o;'S$e;'S;=`(u<%lO$e5P%9cW)]W(p/]'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^2T%:UW(qQ)[,g'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O3o%:yZ!V-y)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!}$e!}#O%;l#O#P&f#P;'S$e;'S;=`(u<%lO$e&u%;wY)QP)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e4e%<la'f&jOY%=qYZ%>[Z]%=q]^%?Z^!Q%=q!Q![%?w![!w%=q!w!x%AX!x#O%=q#O#P%H_#P#i%=q#i#j%Ds#j#l%=q#l#m%IR#m;'S%=q;'S;=`%Kt<%lO%=q&t%=xUXY'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}4e%>e[XY(n.o'f&jOX%}XY-OYZ*[Z]%}]^-O^p%}pq-Oq#O%}#O#P,^#P;'S%};'S;=`'r<%lO%}4e%?bVXY'f&jOY%}YZ-OZ#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%@OWXY'f&jOY%}Z!Q%}!Q![%@h![#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%@oWXY'f&jOY%}Z!Q%}!Q![%=q![#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%A^['f&jOY%}Z!Q%}!Q![%BS![!c%}!c!i%BS!i#O%}#O#P&f#P#T%}#T#Z%BS#Z;'S%};'S;=`'r<%lO%}&t%BX['f&jOY%}Z!Q%}!Q![%B}![!c%}!c!i%B}!i#O%}#O#P&f#P#T%}#T#Z%B}#Z;'S%};'S;=`'r<%lO%}&t%CS['f&jOY%}Z!Q%}!Q![%Cx![!c%}!c!i%Cx!i#O%}#O#P&f#P#T%}#T#Z%Cx#Z;'S%};'S;=`'r<%lO%}&t%C}['f&jOY%}Z!Q%}!Q![%Ds![!c%}!c!i%Ds!i#O%}#O#P&f#P#T%}#T#Z%Ds#Z;'S%};'S;=`'r<%lO%}&t%Dx['f&jOY%}Z!Q%}!Q![%En![!c%}!c!i%En!i#O%}#O#P&f#P#T%}#T#Z%En#Z;'S%};'S;=`'r<%lO%}&t%Es['f&jOY%}Z!Q%}!Q![%Fi![!c%}!c!i%Fi!i#O%}#O#P&f#P#T%}#T#Z%Fi#Z;'S%};'S;=`'r<%lO%}&t%Fn['f&jOY%}Z!Q%}!Q![%Gd![!c%}!c!i%Gd!i#O%}#O#P&f#P#T%}#T#Z%Gd#Z;'S%};'S;=`'r<%lO%}&t%Gi['f&jOY%}Z!Q%}!Q![%=q![!c%}!c!i%=q!i#O%}#O#P&f#P#T%}#T#Z%=q#Z;'S%};'S;=`'r<%lO%}&t%HfXXY'f&jOY%}YZ%}Z]%}]^'W^#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%IW['f&jOY%}Z!Q%}!Q![%I|![!c%}!c!i%I|!i#O%}#O#P&f#P#T%}#T#Z%I|#Z;'S%};'S;=`'r<%lO%}&t%JR['f&jOY%}Z!Q%}!Q![%Jw![!c%}!c!i%Jw!i#O%}#O#P&f#P#T%}#T#Z%Jw#Z;'S%};'S;=`'r<%lO%}&t%KO[XY'f&jOY%}Z!Q%}!Q![%Jw![!c%}!c!i%Jw!i#O%}#O#P&f#P#T%}#T#Z%Jw#Z;'S%};'S;=`'r<%lO%}&t%KwP;=`<%l%=q2a%LVZ!W,V)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P#Q%Lx#Q;'S$e;'S;=`(u<%lO$e'Y%MTY)Pd)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%NQ[)]W(qQ%[!b'f&j!_,gOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z& Vd)]W(yS(qQ!R,f(r%y'f&jOY$eZr$ers%9Ysw$ewx%9{x!Q$e!Q!Y%6Y!Y!Z%7q!Z![%6Y![!c$e!c!}%6Y!}#O$e#O#P&f#P#R$e#R#S%6Y#S#T$e#T#o%6Y#o;'S$e;'S;=`(u<%lO$e2]&!pY!T,g)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o&#m^)]W(qQ%[!b'f&j!^,gOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P#p$e#p#q&$i#q;'S$e;'S;=`(u<%lO$e3o&$vY)U,g%^!b)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e'V&%qY!Ua)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e(]&&nc)]W(qQ%[!b'RP'f&jOX$eXY&'yZp$epq&'yqr$ers%^sw$ewx(Ox!c$e!c!}&)_!}#O$e#O#P&f#P#R$e#R#S&)_#S#T$e#T#o&)_#o;'S$e;'S;=`(u<%lO$e&y&(Sc)]W(qQ'f&jOX$eXY&'yZp$epq&'yqr$ers%^sw$ewx(Ox!c$e!c!}&)_!}#O$e#O#P&f#P#R$e#R#S&)_#S#T$e#T#o&)_#o;'S$e;'S;=`(u<%lO$e&y&)jb)]W(qQeT'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![&)_![!c$e!c!}&)_!}#O$e#O#P&f#P#R$e#R#S&)_#S#T$e#T#o&)_#o;'S$e;'S;=`(u<%lO$e",tokenizers:[Sz,_z,0,1,2,3,4,5,6,7,8,9],topRules:{Program:[0,307]},dynamicPrecedences:{87:1,94:1,119:1,184:1,187:-10,240:-10,241:1,244:-1,246:-10,247:1,262:-1,267:2,268:2,306:-10,365:3,417:1,418:3,419:1,420:1},specialized:[{term:356,get:r=>$z[r]||-1},{term:33,get:r=>Pz[r]||-1},{term:66,get:r=>jz[r]||-1},{term:363,get:r=>Qz[r]||-1}],tokenPrec:24891}),Az=Zu.define({name:"cpp",parser:Nz.configure({props:[ry.add({IfStatement:W0({except:/^\s*({|else\b)/}),TryStatement:W0({except:/^\s*({|catch)\b/}),LabeledStatement:hU,CaseStatement:r=>r.baseIndent+r.unit,BlockComment:()=>null,CompoundStatement:vp({closing:"}"}),Statement:W0({except:/^{/})}),V4.add({"DeclarationList CompoundStatement EnumeratorList FieldDeclarationList InitializerList":Z4,BlockComment(r){return{from:r.from+2,to:r.to-2}}})]}),languageData:{commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\})$/,closeBrackets:{stringPrefixes:["L","u","U","u8","LR","UR","uR","u8R","R"]}}});function a5(){return new D4(Az)}const Tz=1024;let Cz=0,Pr=class{constructor(e={}){this.id=Cz++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Wl.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}};Pr.closedBy=new Pr({deserialize:r=>r.split(" ")});Pr.openedBy=new Pr({deserialize:r=>r.split(" ")});Pr.group=new Pr({deserialize:r=>r.split(" ")});Pr.isolate=new Pr({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});Pr.contextHash=new Pr({perNode:!0});Pr.lookAhead=new Pr({perNode:!0});Pr.mounted=new Pr({perNode:!0});let mg=class{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[Pr.mounted.id]}};const Xz=Object.create(null);let Wl=class Y${constructor(e,t,i,n=0){this.name=e,this.props=t,this.id=i,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):Xz,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new Y$(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Pr.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let n of i.split(" "))t[n]=e[i];return i=>{for(let n=i.prop(Pr.group),s=-1;s<(n?n.length:0);s++){let o=t[s<0?i.name:n[s]];if(o)return o}}}};Wl.none=new Wl("",Object.create(null),0,8);const Bd=new WeakMap,l5=new WeakMap;var $i;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})($i||($i={}));let jl=class J1{constructor(e,t,i,n,s){if(this.type=e,this.children=t,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=mg.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let n=i.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new rb(this.topNode,e)}cursorAt(e,t=0,i=0){let n=Bd.get(this)||this.topNode,s=new rb(n);return s.moveTo(e,t),Bd.set(this,s._tree),s}get topNode(){return new ka(this,0,0,null)}resolve(e,t=0){let i=ef(Bd.get(this)||this.topNode,e,t,!1);return Bd.set(this,i),i}resolveInner(e,t=0){let i=ef(l5.get(this)||this.topNode,e,t,!0);return l5.set(this,i),i}resolveStack(e,t=0){return Lz(this,e,t)}iterate(e){let{enter:t,leave:i,from:n=0,to:s=this.length}=e,o=e.mode||0,a=(o&$i.IncludeAnonymous)>0;for(let l=this.cursor(o|$i.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=n&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:gy(Wl.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,n)=>new J1(this.type,t,i,n,this.propValues),e.makeTree||((t,i,n)=>new J1(Wl.none,t,i,n)))}static build(e){return zz(e)}};jl.empty=new jl(Wl.none,[],[],0);let Ez=class D${constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new D$(this.buffer,this.index)}},Jc=class B${constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Wl.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,n,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(M$(s,n,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i){let n=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=n[a++],s[l++]=n[a++]-i;let c=s[l++]=n[a++]-i;s[l++]=n[a++]-e,o=Math.max(o,c)}return new B$(s,o,this.set)}};function M$(r,e,t,i){switch(r){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function ef(r,e,t,i){for(var n;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let o=!i&&r instanceof ka&&r.index<0?null:r.parent;if(!o)return r;r=o}let s=i?0:$i.IgnoreOverlays;if(i)for(let o=r,a=o.parent;a;o=a,a=o.parent)o instanceof ka&&o.index<0&&((n=a.enter(e,t,s))===null||n===void 0?void 0:n.from)!=o.from&&(r=a);for(;;){let o=r.enter(e,t,s);if(!o)return r;r=o}}let F$=class{cursor(e=0){return new rb(this,e)}getChild(e,t=null,i=null){let n=c5(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return c5(this,e,t,i)}resolve(e,t=0){return ef(this,e,t,!1)}resolveInner(e,t=0){return ef(this,e,t,!0)}matchContext(e){return eb(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}get node(){return this}get next(){return this.parent}},ka=class Np extends F${constructor(e,t,i,n){super(),this._tree=e,this.from=t,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,n,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let h=a[e],f=l[e]+o.from;if(M$(n,i,f,f+h.length)){if(h instanceof Jc){if(s&$i.ExcludeBuffers)continue;let g=h.findChild(0,h.buffer.length,t,i-f,n);if(g>-1)return new tb(new Rz(o,h,e,f),null,g)}else if(s&$i.IncludeAnonymous||!h.type.isAnonymous||py(h)){let g;if(!(s&$i.IgnoreMounts)&&(g=mg.get(h))&&!g.overlay)return new Np(g.tree,f,e,o);let p=new Np(h,f,e,o);return s&$i.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(t<0?h.children.length-1:0,t,i,n)}}}if(s&$i.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let n;if(!(i&$i.IgnoreOverlays)&&(n=mg.get(this._tree))&&n.overlay){let s=e-this.from;for(let{from:o,to:a}of n.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Np(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function c5(r,e,t,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=n.type.is(t),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function eb(r,e,t=e.length-1){for(let i=r;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}let Rz=class{constructor(e,t,i,n){this.parent=e,this.buffer=t,this.index=i,this.start=n}},tb=class gu extends F${get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new gu(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&$i.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new gu(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new gu(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new gu(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let o=i.buffer[this.index+1];e.push(i.slice(n,s,o)),t.push(0)}return new jl(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function V$(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let o=r[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let i=t instanceof ka&&t.index<0?null:t.parent,n=r.slice();return i?n[e]=i:n.splice(e,1),new Uz(n,t)}let Uz=class{constructor(e,t){this.heads=e,this.node=t}get next(){return V$(this.heads)}};function Lz(r,e,t){let i=r.resolveInner(e,t),n=null;for(let s=i instanceof ka?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(n||(n=[i])).push(o.resolve(e,t)),s=o}else{let o=mg.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new ka(o.tree,o.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(ef(a,e,t,!1))}}return n?V$(n):i}let rb=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ka)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return e?e instanceof ka?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&$i.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&$i.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&$i.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(t.findChild(n,this.index,-1,0,4))}else{let n=t.buffer[this.index+3];if(n<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=n)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&$i.IncludeAnonymous||a instanceof Jc||!a.type.isAnonymous||py(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,i=s+1;break e}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)t=new tb(this.buffer,t,this.stack[n]);return this.bufferNode=new tb(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&t&&t(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return eb(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return eb(this._tree,e,n);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}};function py(r){return r.children.some(e=>e instanceof Jc||!e.type.isAnonymous||py(e))}function zz(r){var e;let{buffer:t,nodeSet:i,maxBufferLength:n=Tz,reused:s=[],minRepeatType:o=i.types.length}=r,a=Array.isArray(t)?new Ez(t,t.length):t,l=i.types,c=0,h=0;function f(T,E,k,z,Q,W){let{id:_,start:w,end:A,size:j}=a,L=h,K=c;for(;j<0;)if(a.next(),j==-1){let ae=s[_];k.push(ae),z.push(w-T);return}else if(j==-3){c=_;return}else if(j==-4){h=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let re=l[_],te,oe,ve=w-T;if(A-w<=n&&(oe=v(a.pos-E,Q))){let ae=new Uint16Array(oe.size-oe.skip),N=a.pos-oe.size,Y=ae.length;for(;a.pos>N;)Y=S(oe.start,ae,Y);te=new Jc(ae,A-oe.start,i),ve=oe.start-T}else{let ae=a.pos-j;a.next();let N=[],Y=[],F=_>=o?_:-1,B=0,ee=A;for(;a.pos>ae;)F>=0&&a.id==F&&a.size>=0?(a.end<=ee-n&&(m(N,Y,w,B,a.end,ee,F,L,K),B=N.length,ee=a.end),a.next()):W>2500?g(w,ae,N,Y):f(w,ae,N,Y,F,W+1);if(F>=0&&B>0&&B<N.length&&m(N,Y,w,B,w,ee,F,L,K),N.reverse(),Y.reverse(),F>-1&&B>0){let le=p(re,K);te=gy(re,N,Y,0,N.length,0,A-w,le,le)}else te=y(re,N,Y,A-w,L-A,K)}k.push(te),z.push(ve)}function g(T,E,k,z){let Q=[],W=0,_=-1;for(;a.pos>E;){let{id:w,start:A,end:j,size:L}=a;if(L>4)a.next();else{if(_>-1&&A<_)break;_<0&&(_=j-n),Q.push(w,A,j),W++,a.next()}}if(W){let w=new Uint16Array(W*4),A=Q[Q.length-2];for(let j=Q.length-3,L=0;j>=0;j-=3)w[L++]=Q[j],w[L++]=Q[j+1]-A,w[L++]=Q[j+2]-A,w[L++]=L;k.push(new Jc(w,Q[2]-A,i)),z.push(A-T)}}function p(T,E){return(k,z,Q)=>{let W=0,_=k.length-1,w,A;if(_>=0&&(w=k[_])instanceof jl){if(!_&&w.type==T&&w.length==Q)return w;(A=w.prop(Pr.lookAhead))&&(W=z[_]+w.length+A)}return y(T,k,z,Q,W,E)}}function m(T,E,k,z,Q,W,_,w,A){let j=[],L=[];for(;T.length>z;)j.push(T.pop()),L.push(E.pop()+k-Q);T.push(y(i.types[_],j,L,W-Q,w-W,A)),E.push(Q-k)}function y(T,E,k,z,Q,W,_){if(W){let w=[Pr.contextHash,W];_=_?[w].concat(_):[w]}if(Q>25){let w=[Pr.lookAhead,Q];_=_?[w].concat(_):[w]}return new jl(T,E,k,z,_)}function v(T,E){let k=a.fork(),z=0,Q=0,W=0,_=k.end-n,w={size:0,start:0,skip:0};e:for(let A=k.pos-T;k.pos>A;){let j=k.size;if(k.id==E&&j>=0){w.size=z,w.start=Q,w.skip=W,W+=4,z+=4,k.next();continue}let L=k.pos-j;if(j<0||L<A||k.start<_)break;let K=k.id>=o?4:0,re=k.start;for(k.next();k.pos>L;){if(k.size<0)if(k.size==-3)K+=4;else break e;else k.id>=o&&(K+=4);k.next()}Q=re,z+=j,W+=K}return(E<0||z==T)&&(w.size=z,w.start=Q,w.skip=W),w.size>4?w:void 0}function S(T,E,k){let{id:z,start:Q,end:W,size:_}=a;if(a.next(),_>=0&&z<o){let w=k;if(_>4){let A=a.pos-(_-4);for(;a.pos>A;)k=S(T,E,k)}E[--k]=w,E[--k]=W-T,E[--k]=Q-T,E[--k]=z}else _==-3?c=z:_==-4&&(h=z);return k}let C=[],P=[];for(;a.pos>0;)f(r.start||0,r.bufferStart||0,C,P,-1,0);let X=(e=r.length)!==null&&e!==void 0?e:C.length?P[0]+C[0].length:0;return new jl(l[r.topID],C.reverse(),P.reverse(),X)}const h5=new WeakMap;function Ap(r,e){if(!r.isAnonymous||e instanceof Jc||e.type!=r)return 1;let t=h5.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=r||!(i instanceof jl)){t=1;break}t+=Ap(r,i)}h5.set(e,t)}return t}function gy(r,e,t,i,n,s,o,a,l){let c=0;for(let m=i;m<n;m++)c+=Ap(r,e[m]);let h=Math.ceil(c*1.5/8),f=[],g=[];function p(m,y,v,S,C){for(let P=v;P<S;){let X=P,T=y[P],E=Ap(r,m[P]);for(P++;P<S;P++){let k=Ap(r,m[P]);if(E+k>=h)break;E+=k}if(P==X+1){if(E>h){let k=m[X];p(k.children,k.positions,0,k.children.length,y[X]+C);continue}f.push(m[X])}else{let k=y[P-1]+m[P-1].length-T;f.push(gy(r,m,y,X,P,T,k,null,l))}g.push(T+C-s)}}return p(e,t,i,n,0),(a||l)(f,g,o)}new Pr({perNode:!0});let qz=0,go=class ib{constructor(e,t,i,n){this.name=e,this.set=t,this.base=i,this.modified=n,this.id=qz++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof ib&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let n=new ib(i,[],null,[]);if(n.set.push(n),t)for(let s of t.set)n.set.push(s);return n}static defineModifier(e){let t=new u5(e);return i=>i.modified.indexOf(t)>-1?i:u5.get(i.base||i,i.modified.concat(t).sort((n,s)=>n.id-s.id))}},Iz=0,u5=class Z${constructor(e){this.name=e,this.instances=[],this.id=Iz++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&Wz(t,a.modified));if(i)return i;let n=[],s=new go(e.name,n,e,t);for(let a of t)a.instances.push(s);let o=Yz(t);for(let a of e.set)if(!a.modified.length)for(let l of o)n.push(Z$.get(a,l));return s}};function Wz(r,e){return r.length==e.length&&r.every((t,i)=>t==e[i])}function Yz(r){let e=[[]];for(let t=0;t<r.length;t++)for(let i=0,n=e.length;i<n;i++)e.push(e[i].concat(r[t]));return e.sort((t,i)=>i.length-t.length)}function Dz(r){let e=Object.create(null);for(let t in r){let i=r[t];Array.isArray(i)||(i=[i]);for(let n of t.split(" "))if(n){let s=[],o=2,a=n;for(let f=0;;){if(a=="..."&&f>0&&f+3==n.length){o=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!g)throw new RangeError("Invalid path: "+n);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),f+=g[0].length,f==n.length)break;let p=n[f++];if(f==n.length&&p=="!"){o=0;break}if(p!="/")throw new RangeError("Invalid path: "+n);a=n.slice(f)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+n);let h=new nb(i,o,l>0?s.slice(0,l):null);e[c]=h.sort(e[c])}}return Bz.add(e)}const Bz=new Pr;class nb{constructor(e,t,i,n){this.tags=e,this.mode=t,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}nb.empty=new nb([],2,null);function Mz(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:n=null}=e||{};return{style:s=>{let o=n;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:i}}const Le=go.define,Md=Le(),Ho=Le(),f5=Le(Ho),d5=Le(Ho),Ko=Le(),Fd=Le(Ko),Z0=Le(Ko),bs=Le(),al=Le(bs),us=Le(),fs=Le(),sb=Le(),tu=Le(sb),Vd=Le(),qe={comment:Md,lineComment:Le(Md),blockComment:Le(Md),docComment:Le(Md),name:Ho,variableName:Le(Ho),typeName:f5,tagName:Le(f5),propertyName:d5,attributeName:Le(d5),className:Le(Ho),labelName:Le(Ho),namespace:Le(Ho),macroName:Le(Ho),literal:Ko,string:Fd,docString:Le(Fd),character:Le(Fd),attributeValue:Le(Fd),number:Z0,integer:Le(Z0),float:Le(Z0),bool:Le(Ko),regexp:Le(Ko),escape:Le(Ko),color:Le(Ko),url:Le(Ko),keyword:us,self:Le(us),null:Le(us),atom:Le(us),unit:Le(us),modifier:Le(us),operatorKeyword:Le(us),controlKeyword:Le(us),definitionKeyword:Le(us),moduleKeyword:Le(us),operator:fs,derefOperator:Le(fs),arithmeticOperator:Le(fs),logicOperator:Le(fs),bitwiseOperator:Le(fs),compareOperator:Le(fs),updateOperator:Le(fs),definitionOperator:Le(fs),typeOperator:Le(fs),controlOperator:Le(fs),punctuation:sb,separator:Le(sb),bracket:tu,angleBracket:Le(tu),squareBracket:Le(tu),paren:Le(tu),brace:Le(tu),content:bs,heading:al,heading1:Le(al),heading2:Le(al),heading3:Le(al),heading4:Le(al),heading5:Le(al),heading6:Le(al),contentSeparator:Le(bs),list:Le(bs),quote:Le(bs),emphasis:Le(bs),strong:Le(bs),link:Le(bs),monospace:Le(bs),strikethrough:Le(bs),inserted:Le(),deleted:Le(),changed:Le(),invalid:Le(),meta:Vd,documentMeta:Le(Vd),annotation:Le(Vd),processingInstruction:Le(Vd),definition:go.defineModifier("definition"),constant:go.defineModifier("constant"),function:go.defineModifier("function"),standard:go.defineModifier("standard"),local:go.defineModifier("local"),special:go.defineModifier("special")};for(let r in qe){let e=qe[r];e instanceof go&&(e.name=r)}Mz([{tag:qe.link,class:"tok-link"},{tag:qe.heading,class:"tok-heading"},{tag:qe.emphasis,class:"tok-emphasis"},{tag:qe.strong,class:"tok-strong"},{tag:qe.keyword,class:"tok-keyword"},{tag:qe.atom,class:"tok-atom"},{tag:qe.bool,class:"tok-bool"},{tag:qe.url,class:"tok-url"},{tag:qe.labelName,class:"tok-labelName"},{tag:qe.inserted,class:"tok-inserted"},{tag:qe.deleted,class:"tok-deleted"},{tag:qe.literal,class:"tok-literal"},{tag:qe.string,class:"tok-string"},{tag:qe.number,class:"tok-number"},{tag:[qe.regexp,qe.escape,qe.special(qe.string)],class:"tok-string2"},{tag:qe.variableName,class:"tok-variableName"},{tag:qe.local(qe.variableName),class:"tok-variableName tok-local"},{tag:qe.definition(qe.variableName),class:"tok-variableName tok-definition"},{tag:qe.special(qe.variableName),class:"tok-variableName2"},{tag:qe.definition(qe.propertyName),class:"tok-propertyName tok-definition"},{tag:qe.typeName,class:"tok-typeName"},{tag:qe.namespace,class:"tok-namespace"},{tag:qe.className,class:"tok-className"},{tag:qe.macroName,class:"tok-macroName"},{tag:qe.propertyName,class:"tok-propertyName"},{tag:qe.operator,class:"tok-operator"},{tag:qe.comment,class:"tok-comment"},{tag:qe.meta,class:"tok-meta"},{tag:qe.invalid,class:"tok-invalid"},{tag:qe.punctuation,class:"tok-punctuation"}]);const Fz=1,G$=194,H$=195,Vz=196,p5=197,Zz=198,Gz=199,Hz=200,Kz=2,K$=3,g5=201,Jz=24,eq=25,tq=49,rq=50,iq=55,nq=56,sq=57,oq=59,aq=60,lq=61,cq=62,hq=63,uq=65,fq=238,dq=71,pq=241,gq=242,Oq=243,mq=244,bq=245,yq=246,xq=247,wq=248,J$=72,vq=249,Sq=250,_q=251,kq=252,$q=253,Pq=254,jq=255,Qq=256,Nq=73,Aq=77,Tq=263,Cq=112,Xq=130,Eq=151,Rq=152,Uq=155,Yl=10,tf=13,Oy=32,eO=9,my=35,Lq=40,zq=46,ob=123,O5=125,e3=39,t3=34,m5=92,qq=111,Iq=120,Wq=78,Yq=117,Dq=85,Bq=new Set([eq,tq,rq,Tq,uq,Xq,nq,sq,fq,cq,hq,J$,Nq,Aq,aq,lq,Eq,Rq,Uq,Cq]);function G0(r){return r==Yl||r==tf}function H0(r){return r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102}const Mq=new hh((r,e)=>{let t;if(r.next<0)r.acceptToken(Gz);else if(e.context.flags&Tp)G0(r.next)&&r.acceptToken(Zz,1);else if(((t=r.peek(-1))<0||G0(t))&&e.canShift(p5)){let i=0;for(;r.next==Oy||r.next==eO;)r.advance(),i++;(r.next==Yl||r.next==tf||r.next==my)&&r.acceptToken(p5,-i)}else G0(r.next)&&r.acceptToken(Vz,1)},{contextual:!0}),Fq=new hh((r,e)=>{let t=e.context;if(t.flags)return;let i=r.peek(-1);if(i==Yl||i==tf){let n=0,s=0;for(;;){if(r.next==Oy)n++;else if(r.next==eO)n+=8-n%8;else break;r.advance(),s++}n!=t.indent&&r.next!=Yl&&r.next!=tf&&r.next!=my&&(n<t.indent?r.acceptToken(H$,-s):r.acceptToken(G$))}}),Tp=1,r3=2,no=4,so=8,oo=16,ao=32;function Cp(r,e,t){this.parent=r,this.indent=e,this.flags=t,this.hash=(r?r.hash+r.hash<<8:0)+e+(e<<4)+t+(t<<6)}const Vq=new Cp(null,0,0);function Zq(r){let e=0;for(let t=0;t<r.length;t++)e+=r.charCodeAt(t)==eO?8-e%8:1;return e}const b5=new Map([[pq,0],[gq,no],[Oq,so],[mq,so|no],[bq,oo],[yq,oo|no],[xq,oo|so],[wq,oo|so|no],[vq,ao],[Sq,ao|no],[_q,ao|so],[kq,ao|so|no],[$q,ao|oo],[Pq,ao|oo|no],[jq,ao|oo|so],[Qq,ao|oo|so|no]].map(([r,e])=>[r,e|r3])),Gq=new FL({start:Vq,reduce(r,e,t,i){return r.flags&Tp&&Bq.has(e)||(e==dq||e==J$)&&r.flags&r3?r.parent:r},shift(r,e,t,i){return e==G$?new Cp(r,Zq(i.read(i.pos,t.pos)),0):e==H$?r.parent:e==Jz||e==iq||e==oq||e==K$?new Cp(r,0,Tp):b5.has(e)?new Cp(r,0,b5.get(e)|r.flags&Tp):r},hash(r){return r.hash}}),Hq=new hh(r=>{for(let e=0;e<5;e++){if(r.next!="print".charCodeAt(e))return;r.advance()}if(!/\w/.test(String.fromCharCode(r.next)))for(let e=0;;e++){let t=r.peek(e);if(!(t==Oy||t==eO)){t!=Lq&&t!=zq&&t!=Yl&&t!=tf&&t!=my&&r.acceptToken(Fz);return}}}),Kq=new hh((r,e)=>{let{flags:t}=e.context,i=t&no?t3:e3,n=(t&so)>0,s=!(t&oo),o=(t&ao)>0,a=r.pos;for(;!(r.next<0);)if(o&&r.next==ob)if(r.peek(1)==ob)r.advance(2);else{if(r.pos==a){r.acceptToken(K$,1);return}break}else if(s&&r.next==m5){if(r.pos==a){r.advance();let l=r.next;l>=0&&(r.advance(),Jq(r,l)),r.acceptToken(Kz);return}break}else if(r.next==m5&&!s&&r.peek(1)>-1)r.advance(2);else if(r.next==i&&(!n||r.peek(1)==i&&r.peek(2)==i)){if(r.pos==a){r.acceptToken(g5,n?3:1);return}break}else if(r.next==Yl){if(n)r.advance();else if(r.pos==a){r.acceptToken(g5);return}break}else r.advance();r.pos>a&&r.acceptToken(Hz)});function Jq(r,e){if(e==qq)for(let t=0;t<2&&r.next>=48&&r.next<=55;t++)r.advance();else if(e==Iq)for(let t=0;t<2&&H0(r.next);t++)r.advance();else if(e==Yq)for(let t=0;t<4&&H0(r.next);t++)r.advance();else if(e==Dq)for(let t=0;t<8&&H0(r.next);t++)r.advance();else if(e==Wq&&r.next==ob){for(r.advance();r.next>=0&&r.next!=O5&&r.next!=e3&&r.next!=t3&&r.next!=Yl;)r.advance();r.next==O5&&r.advance()}}const eI=Dz({'async "*" "**" FormatConversion FormatSpec':qe.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":qe.controlKeyword,"in not and or is del":qe.operatorKeyword,"from def class global nonlocal lambda":qe.definitionKeyword,import:qe.moduleKeyword,"with as print":qe.keyword,Boolean:qe.bool,None:qe.null,VariableName:qe.variableName,"CallExpression/VariableName":qe.function(qe.variableName),"FunctionDefinition/VariableName":qe.function(qe.definition(qe.variableName)),"ClassDefinition/VariableName":qe.definition(qe.className),PropertyName:qe.propertyName,"CallExpression/MemberExpression/PropertyName":qe.function(qe.propertyName),Comment:qe.lineComment,Number:qe.number,String:qe.string,FormatString:qe.special(qe.string),Escape:qe.escape,UpdateOp:qe.updateOperator,"ArithOp!":qe.arithmeticOperator,BitOp:qe.bitwiseOperator,CompareOp:qe.compareOperator,AssignOp:qe.definitionOperator,Ellipsis:qe.punctuation,At:qe.meta,"( )":qe.paren,"[ ]":qe.squareBracket,"{ }":qe.brace,".":qe.derefOperator,", ;":qe.separator}),tI={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},rI=Ku.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:"⚠ print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:Gq,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[eI],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[Hq,Fq,Mq,Kq,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:r=>tI[r]||-1}],tokenPrec:7668}),iI=1024;let nI=0,zr=class{constructor(e={}){this.id=nI++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Dl.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}};zr.closedBy=new zr({deserialize:r=>r.split(" ")});zr.openedBy=new zr({deserialize:r=>r.split(" ")});zr.group=new zr({deserialize:r=>r.split(" ")});zr.isolate=new zr({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});zr.contextHash=new zr({perNode:!0});zr.lookAhead=new zr({perNode:!0});zr.mounted=new zr({perNode:!0});let bg=class{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[zr.mounted.id]}};const sI=Object.create(null);let Dl=class i3{constructor(e,t,i,n=0){this.name=e,this.props=t,this.id=i,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):sI,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new i3(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(zr.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let n of i.split(" "))t[n]=e[i];return i=>{for(let n=i.prop(zr.group),s=-1;s<(n?n.length:0);s++){let o=t[s<0?i.name:n[s]];if(o)return o}}}};Dl.none=new Dl("",Object.create(null),0,8);const Zd=new WeakMap,y5=new WeakMap;var pi;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(pi||(pi={}));let Ql=class ab{constructor(e,t,i,n,s){if(this.type=e,this.children=t,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=bg.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let n=i.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new cb(this.topNode,e)}cursorAt(e,t=0,i=0){let n=Zd.get(this)||this.topNode,s=new cb(n);return s.moveTo(e,t),Zd.set(this,s._tree),s}get topNode(){return new Xs(this,0,0,null)}resolve(e,t=0){let i=rf(Zd.get(this)||this.topNode,e,t,!1);return Zd.set(this,i),i}resolveInner(e,t=0){let i=rf(y5.get(this)||this.topNode,e,t,!0);return y5.set(this,i),i}resolveStack(e,t=0){return cI(this,e,t)}iterate(e){let{enter:t,leave:i,from:n=0,to:s=this.length}=e,o=e.mode||0,a=(o&pi.IncludeAnonymous)>0;for(let l=this.cursor(o|pi.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=n&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:yy(Dl.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,n)=>new ab(this.type,t,i,n,this.propValues),e.makeTree||((t,i,n)=>new ab(Dl.none,t,i,n)))}static build(e){return hI(e)}};Ql.empty=new Ql(Dl.none,[],[],0);let oI=class n3{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new n3(this.buffer,this.index)}},eh=class s3{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Dl.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,n,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(o3(s,n,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i){let n=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=n[a++],s[l++]=n[a++]-i;let c=s[l++]=n[a++]-i;s[l++]=n[a++]-e,o=Math.max(o,c)}return new s3(s,o,this.set)}};function o3(r,e,t,i){switch(r){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function rf(r,e,t,i){for(var n;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let o=!i&&r instanceof Xs&&r.index<0?null:r.parent;if(!o)return r;r=o}let s=i?0:pi.IgnoreOverlays;if(i)for(let o=r,a=o.parent;a;o=a,a=o.parent)o instanceof Xs&&o.index<0&&((n=a.enter(e,t,s))===null||n===void 0?void 0:n.from)!=o.from&&(r=a);for(;;){let o=r.enter(e,t,s);if(!o)return r;r=o}}let a3=class{cursor(e=0){return new cb(this,e)}getChild(e,t=null,i=null){let n=x5(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return x5(this,e,t,i)}resolve(e,t=0){return rf(this,e,t,!1)}resolveInner(e,t=0){return rf(this,e,t,!0)}matchContext(e){return lb(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}get node(){return this}get next(){return this.parent}},Xs=class Xp extends a3{constructor(e,t,i,n){super(),this._tree=e,this.from=t,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,n,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let h=a[e],f=l[e]+o.from;if(o3(n,i,f,f+h.length)){if(h instanceof eh){if(s&pi.ExcludeBuffers)continue;let g=h.findChild(0,h.buffer.length,t,i-f,n);if(g>-1)return new nf(new aI(o,h,e,f),null,g)}else if(s&pi.IncludeAnonymous||!h.type.isAnonymous||by(h)){let g;if(!(s&pi.IgnoreMounts)&&(g=bg.get(h))&&!g.overlay)return new Xp(g.tree,f,e,o);let p=new Xp(h,f,e,o);return s&pi.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(t<0?h.children.length-1:0,t,i,n)}}}if(s&pi.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let n;if(!(i&pi.IgnoreOverlays)&&(n=bg.get(this._tree))&&n.overlay){let s=e-this.from;for(let{from:o,to:a}of n.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Xp(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function x5(r,e,t,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=n.type.is(t),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function lb(r,e,t=e.length-1){for(let i=r;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}let aI=class{constructor(e,t,i,n){this.parent=e,this.buffer=t,this.index=i,this.start=n}},nf=class Ou extends a3{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new Ou(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&pi.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Ou(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ou(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Ou(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let o=i.buffer[this.index+1];e.push(i.slice(n,s,o)),t.push(0)}return new Ql(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function l3(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let o=r[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let i=t instanceof Xs&&t.index<0?null:t.parent,n=r.slice();return i?n[e]=i:n.splice(e,1),new lI(n,t)}let lI=class{constructor(e,t){this.heads=e,this.node=t}get next(){return l3(this.heads)}};function cI(r,e,t){let i=r.resolveInner(e,t),n=null;for(let s=i instanceof Xs?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(n||(n=[i])).push(o.resolve(e,t)),s=o}else{let o=bg.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Xs(o.tree,o.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(rf(a,e,t,!1))}}return n?l3(n):i}let cb=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Xs)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return e?e instanceof Xs?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&pi.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&pi.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&pi.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(t.findChild(n,this.index,-1,0,4))}else{let n=t.buffer[this.index+3];if(n<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=n)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&pi.IncludeAnonymous||a instanceof eh||!a.type.isAnonymous||by(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,i=s+1;break e}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)t=new nf(this.buffer,t,this.stack[n]);return this.bufferNode=new nf(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&t&&t(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return lb(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return lb(this._tree,e,n);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}};function by(r){return r.children.some(e=>e instanceof eh||!e.type.isAnonymous||by(e))}function hI(r){var e;let{buffer:t,nodeSet:i,maxBufferLength:n=iI,reused:s=[],minRepeatType:o=i.types.length}=r,a=Array.isArray(t)?new oI(t,t.length):t,l=i.types,c=0,h=0;function f(T,E,k,z,Q,W){let{id:_,start:w,end:A,size:j}=a,L=h,K=c;for(;j<0;)if(a.next(),j==-1){let ae=s[_];k.push(ae),z.push(w-T);return}else if(j==-3){c=_;return}else if(j==-4){h=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let re=l[_],te,oe,ve=w-T;if(A-w<=n&&(oe=v(a.pos-E,Q))){let ae=new Uint16Array(oe.size-oe.skip),N=a.pos-oe.size,Y=ae.length;for(;a.pos>N;)Y=S(oe.start,ae,Y);te=new eh(ae,A-oe.start,i),ve=oe.start-T}else{let ae=a.pos-j;a.next();let N=[],Y=[],F=_>=o?_:-1,B=0,ee=A;for(;a.pos>ae;)F>=0&&a.id==F&&a.size>=0?(a.end<=ee-n&&(m(N,Y,w,B,a.end,ee,F,L,K),B=N.length,ee=a.end),a.next()):W>2500?g(w,ae,N,Y):f(w,ae,N,Y,F,W+1);if(F>=0&&B>0&&B<N.length&&m(N,Y,w,B,w,ee,F,L,K),N.reverse(),Y.reverse(),F>-1&&B>0){let le=p(re,K);te=yy(re,N,Y,0,N.length,0,A-w,le,le)}else te=y(re,N,Y,A-w,L-A,K)}k.push(te),z.push(ve)}function g(T,E,k,z){let Q=[],W=0,_=-1;for(;a.pos>E;){let{id:w,start:A,end:j,size:L}=a;if(L>4)a.next();else{if(_>-1&&A<_)break;_<0&&(_=j-n),Q.push(w,A,j),W++,a.next()}}if(W){let w=new Uint16Array(W*4),A=Q[Q.length-2];for(let j=Q.length-3,L=0;j>=0;j-=3)w[L++]=Q[j],w[L++]=Q[j+1]-A,w[L++]=Q[j+2]-A,w[L++]=L;k.push(new eh(w,Q[2]-A,i)),z.push(A-T)}}function p(T,E){return(k,z,Q)=>{let W=0,_=k.length-1,w,A;if(_>=0&&(w=k[_])instanceof Ql){if(!_&&w.type==T&&w.length==Q)return w;(A=w.prop(zr.lookAhead))&&(W=z[_]+w.length+A)}return y(T,k,z,Q,W,E)}}function m(T,E,k,z,Q,W,_,w,A){let j=[],L=[];for(;T.length>z;)j.push(T.pop()),L.push(E.pop()+k-Q);T.push(y(i.types[_],j,L,W-Q,w-W,A)),E.push(Q-k)}function y(T,E,k,z,Q,W,_){if(W){let w=[zr.contextHash,W];_=_?[w].concat(_):[w]}if(Q>25){let w=[zr.lookAhead,Q];_=_?[w].concat(_):[w]}return new Ql(T,E,k,z,_)}function v(T,E){let k=a.fork(),z=0,Q=0,W=0,_=k.end-n,w={size:0,start:0,skip:0};e:for(let A=k.pos-T;k.pos>A;){let j=k.size;if(k.id==E&&j>=0){w.size=z,w.start=Q,w.skip=W,W+=4,z+=4,k.next();continue}let L=k.pos-j;if(j<0||L<A||k.start<_)break;let K=k.id>=o?4:0,re=k.start;for(k.next();k.pos>L;){if(k.size<0)if(k.size==-3)K+=4;else break e;else k.id>=o&&(K+=4);k.next()}Q=re,z+=j,W+=K}return(E<0||z==T)&&(w.size=z,w.start=Q,w.skip=W),w.size>4?w:void 0}function S(T,E,k){let{id:z,start:Q,end:W,size:_}=a;if(a.next(),_>=0&&z<o){let w=k;if(_>4){let A=a.pos-(_-4);for(;a.pos>A;)k=S(T,E,k)}E[--k]=w,E[--k]=W-T,E[--k]=Q-T,E[--k]=z}else _==-3?c=z:_==-4&&(h=z);return k}let C=[],P=[];for(;a.pos>0;)f(r.start||0,r.bufferStart||0,C,P,-1,0);let X=(e=r.length)!==null&&e!==void 0?e:C.length?P[0]+C[0].length:0;return new Ql(l[r.topID],C.reverse(),P.reverse(),X)}const w5=new WeakMap;function Ep(r,e){if(!r.isAnonymous||e instanceof eh||e.type!=r)return 1;let t=w5.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=r||!(i instanceof Ql)){t=1;break}t+=Ep(r,i)}w5.set(e,t)}return t}function yy(r,e,t,i,n,s,o,a,l){let c=0;for(let m=i;m<n;m++)c+=Ep(r,e[m]);let h=Math.ceil(c*1.5/8),f=[],g=[];function p(m,y,v,S,C){for(let P=v;P<S;){let X=P,T=y[P],E=Ep(r,m[P]);for(P++;P<S;P++){let k=Ep(r,m[P]);if(E+k>=h)break;E+=k}if(P==X+1){if(E>h){let k=m[X];p(k.children,k.positions,0,k.children.length,y[X]+C);continue}f.push(m[X])}else{let k=y[P-1]+m[P-1].length-T;f.push(yy(r,m,y,X,P,T,k,null,l))}g.push(T+C-s)}}return p(e,t,i,n,0),(a||l)(f,g,o)}class uI{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let n=this.map.get(e);n||this.map.set(e,n=new Map),n.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof nf?this.setBuffer(e.context.buffer,e.index,t):e instanceof Xs&&this.map.set(e.tree,t)}get(e){return e instanceof nf?this.getBuffer(e.context.buffer,e.index):e instanceof Xs?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}new zr({perNode:!0});function v5(r){let e=Object.keys(r).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function fI(r){let e=Object.create(null),t=Object.create(null);for(let{label:n}of r){e[n[0]]=!0;for(let s=1;s<n.length;s++)t[n[s]]=!0}let i=v5(e)+v5(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function dI(r){let e=r.map(n=>typeof n=="string"?{label:n}:n),[t,i]=e.every(n=>/^\w+$/.test(n.label))?[/\w*$/,/\w+$/]:fI(e);return n=>{let s=n.matchBefore(i);return s||n.explicit?{from:s?s.from:n.pos,options:e,validFor:t}:null}}function pI(r,e){return t=>{for(let i=jn(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(r.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}const gI=Vl.define(),OI=lt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class mI{constructor(e,t,i,n){this.field=e,this.line=t,this.from=i,this.to=n}}class xy{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,Ei.TrackDel),i=e.mapPos(this.to,1,Ei.TrackDel);return t==null||i==null?null:new xy(this.field,t,i)}}class wy{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],n=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(i.length){let c=o,h=/^\t*/.exec(l)[0].length;for(let f=0;f<h;f++)c+=e.facet(Zg);n.push(t+c.length-h),l=c+l.slice(h)}i.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new xy(l.field,n[l.line]+l.from,n[l.line]+l.to));return{text:i,ranges:a}}static parse(e){let t=[],i=[],n=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,h=l.replace(/\\[{}]/g,f=>f[1]);for(let f=0;f<t.length;f++)(a!=null?t[f].seq==a:h&&t[f].name==h)&&(c=f);if(c<0){let f=0;for(;f<t.length&&(a==null||t[f].seq!=null&&t[f].seq<a);)f++;t.splice(f,0,{seq:a,name:h}),c=f;for(let g of n)g.field>=c&&g.field++}for(let f of n)if(f.line==i.length&&f.from>s.index){let g=s[2]?3+(s[1]||"").length:2;f.from-=g,f.to-=g}n.push(new mI(c,i.length,s.index,s.index+h.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let h of n)h.line==i.length&&h.from>c&&(h.from--,h.to--);return l}),i.push(o)}return new wy(i,n)}}let bI=kr.widget({widget:new class extends Mg{toDOM(){let r=document.createElement("span");return r.className="cm-snippetFieldPosition",r}ignoreEvent(){return!1}}}),yI=kr.mark({class:"cm-snippetField"});class uh{constructor(e,t){this.ranges=e,this.active=t,this.deco=kr.set(e.map(i=>(i.from==i.to?bI:yI).range(i.from,i.to)),!0)}map(e){let t=[];for(let i of this.ranges){let n=i.map(e);if(!n)return null;t.push(n)}return new uh(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const wf=_r.define({map(r,e){return r&&r.map(e)}}),xI=_r.define(),sf=Qa.define({create(){return null},update(r,e){for(let t of e.effects){if(t.is(wf))return t.value;if(t.is(xI)&&r)return new uh(r.ranges,t.value)}return r&&e.docChanged&&(r=r.map(e.changes)),r&&e.selection&&!r.selectionInsideField(e.selection)&&(r=null),r},provide:r=>lt.decorations.from(r,e=>e?e.deco:kr.none)});function vy(r,e){return Xe.create(r.filter(t=>t.field==e).map(t=>Xe.range(t.from,t.to)))}function wI(r){let e=wy.parse(r);return(t,i,n,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,n),{main:l}=t.state.selection,c={changes:{from:n,to:s==l.from?l.to:s,insert:Ut.of(o)},scrollIntoView:!0,annotations:i?[gI.of(i),gi.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=vy(a,0)),a.some(h=>h.field>0)){let h=new uh(a,0),f=c.effects=[wf.of(h)];t.state.field(sf,!1)===void 0&&f.push(_r.appendConfig.of([sf,$I,PI,OI]))}t.dispatch(t.state.update(c))}}function c3(r){return({state:e,dispatch:t})=>{let i=e.field(sf,!1);if(!i||r<0&&i.active==0)return!1;let n=i.active+r,s=r>0&&!i.ranges.some(o=>o.field==n+r);return t(e.update({selection:vy(i.ranges,n),effects:wf.of(s?null:new uh(i.ranges,n)),scrollIntoView:!0})),!0}}const vI=({state:r,dispatch:e})=>r.field(sf,!1)?(e(r.update({effects:wf.of(null)})),!0):!1,SI=c3(1),_I=c3(-1),kI=[{key:"Tab",run:SI,shift:_I},{key:"Escape",run:vI}],S5=nt.define({combine(r){return r.length?r[0]:kI}}),$I=Ig.highest(Jb.compute([S5],r=>r.facet(S5)));function to(r,e){return ur(et({},e),{apply:wI(r)})}const PI=lt.domEventHandlers({mousedown(r,e){let t=e.state.field(sf,!1),i;if(!t||(i=e.posAtCoords({x:r.clientX,y:r.clientY}))==null)return!1;let n=t.ranges.find(s=>s.from<=i&&s.to>=i);return!n||n.field==t.active?!1:(e.dispatch({selection:vy(t.ranges,n.field),effects:wf.of(t.ranges.some(s=>s.field>n.field)?new uh(t.ranges,n.field):null),scrollIntoView:!0}),!0)}}),h3=new class extends El{};h3.startSide=1;h3.endSide=-1;const _5=new uI,u3=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function Gd(r){return(e,t,i)=>{if(i)return!1;let n=e.node.getChild("VariableName");return n&&t(n,r),!0}}const jI={FunctionDefinition:Gd("function"),ClassDefinition:Gd("class"),ForStatement(r,e,t){if(t){for(let i=r.node.firstChild;i;i=i.nextSibling)if(i.name=="VariableName")e(i,"variable");else if(i.name=="in")break}},ImportStatement(r,e){var t,i;let{node:n}=r,s=((t=n.firstChild)===null||t===void 0?void 0:t.name)=="from";for(let o=n.getChild("import");o;o=o.nextSibling)o.name=="VariableName"&&((i=o.nextSibling)===null||i===void 0?void 0:i.name)!="as"&&e(o,s?"variable":"namespace")},AssignStatement(r,e){for(let t=r.node.firstChild;t;t=t.nextSibling)if(t.name=="VariableName")e(t,"variable");else if(t.name==":"||t.name=="AssignOp")break},ParamList(r,e){for(let t=null,i=r.node.firstChild;i;i=i.nextSibling)i.name=="VariableName"&&(!t||!/\*|AssignOp/.test(t.name))&&e(i,"variable"),t=i},CapturePattern:Gd("variable"),AsPattern:Gd("variable"),__proto__:null};function f3(r,e){let t=_5.get(e);if(t)return t;let i=[],n=!0;function s(o,a){let l=r.sliceString(o.from,o.to);i.push({label:l,type:a})}return e.cursor(pi.IncludeAnonymous).iterate(o=>{if(o.name){let a=jI[o.name];if(a&&a(o,s,n)||!n&&u3.has(o.name))return!1;n=!1}else if(o.to-o.from>8192){for(let a of f3(r,o.node))i.push(a);return!1}}),_5.set(e,i),i}const k5=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,d3=["String","FormatString","Comment","PropertyName"];function QI(r){let e=jn(r.state).resolveInner(r.pos,-1);if(d3.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&k5.test(r.state.sliceDoc(e.from,e.to));if(!t&&!r.explicit)return null;let i=[];for(let n=e;n;n=n.parent)u3.has(n.name)&&(i=i.concat(f3(r.state.doc,n)));return{options:i,from:t?e.from:r.pos,validFor:k5}}const NI=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(r=>({label:r,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(r=>({label:r,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(r=>({label:r,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(r=>({label:r,type:"function"}))),AI=[to("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),to("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),to("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),to("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),to(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),to("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),to("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),to("import ${module}",{label:"import",detail:"statement",type:"keyword"}),to("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],TI=pI(d3,dI(NI.concat(AI)));function K0(r){let{node:e,pos:t}=r,i=r.lineIndent(t,-1),n=null;for(;;){let s=e.childBefore(t);if(s)if(s.name=="Comment")t=s.from;else if(s.name=="Body"||s.name=="MatchBody")r.baseIndentFor(s)+r.unit<=i&&(n=s),e=s;else if(s.name=="MatchClause")e=s;else if(s.type.is("Statement"))e=s;else break;else break}return n}function J0(r,e){let t=r.baseIndentFor(e),i=r.lineAt(r.pos,-1),n=i.from+i.text.length;return/^\s*($|#)/.test(i.text)&&r.node.to<n+100&&!/\S/.test(r.state.sliceDoc(n,r.node.to))&&r.lineIndent(r.pos,-1)<=t||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(r.textAfter)&&r.lineIndent(r.pos,-1)>t?null:t+r.unit}const em=Zu.define({name:"python",parser:rI.configure({props:[ry.add({Body:r=>{var e;let t=/^\s*(#|$)/.test(r.textAfter)&&K0(r)||r.node;return(e=J0(r,t))!==null&&e!==void 0?e:r.continue()},MatchBody:r=>{var e;let t=K0(r);return(e=J0(r,t||r.node))!==null&&e!==void 0?e:r.continue()},IfStatement:r=>/^\s*(else:|elif )/.test(r.textAfter)?r.baseIndent:r.continue(),"ForStatement WhileStatement":r=>/^\s*else:/.test(r.textAfter)?r.baseIndent:r.continue(),TryStatement:r=>/^\s*(except[ :]|finally:|else:)/.test(r.textAfter)?r.baseIndent:r.continue(),MatchStatement:r=>/^\s*case /.test(r.textAfter)?r.baseIndent+r.unit:r.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":vp({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":vp({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":vp({closing:"]"}),MemberExpression:r=>r.baseIndent+r.unit,"String FormatString":()=>null,Script:r=>{var e;let t=K0(r);return(e=t&&J0(r,t))!==null&&e!==void 0?e:r.continue()}}),V4.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":Z4,Body:(r,e)=>({from:r.from+1,to:r.to-(r.to==e.doc.length?0:1)}),"String FormatString":(r,e)=>({from:e.doc.lineAt(r.from).to,to:r.to})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function CI(){return new D4(em,[em.data.of({autocomplete:QI}),em.data.of({autocomplete:TI})])}const XI=1024;let EI=0;class jr{constructor(e={}){this.id=EI++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=So.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}jr.closedBy=new jr({deserialize:r=>r.split(" ")});jr.openedBy=new jr({deserialize:r=>r.split(" ")});jr.group=new jr({deserialize:r=>r.split(" ")});jr.isolate=new jr({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});jr.contextHash=new jr({perNode:!0});jr.lookAhead=new jr({perNode:!0});jr.mounted=new jr({perNode:!0});class yg{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[jr.mounted.id]}}const RI=Object.create(null);class So{constructor(e,t,i,n=0){this.name=e,this.props=t,this.id=i,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):RI,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new So(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(jr.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let n of i.split(" "))t[n]=e[i];return i=>{for(let n=i.prop(jr.group),s=-1;s<(n?n.length:0);s++){let o=t[s<0?i.name:n[s]];if(o)return o}}}}So.none=new So("",Object.create(null),0,8);const Hd=new WeakMap,$5=new WeakMap;var Pi;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(Pi||(Pi={}));class As{constructor(e,t,i,n,s){if(this.type=e,this.children=t,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=yg.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let n=i.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new ub(this.topNode,e)}cursorAt(e,t=0,i=0){let n=Hd.get(this)||this.topNode,s=new ub(n);return s.moveTo(e,t),Hd.set(this,s._tree),s}get topNode(){return new _n(this,0,0,null)}resolve(e,t=0){let i=of(Hd.get(this)||this.topNode,e,t,!1);return Hd.set(this,i),i}resolveInner(e,t=0){let i=of($5.get(this)||this.topNode,e,t,!0);return $5.set(this,i),i}resolveStack(e,t=0){return zI(this,e,t)}iterate(e){let{enter:t,leave:i,from:n=0,to:s=this.length}=e,o=e.mode||0,a=(o&Pi.IncludeAnonymous)>0;for(let l=this.cursor(o|Pi.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=n&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:ky(So.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,n)=>new As(this.type,t,i,n,this.propValues),e.makeTree||((t,i,n)=>new As(So.none,t,i,n)))}static build(e){return qI(e)}}As.empty=new As(So.none,[],[],0);class Sy{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Sy(this.buffer,this.index)}}class $a{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return So.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,n,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(p3(s,n,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i){let n=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=n[a++],s[l++]=n[a++]-i;let c=s[l++]=n[a++]-i;s[l++]=n[a++]-e,o=Math.max(o,c)}return new $a(s,o,this.set)}}function p3(r,e,t,i){switch(r){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function of(r,e,t,i){for(var n;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let o=!i&&r instanceof _n&&r.index<0?null:r.parent;if(!o)return r;r=o}let s=i?0:Pi.IgnoreOverlays;if(i)for(let o=r,a=o.parent;a;o=a,a=o.parent)o instanceof _n&&o.index<0&&((n=a.enter(e,t,s))===null||n===void 0?void 0:n.from)!=o.from&&(r=a);for(;;){let o=r.enter(e,t,s);if(!o)return r;r=o}}class g3{cursor(e=0){return new ub(this,e)}getChild(e,t=null,i=null){let n=P5(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return P5(this,e,t,i)}resolve(e,t=0){return of(this,e,t,!1)}resolveInner(e,t=0){return of(this,e,t,!0)}matchContext(e){return hb(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}get node(){return this}get next(){return this.parent}}class _n extends g3{constructor(e,t,i,n){super(),this._tree=e,this.from=t,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,n,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let h=a[e],f=l[e]+o.from;if(p3(n,i,f,f+h.length)){if(h instanceof $a){if(s&Pi.ExcludeBuffers)continue;let g=h.findChild(0,h.buffer.length,t,i-f,n);if(g>-1)return new ca(new UI(o,h,e,f),null,g)}else if(s&Pi.IncludeAnonymous||!h.type.isAnonymous||_y(h)){let g;if(!(s&Pi.IgnoreMounts)&&(g=yg.get(h))&&!g.overlay)return new _n(g.tree,f,e,o);let p=new _n(h,f,e,o);return s&Pi.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(t<0?h.children.length-1:0,t,i,n)}}}if(s&Pi.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let n;if(!(i&Pi.IgnoreOverlays)&&(n=yg.get(this._tree))&&n.overlay){let s=e-this.from;for(let{from:o,to:a}of n.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new _n(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function P5(r,e,t,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=n.type.is(t),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function hb(r,e,t=e.length-1){for(let i=r;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class UI{constructor(e,t,i,n){this.parent=e,this.buffer=t,this.index=i,this.start=n}}class ca extends g3{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new ca(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Pi.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new ca(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ca(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new ca(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let o=i.buffer[this.index+1];e.push(i.slice(n,s,o)),t.push(0)}return new As(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function O3(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let o=r[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let i=t instanceof _n&&t.index<0?null:t.parent,n=r.slice();return i?n[e]=i:n.splice(e,1),new LI(n,t)}class LI{constructor(e,t){this.heads=e,this.node=t}get next(){return O3(this.heads)}}function zI(r,e,t){let i=r.resolveInner(e,t),n=null;for(let s=i instanceof _n?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(n||(n=[i])).push(o.resolve(e,t)),s=o}else{let o=yg.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new _n(o.tree,o.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(of(a,e,t,!1))}}return n?O3(n):i}class ub{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof _n)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return e?e instanceof _n?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&Pi.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Pi.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Pi.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(t.findChild(n,this.index,-1,0,4))}else{let n=t.buffer[this.index+3];if(n<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=n)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&Pi.IncludeAnonymous||a instanceof $a||!a.type.isAnonymous||_y(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,i=s+1;break e}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)t=new ca(this.buffer,t,this.stack[n]);return this.bufferNode=new ca(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&t&&t(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return hb(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return hb(this._tree,e,n);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}}function _y(r){return r.children.some(e=>e instanceof $a||!e.type.isAnonymous||_y(e))}function qI(r){var e;let{buffer:t,nodeSet:i,maxBufferLength:n=XI,reused:s=[],minRepeatType:o=i.types.length}=r,a=Array.isArray(t)?new Sy(t,t.length):t,l=i.types,c=0,h=0;function f(T,E,k,z,Q,W){let{id:_,start:w,end:A,size:j}=a,L=h,K=c;for(;j<0;)if(a.next(),j==-1){let ae=s[_];k.push(ae),z.push(w-T);return}else if(j==-3){c=_;return}else if(j==-4){h=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let re=l[_],te,oe,ve=w-T;if(A-w<=n&&(oe=v(a.pos-E,Q))){let ae=new Uint16Array(oe.size-oe.skip),N=a.pos-oe.size,Y=ae.length;for(;a.pos>N;)Y=S(oe.start,ae,Y);te=new $a(ae,A-oe.start,i),ve=oe.start-T}else{let ae=a.pos-j;a.next();let N=[],Y=[],F=_>=o?_:-1,B=0,ee=A;for(;a.pos>ae;)F>=0&&a.id==F&&a.size>=0?(a.end<=ee-n&&(m(N,Y,w,B,a.end,ee,F,L,K),B=N.length,ee=a.end),a.next()):W>2500?g(w,ae,N,Y):f(w,ae,N,Y,F,W+1);if(F>=0&&B>0&&B<N.length&&m(N,Y,w,B,w,ee,F,L,K),N.reverse(),Y.reverse(),F>-1&&B>0){let le=p(re,K);te=ky(re,N,Y,0,N.length,0,A-w,le,le)}else te=y(re,N,Y,A-w,L-A,K)}k.push(te),z.push(ve)}function g(T,E,k,z){let Q=[],W=0,_=-1;for(;a.pos>E;){let{id:w,start:A,end:j,size:L}=a;if(L>4)a.next();else{if(_>-1&&A<_)break;_<0&&(_=j-n),Q.push(w,A,j),W++,a.next()}}if(W){let w=new Uint16Array(W*4),A=Q[Q.length-2];for(let j=Q.length-3,L=0;j>=0;j-=3)w[L++]=Q[j],w[L++]=Q[j+1]-A,w[L++]=Q[j+2]-A,w[L++]=L;k.push(new $a(w,Q[2]-A,i)),z.push(A-T)}}function p(T,E){return(k,z,Q)=>{let W=0,_=k.length-1,w,A;if(_>=0&&(w=k[_])instanceof As){if(!_&&w.type==T&&w.length==Q)return w;(A=w.prop(jr.lookAhead))&&(W=z[_]+w.length+A)}return y(T,k,z,Q,W,E)}}function m(T,E,k,z,Q,W,_,w,A){let j=[],L=[];for(;T.length>z;)j.push(T.pop()),L.push(E.pop()+k-Q);T.push(y(i.types[_],j,L,W-Q,w-W,A)),E.push(Q-k)}function y(T,E,k,z,Q,W,_){if(W){let w=[jr.contextHash,W];_=_?[w].concat(_):[w]}if(Q>25){let w=[jr.lookAhead,Q];_=_?[w].concat(_):[w]}return new As(T,E,k,z,_)}function v(T,E){let k=a.fork(),z=0,Q=0,W=0,_=k.end-n,w={size:0,start:0,skip:0};e:for(let A=k.pos-T;k.pos>A;){let j=k.size;if(k.id==E&&j>=0){w.size=z,w.start=Q,w.skip=W,W+=4,z+=4,k.next();continue}let L=k.pos-j;if(j<0||L<A||k.start<_)break;let K=k.id>=o?4:0,re=k.start;for(k.next();k.pos>L;){if(k.size<0)if(k.size==-3)K+=4;else break e;else k.id>=o&&(K+=4);k.next()}Q=re,z+=j,W+=K}return(E<0||z==T)&&(w.size=z,w.start=Q,w.skip=W),w.size>4?w:void 0}function S(T,E,k){let{id:z,start:Q,end:W,size:_}=a;if(a.next(),_>=0&&z<o){let w=k;if(_>4){let A=a.pos-(_-4);for(;a.pos>A;)k=S(T,E,k)}E[--k]=w,E[--k]=W-T,E[--k]=Q-T,E[--k]=z}else _==-3?c=z:_==-4&&(h=z);return k}let C=[],P=[];for(;a.pos>0;)f(r.start||0,r.bufferStart||0,C,P,-1,0);let X=(e=r.length)!==null&&e!==void 0?e:C.length?P[0]+C[0].length:0;return new As(l[r.topID],C.reverse(),P.reverse(),X)}const j5=new WeakMap;function Rp(r,e){if(!r.isAnonymous||e instanceof $a||e.type!=r)return 1;let t=j5.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=r||!(i instanceof As)){t=1;break}t+=Rp(r,i)}j5.set(e,t)}return t}function ky(r,e,t,i,n,s,o,a,l){let c=0;for(let m=i;m<n;m++)c+=Rp(r,e[m]);let h=Math.ceil(c*1.5/8),f=[],g=[];function p(m,y,v,S,C){for(let P=v;P<S;){let X=P,T=y[P],E=Rp(r,m[P]);for(P++;P<S;P++){let k=Rp(r,m[P]);if(E+k>=h)break;E+=k}if(P==X+1){if(E>h){let k=m[X];p(k.children,k.positions,0,k.children.length,y[X]+C);continue}f.push(m[X])}else{let k=y[P-1]+m[P-1].length-T;f.push(ky(r,m,y,X,P,T,k,null,l))}g.push(T+C-s)}}return p(e,t,i,n,0),(a||l)(f,g,o)}new jr({perNode:!0});let II=0;class xn{constructor(e,t,i,n){this.name=e,this.set=t,this.base=i,this.modified=n,this.id=II++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof xn&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let n=new xn(i,[],null,[]);if(n.set.push(n),t)for(let s of t.set)n.set.push(s);return n}static defineModifier(e){let t=new xg(e);return i=>i.modified.indexOf(t)>-1?i:xg.get(i.base||i,i.modified.concat(t).sort((n,s)=>n.id-s.id))}}let WI=0;class xg{constructor(e){this.name=e,this.instances=[],this.id=WI++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&YI(t,a.modified));if(i)return i;let n=[],s=new xn(e.name,n,e,t);for(let a of t)a.instances.push(s);let o=DI(t);for(let a of e.set)if(!a.modified.length)for(let l of o)n.push(xg.get(a,l));return s}}function YI(r,e){return r.length==e.length&&r.every((t,i)=>t==e[i])}function DI(r){let e=[[]];for(let t=0;t<r.length;t++)for(let i=0,n=e.length;i<n;i++)e.push(e[i].concat(r[t]));return e.sort((t,i)=>i.length-t.length)}new jr;function BI(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:n=null}=e||{};return{style:s=>{let o=n;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:i}}const ze=xn.define,Kd=ze(),Jo=ze(),Q5=ze(Jo),N5=ze(Jo),ea=ze(),Jd=ze(ea),tm=ze(ea),ys=ze(),ll=ze(ys),ds=ze(),ps=ze(),fb=ze(),ru=ze(fb),ep=ze(),Ce={comment:Kd,lineComment:ze(Kd),blockComment:ze(Kd),docComment:ze(Kd),name:Jo,variableName:ze(Jo),typeName:Q5,tagName:ze(Q5),propertyName:N5,attributeName:ze(N5),className:ze(Jo),labelName:ze(Jo),namespace:ze(Jo),macroName:ze(Jo),literal:ea,string:Jd,docString:ze(Jd),character:ze(Jd),attributeValue:ze(Jd),number:tm,integer:ze(tm),float:ze(tm),bool:ze(ea),regexp:ze(ea),escape:ze(ea),color:ze(ea),url:ze(ea),keyword:ds,self:ze(ds),null:ze(ds),atom:ze(ds),unit:ze(ds),modifier:ze(ds),operatorKeyword:ze(ds),controlKeyword:ze(ds),definitionKeyword:ze(ds),moduleKeyword:ze(ds),operator:ps,derefOperator:ze(ps),arithmeticOperator:ze(ps),logicOperator:ze(ps),bitwiseOperator:ze(ps),compareOperator:ze(ps),updateOperator:ze(ps),definitionOperator:ze(ps),typeOperator:ze(ps),controlOperator:ze(ps),punctuation:fb,separator:ze(fb),bracket:ru,angleBracket:ze(ru),squareBracket:ze(ru),paren:ze(ru),brace:ze(ru),content:ys,heading:ll,heading1:ze(ll),heading2:ze(ll),heading3:ze(ll),heading4:ze(ll),heading5:ze(ll),heading6:ze(ll),contentSeparator:ze(ys),list:ze(ys),quote:ze(ys),emphasis:ze(ys),strong:ze(ys),link:ze(ys),monospace:ze(ys),strikethrough:ze(ys),inserted:ze(),deleted:ze(),changed:ze(),invalid:ze(),meta:ep,documentMeta:ze(ep),annotation:ze(ep),processingInstruction:ze(ep),definition:xn.defineModifier("definition"),constant:xn.defineModifier("constant"),function:xn.defineModifier("function"),standard:xn.defineModifier("standard"),local:xn.defineModifier("local"),special:xn.defineModifier("special")};for(let r in Ce){let e=Ce[r];e instanceof xn&&(e.name=r)}BI([{tag:Ce.link,class:"tok-link"},{tag:Ce.heading,class:"tok-heading"},{tag:Ce.emphasis,class:"tok-emphasis"},{tag:Ce.strong,class:"tok-strong"},{tag:Ce.keyword,class:"tok-keyword"},{tag:Ce.atom,class:"tok-atom"},{tag:Ce.bool,class:"tok-bool"},{tag:Ce.url,class:"tok-url"},{tag:Ce.labelName,class:"tok-labelName"},{tag:Ce.inserted,class:"tok-inserted"},{tag:Ce.deleted,class:"tok-deleted"},{tag:Ce.literal,class:"tok-literal"},{tag:Ce.string,class:"tok-string"},{tag:Ce.number,class:"tok-number"},{tag:[Ce.regexp,Ce.escape,Ce.special(Ce.string)],class:"tok-string2"},{tag:Ce.variableName,class:"tok-variableName"},{tag:Ce.local(Ce.variableName),class:"tok-variableName tok-local"},{tag:Ce.definition(Ce.variableName),class:"tok-variableName tok-definition"},{tag:Ce.special(Ce.variableName),class:"tok-variableName2"},{tag:Ce.definition(Ce.propertyName),class:"tok-propertyName tok-definition"},{tag:Ce.typeName,class:"tok-typeName"},{tag:Ce.namespace,class:"tok-namespace"},{tag:Ce.className,class:"tok-className"},{tag:Ce.macroName,class:"tok-macroName"},{tag:Ce.propertyName,class:"tok-propertyName"},{tag:Ce.operator,class:"tok-operator"},{tag:Ce.comment,class:"tok-comment"},{tag:Ce.meta,class:"tok-meta"},{tag:Ce.invalid,class:"tok-invalid"},{tag:Ce.punctuation,class:"tok-punctuation"}]);const MI="#e5c07b",A5="#e06c75",FI="#56b6c2",VI="#ffffff",Up="#abb2bf",db="#7d8799",ZI="#61afef",GI="#98c379",T5="#d19a66",HI="#c678dd",KI="#21252b",C5="#2c313a",X5="#282c34",rm="#353a42",JI="#3E4451",E5="#528bff",eW=lt.theme({"&":{color:Up,backgroundColor:X5},".cm-content":{caretColor:E5},".cm-cursor, .cm-dropCursor":{borderLeftColor:E5},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:JI},".cm-panels":{backgroundColor:KI,color:Up},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:X5,color:db,border:"none"},".cm-activeLineGutter":{backgroundColor:C5},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:rm},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:rm,borderBottomColor:rm},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:C5,color:Up}}},{dark:!0}),tW=yf.define([{tag:Ce.keyword,color:HI},{tag:[Ce.name,Ce.deleted,Ce.character,Ce.propertyName,Ce.macroName],color:A5},{tag:[Ce.function(Ce.variableName),Ce.labelName],color:ZI},{tag:[Ce.color,Ce.constant(Ce.name),Ce.standard(Ce.name)],color:T5},{tag:[Ce.definition(Ce.name),Ce.separator],color:Up},{tag:[Ce.typeName,Ce.className,Ce.number,Ce.changed,Ce.annotation,Ce.modifier,Ce.self,Ce.namespace],color:MI},{tag:[Ce.operator,Ce.operatorKeyword,Ce.url,Ce.escape,Ce.regexp,Ce.link,Ce.special(Ce.string)],color:FI},{tag:[Ce.meta,Ce.comment],color:db},{tag:Ce.strong,fontWeight:"bold"},{tag:Ce.emphasis,fontStyle:"italic"},{tag:Ce.strikethrough,textDecoration:"line-through"},{tag:Ce.link,color:db,textDecoration:"underline"},{tag:Ce.heading,fontWeight:"bold",color:A5},{tag:[Ce.atom,Ce.bool,Ce.special(Ce.variableName)],color:T5},{tag:[Ce.processingInstruction,Ce.string,Ce.inserted],color:GI},{tag:Ce.invalid,color:VI}]),rW=[eW,H4(tW)],iW=lt.theme({"&":{fontSize:"14px",fontFamily:'JetBrains Mono, Consolas, "Courier New", monospace',backgroundColor:"#ffffff",height:"100%"},".cm-content":{padding:"16px",minHeight:"100%",color:"#1a202c",backgroundColor:"#ffffff"},".cm-editor":{borderRadius:"8px",border:"2px solid #e2e8f0",backgroundColor:"#ffffff",height:"100%"},".cm-scroller":{overflow:"auto",maxHeight:"100%"},".cm-focused":{outline:"2px solid #3b82f6",outlineOffset:"-2px"},".cm-gutters":{backgroundColor:"#f8fafc",color:"#64748b",border:"none",borderRight:"1px solid #e2e8f0"},".cm-activeLineGutter":{backgroundColor:"#f1f5f9"},".cm-activeLine":{backgroundColor:"#f8fafc"},".cm-keyword":{color:"#d73a49",fontWeight:"bold"},".cm-operator":{color:"#d73a49"},".cm-variableName":{color:"#24292e"},".cm-typeName":{color:"#6f42c1"},".cm-function":{color:"#6f42c1"},".cm-string":{color:"#032f62"},".cm-number":{color:"#005cc5"},".cm-comment":{color:"#6a737d",fontStyle:"italic"},".cm-meta":{color:"#005cc5"},".cm-bracket":{color:"#24292e"},".cm-punctuation":{color:"#24292e"},".cm-definition":{color:"#6f42c1"},".cm-propertyName":{color:"#005cc5"},".cm-operator, .cm-punctuation":{color:"#d73a49"}}),nW=lt.theme({"&":{height:"100%"},".cm-editor":{height:"100%"},".cm-scroller":{overflow:"auto",maxHeight:"100%"},".cm-gutters":{backgroundColor:"#1e1e1e",color:"#858585",border:"none",borderRight:"1px solid #3e3e3e"},".cm-activeLineGutter":{backgroundColor:"#2d2d2d",color:"#c6c6c6"},".cm-lineNumbers .cm-gutterElement":{color:"#858585",minWidth:"3ch"}},{dark:!0}),sW=({value:r,onChange:e,language:t,theme:i="light",readOnly:n=!1,fontSize:s=14})=>{const o=ie.useRef(null),a=ie.useRef(null);return ie.useEffect(()=>{if(!o.current)return;const l=()=>{switch(t){case"cpp":case"c":return a5();case"python":return CI();case"java":return a5();default:return[]}},c=lt.theme({"&":{fontSize:`${s}px`},".cm-content":{fontSize:`${s}px`}}),h=[CR(),Jb.of(QL),l(),lt.updateListener.of(p=>{p.docChanged&&!n&&e(p.state.doc.toString())}),i==="dark"?[rW,nW,c]:[iW,H4(dU),c],Dt.readOnly.of(n)],f=Dt.create({doc:r,extensions:h}),g=new lt({state:f,parent:o.current});return a.current=g,()=>{g.destroy(),a.current=null}},[t,i,n,s]),ie.useEffect(()=>{a.current&&a.current.state.doc.toString()!==r&&a.current.dispatch({changes:{from:0,to:a.current.state.doc.length,insert:r}})},[r]),u.jsx("div",{className:"code-editor-container",style:{height:"100%",width:"100%"},children:u.jsx("div",{ref:o,className:"code-editor",style:{height:"100%",width:"100%"}})})},$y=({value:r,onChange:e,language:t,darkMode:i=!1,onRun:n,isExecuting:s=!1,output:o="",onBack:a,title:l="Code Editor",originalCode:c="",showLanguageSelector:h=!1,onLanguageChange:f,availableLanguages:g=["c","cpp","python","java"]})=>{const[p,m]=ie.useState(""),[y,v]=ie.useState(!1),[S,C]=ie.useState(!1),[P,X]=ie.useState(i),[T,E]=ie.useState(14);ie.useEffect(()=>{const A=localStorage.getItem(`saved_code_${t}_${l}`),j=localStorage.getItem(`saved_input_${t}_${l}`);A&&A.trim()&&e(A),j&&j.trim()&&m(j)},[]);const k=()=>H(void 0,null,function*(){try{yield navigator.clipboard.writeText(r),v(!0),setTimeout(()=>v(!1),2e3)}catch(A){console.error("Failed to copy:",A)}}),z=()=>{if(window.confirm(`Choose your save option:

Click "OK" to SAVE to browser (localStorage)
Click "Cancel" to DOWNLOAD PDF`)){try{localStorage.setItem(`saved_code_${t}_${l}`,r),localStorage.setItem(`saved_input_${t}_${l}`,p),C(!0),setTimeout(()=>C(!1),2e3)}catch(j){console.error("Failed to save:",j),alert("Failed to save to browser. Please try again.")}return}try{localStorage.setItem(`saved_code_${t}_${l}`,r),localStorage.setItem(`saved_input_${t}_${l}`,p);const j=new Ke,L=j.internal.pageSize.getWidth(),K=j.internal.pageSize.getHeight(),re=15;let te=re;j.setFontSize(18),j.setFont("helvetica","bold"),j.text(l,L/2,te,{align:"center"}),te+=15,j.setFontSize(10),j.setFont("helvetica","normal"),j.text(`Language: ${_()}`,re,te),te+=10,j.setLineWidth(.5),j.line(re,te,L-re,te),te+=10,j.setFontSize(14),j.setFont("helvetica","bold"),j.text("Program:",re,te),te+=8,j.setFontSize(9),j.setFont("courier","normal"),r.split(`
`).forEach(Y=>{te>K-re&&(j.addPage(),te=re);const F=Y.replace(/\t/g,"    ");j.text(F||" ",re,te),te+=5}),te+=10,j.setLineWidth(.5),j.line(re,te,L-re,te),te+=10,j.setFontSize(14),j.setFont("helvetica","bold"),j.text("Input:",re,te),te+=8,j.setFontSize(10),j.setFont("courier","normal"),p.trim()?p.split(`
`).forEach(F=>{te>K-re&&(j.addPage(),te=re),j.text(F||" ",re,te),te+=5}):(j.setFont("helvetica","italic"),j.text("(No input provided)",re,te),te+=5),te+=10,j.setLineWidth(.5),j.line(re,te,L-re,te),te+=10,j.setFontSize(14),j.setFont("helvetica","bold"),j.text("Output:",re,te),te+=8,j.setFontSize(10),j.setFont("courier","normal"),o.trim()?o.split(`
`).forEach(F=>{te>K-re&&(j.addPage(),te=re),j.text(F||" ",re,te),te+=5}):(j.setFont("helvetica","italic"),j.text("(No output yet - Run the program to see output)",re,te));const ve=t==="c"?"c":t==="cpp"?"cpp":"py",ae=new Date().toISOString().split("T")[0],N=`${l.replace(/\s+/g,"_")}_${ve}_${ae}.pdf`;j.save(N),C(!0),setTimeout(()=>C(!1),2e3)}catch(j){console.error("Failed to generate PDF:",j),alert("Failed to generate PDF. Please try again.")}},Q=()=>{e(c),m("")},W=()=>H(void 0,null,function*(){yield n(r,p)}),_=()=>{switch(t){case"c":return"C";case"cpp":return"C++";case"python":return"Python"}},w=o.startsWith("Error")||o.startsWith("Execution Error");return u.jsxs("div",{className:`min-h-screen relative ${P?"bg-gradient-to-br from-gray-950 via-indigo-950 to-gray-900":"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"}`,children:[u.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[...Array(20)].map((A,j)=>u.jsx("div",{className:`absolute rounded-full ${P?"bg-blue-500/10":"bg-indigo-400/20"} animate-float`,style:{width:`${Math.random()*100+50}px`,height:`${Math.random()*100+50}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${Math.random()*10+10}s`}},j))}),u.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-2 max-w-7xl",children:[u.jsx("div",{className:`rounded-2xl shadow-xl mb-4 transition-all duration-300 backdrop-blur-xl ${P?"bg-gradient-to-br from-gray-950/95 via-indigo-950/95 to-gray-900/95 border border-white/10":"bg-gradient-to-br from-blue-50/95 via-indigo-50/95 to-purple-50/95 border border-gray-200/50 shadow-2xl"}`,children:u.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3",children:[a&&u.jsxs("button",{onClick:a,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all duration-300 hover:scale-105 ${P?"bg-white/10 hover:bg-white/20 text-white":"bg-white/60 hover:bg-white/80 text-gray-900 shadow-md"}`,children:[u.jsx(Lc,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Back"})]}),u.jsx("div",{className:`flex-1 mx-4 text-center ${P?"text-white":"text-gray-900"}`,children:u.jsx("h1",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent truncate",children:l})}),u.jsx("button",{onClick:()=>X(!P),className:`p-2 rounded-lg transition-all duration-300 hover:scale-105 ${P?"bg-white/10 hover:bg-white/20 text-yellow-300":"bg-white/60 hover:bg-white/80 text-gray-700 shadow-md"}`,title:"Toggle Theme",children:P?u.jsx(wP,{className:"w-4 h-4"}):u.jsx(vP,{className:"w-4 h-4"})})]})}),u.jsxs("div",{className:`rounded-2xl shadow-2xl overflow-hidden ${P?"bg-white/5 backdrop-blur-2xl border border-white/10":"bg-white/40 backdrop-blur-2xl border border-white/50 shadow-xl"}`,children:[u.jsxs("div",{className:`flex items-center justify-between gap-2 sm:gap-3 px-4 sm:px-6 py-3 border-b ${P?"border-white/10 bg-white/5":"border-gray-200/50 bg-white/30"}`,children:[h&&f?u.jsx("select",{value:t,onChange:A=>f(A.target.value),className:`px-3 py-1.5 rounded-lg font-mono font-semibold text-xs sm:text-sm shrink-0 border focus:outline-none focus:ring-2 focus:ring-blue-500 ${P?"bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-blue-300 border-blue-400/30":"bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700 border-blue-300"}`,children:g.map(A=>u.jsx("option",{value:A,className:P?"bg-gray-800":"bg-white",children:A==="c"?"C":A==="cpp"?"C++":A==="python"?"Python":"Java"},A))}):u.jsx("span",{className:`px-3 py-1.5 rounded-lg font-mono font-semibold text-xs sm:text-sm shrink-0 ${P?"bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-blue-300 border border-blue-400/30":"bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700 border border-blue-300"}`,children:_()}),u.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap justify-end",children:[u.jsxs("button",{onClick:W,disabled:s,className:`flex items-center gap-1.5 px-3 sm:px-5 py-1.5 sm:py-2 rounded-lg font-semibold text-xs sm:text-sm transition-all duration-300 transform hover:scale-105 shrink-0 ${s?"bg-gradient-to-r from-yellow-500 to-orange-500 animate-pulse cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-lg hover:shadow-green-500/50"} text-white`,title:"Run Code",children:[u.jsx(SP,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${s?"animate-spin":""}`,fill:"currentColor"}),u.jsx("span",{className:"hidden sm:inline",children:s?"Running...":"Run"})]}),u.jsx("button",{onClick:k,className:`p-1.5 sm:p-2 rounded-lg transition-all duration-300 hover:scale-105 shrink-0 ${y?"bg-green-500 text-white shadow-lg":P?"bg-white/10 hover:bg-white/20 text-white":"bg-white/60 hover:bg-white/90 text-gray-700 shadow-md"}`,title:"Copy Code",children:y?u.jsx(_P,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}):u.jsx(kP,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),u.jsx("button",{onClick:z,className:`p-1.5 sm:p-2 rounded-lg transition-all duration-300 hover:scale-105 shrink-0 ${S?"bg-blue-500 text-white shadow-lg":P?"bg-white/10 hover:bg-white/20 text-white":"bg-white/60 hover:bg-white/90 text-gray-700 shadow-md"}`,title:"Save Code",children:u.jsx($P,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),u.jsx("button",{onClick:Q,className:`p-1.5 sm:p-2 rounded-lg transition-all duration-300 hover:scale-105 shrink-0 ${P?"bg-red-500/20 hover:bg-red-500/30 text-red-300":"bg-red-100 hover:bg-red-200 text-red-600 shadow-md"}`,title:"Clear All",children:u.jsx(PP,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),u.jsx("div",{className:`h-6 w-px shrink-0 ${P?"bg-white/20":"bg-gray-300"}`}),u.jsxs("div",{className:"relative shrink-0",children:[u.jsxs("select",{value:T,onChange:A=>E(Number(A.target.value)),className:`px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-300 appearance-none cursor-pointer pr-6 sm:pr-8 ${P?"bg-white/10 hover:bg-white/20 text-white border border-white/20 [&>option]:bg-gray-900 [&>option]:text-white":"bg-white/60 hover:bg-white/90 text-gray-700 border border-gray-300 shadow-md [&>option]:bg-white [&>option]:text-gray-900"}`,title:"Font Size",children:[u.jsx("option",{value:"10",children:"10px"}),u.jsx("option",{value:"12",children:"12px"}),u.jsx("option",{value:"14",children:"14px"}),u.jsx("option",{value:"16",children:"16px"}),u.jsx("option",{value:"18",children:"18px"}),u.jsx("option",{value:"20",children:"20px"}),u.jsx("option",{value:"22",children:"22px"}),u.jsx("option",{value:"24",children:"24px"})]}),u.jsx(jP,{className:`absolute right-1.5 sm:right-2 top-1/2 -translate-y-1/2 w-3 h-3 sm:w-3.5 sm:h-3.5 pointer-events-none ${P?"text-white/60":"text-gray-500"}`})]})]})]}),u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 opacity-0 group-focus-within:opacity-20 blur-xl transition-opacity duration-500 pointer-events-none"}),u.jsx("div",{style:{height:"70vh",minHeight:"400px"},className:"relative overflow-hidden rounded-xl",children:u.jsx(sW,{value:r,onChange:e,language:t,theme:P?"dark":"light",readOnly:!1,fontSize:T})})]}),u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-4 p-4 sm:p-6 border-t ${P?"border-white/10 bg-white/5":"border-gray-200/50 bg-white/30"}`,children:[u.jsxs("div",{className:"relative group",children:[u.jsx("label",{className:`block text-sm font-semibold mb-2 ${P?"text-gray-300":"text-gray-700"}`,children:"Input (stdin)"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-cyan-500 opacity-0 group-focus-within:opacity-10 blur-xl transition-opacity duration-500 rounded-xl pointer-events-none"}),u.jsx("textarea",{value:p,onChange:A=>m(A.target.value),placeholder:"Enter your input here...",className:`w-full h-40 sm:h-48 p-4 rounded-xl font-mono text-sm resize-none transition-all duration-300 focus:ring-2 focus:outline-none relative ${P?"bg-black/30 text-white placeholder-gray-500 border border-white/10 focus:border-blue-400/50 focus:ring-blue-400/30":"bg-white/50 text-gray-900 placeholder-gray-400 border border-gray-200 focus:border-blue-400 focus:ring-blue-400/30 shadow-inner"}`,spellCheck:!1})]}),u.jsxs("div",{className:"relative group",children:[u.jsx("label",{className:`block text-sm font-semibold mb-2 ${P?"text-gray-300":"text-gray-700"}`,children:"Output"}),u.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-green-500 to-emerald-500 opacity-0 ${o?"opacity-10":""} blur-xl transition-opacity duration-500 rounded-xl pointer-events-none`}),u.jsx("div",{className:`w-full h-40 sm:h-48 p-4 rounded-xl font-mono text-sm overflow-auto relative ${P?"bg-black/30 border border-white/10":"bg-white/50 border border-gray-200 shadow-inner"}`,children:o?u.jsx("pre",{className:`whitespace-pre-wrap ${w?"text-red-400":P?"text-green-400":"text-green-600"}`,children:o}):u.jsx("span",{className:P?"text-gray-500":"text-gray-400",children:s?"Executing...":"Output will appear here after running your code"})})]})]})]}),o&&!s&&u.jsxs("div",{className:`mt-6 p-4 rounded-xl backdrop-blur-lg flex items-center gap-3 animate-fadeIn ${w?P?"bg-red-500/10 border border-red-500/30 text-red-300":"bg-red-50 border border-red-200 text-red-600":P?"bg-green-500/10 border border-green-500/30 text-green-300":"bg-green-50 border border-green-200 text-green-600"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${w?"bg-red-500":"bg-green-500"} animate-pulse`}),u.jsx("span",{className:"font-medium",children:w?"⚠️ Execution failed":"✓ Code executed successfully"})]})]}),u.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0) rotate(0deg); }
          50% { transform: translateY(-20px) rotate(180deg); }
        }
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-float {
          animation: float linear infinite;
        }
        .animate-fadeIn {
          animation: fadeIn 0.5s ease-out;
        }
      `})]})},im={c:`#include <stdio.h>

int main() {
    printf("Hello, World!\\n");
    return 0;
}`,cpp:`#include <iostream>
using namespace std;

int main() {
    cout << "Hello, World!" << endl;
    return 0;
}`,python:`# Python program
print("Hello, World!")`,java:`public class Main {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}`},m3=({darkMode:r=!1,onBack:e})=>{const[t,i]=ie.useState("python"),[n,s]=ie.useState(im.python),[o,a]=ie.useState(""),[l,c]=ie.useState(!1);ie.useEffect(()=>{s(im[t]),a("")},[t]);const h=(f,g)=>H(void 0,null,function*(){c(!0),a("");try{const p=yield Qb.executeCode({language:t,code:f,stdin:g});if(p.success){let m="";g.trim()&&(m=`Input:
${g}

`),m+=`Output:
${p.output||"Program executed successfully (no output)"}`,a(m)}else a(`Error: ${p.error||"Execution failed"}`)}catch(p){a(`Execution Error: ${p instanceof Error?p.message:"Unknown error"}`)}finally{c(!1)}});return u.jsx("div",{className:`min-h-screen ${r?"bg-gray-900":"bg-gray-50"}`,children:u.jsx($y,{value:n,onChange:s,language:t,darkMode:r,onRun:h,isExecuting:l,output:o,title:"Practice Mode",originalCode:im[t],onBack:e,showLanguageSelector:!0,onLanguageChange:i,availableLanguages:["c","cpp","python","java"]})})},b3=({darkMode:r=!1,onEditorStateChange:e})=>{const[t,i]=ie.useState([]),[n,s]=ie.useState(null),[o,a]=ie.useState([]),[l,c]=ie.useState(null),[h,f]=ie.useState(""),[g,p]=ie.useState(""),[m,y]=ie.useState(""),[v,S]=ie.useState(!1),[C,P]=ie.useState(!1),[X,T]=ie.useState(!0),[E,k]=ie.useState("subjects");ie.useEffect(()=>{(()=>H(void 0,null,function*(){try{T(!0);const{data:K,error:re}=yield wt.from("lab_subjects").select("*").order("name",{ascending:!0});if(re)throw console.error("Supabase error:",re),new Error("Failed to fetch subjects");K&&i(K)}catch(K){console.error("Failed to load subjects:",K)}finally{T(!1)}}))()},[]),ie.useEffect(()=>{e&&e(E==="editor"||E==="practice")},[E,e]),ie.useEffect(()=>{n&&z(n.code)},[n]),ie.useEffect(()=>{l&&l.sample_input&&p(l.sample_input)},[l]);const z=L=>H(void 0,null,function*(){try{P(!0);const{data:K,error:re}=yield wt.from("lab_programs").select("*").eq("subject_code",L).order("program_name",{ascending:!0});if(re)throw console.error("Supabase error:",re),new Error("Failed to fetch programs");K&&a(K)}catch(K){console.error("Failed to load programs:",K),a([])}finally{P(!1)}}),Q=()=>H(void 0,null,function*(){if(!(!l||!h.trim())){S(!0),y("");try{const L=yield Qb.executeCode({language:l.language,code:h,stdin:g});if(L.success){let K="";g.trim()&&(K=`Input:
${g}

`),K+=`Output:
${L.output||"Program executed successfully (no output)"}`,y(K)}else y(`Error: ${L.error||"Execution failed"}`)}catch(L){y(`Execution Error: ${L instanceof Error?L.message:"Unknown error"}`)}finally{S(!1)}}}),W=L=>{s(L),k("programs")},_=L=>{c(L),f(L.code),p(L.sample_input||""),y(""),k("editor")},w=()=>{k("practice")},A=()=>{E==="editor"?(k("programs"),c(null)):E==="programs"?(k("subjects"),s(null),a([])):E==="practice"&&k("subjects")},j=L=>{switch(L){case"easy":return r?"text-green-400":"text-green-600";case"medium":return r?"text-yellow-400":"text-yellow-600";case"hard":return r?"text-red-400":"text-red-600";default:return r?"text-gray-400":"text-gray-600"}};return u.jsxs("div",{className:`min-h-screen ${r?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:[E!=="editor"&&E!=="practice"&&u.jsx("div",{className:`${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:u.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 py-3 sm:py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 min-w-0 flex-1",children:[E!=="subjects"&&u.jsxs("button",{onClick:A,className:`flex items-center ${r?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-800"} transition-colors flex-shrink-0`,children:[u.jsx(Lc,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2"}),u.jsx("span",{className:"text-sm sm:text-base",children:"Back"})]}),u.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[u.jsx(yx,{className:`w-5 h-5 sm:w-6 sm:h-6 flex-shrink-0 ${r?"text-blue-400":"text-blue-600"}`}),u.jsxs("h1",{className:"text-lg sm:text-2xl font-bold truncate",children:[E==="subjects"&&"Programming Lab",E==="programs"&&(n==null?void 0:n.name)]})]})]}),E==="subjects"&&u.jsxs("button",{onClick:w,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all ${r?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-md"}`,children:[u.jsx(D5,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden sm:inline",children:"Practice"})]})]})})}),u.jsxs("div",{className:"flex-1",children:[E==="subjects"&&u.jsx("div",{className:"p-3 sm:p-6",children:X?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:`inline-block animate-spin rounded-full h-12 w-12 border-b-2 ${r?"border-blue-400":"border-blue-600"}`}),u.jsx("p",{className:`mt-4 ${r?"text-gray-400":"text-gray-600"}`,children:"Loading subjects..."})]})}):t.length===0?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsxs("div",{className:"text-center",children:[u.jsx(yx,{className:`w-16 h-16 mx-auto mb-4 ${r?"text-gray-600":"text-gray-400"}`}),u.jsx("p",{className:`text-lg ${r?"text-gray-400":"text-gray-600"}`,children:"No lab subjects available"}),u.jsx("p",{className:"text-sm mt-2 text-gray-500",children:"Contact admin to add subjects"})]})}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:t.map(L=>u.jsxs("div",{onClick:()=>W(L),className:`rounded-lg p-4 sm:p-6 cursor-pointer transition-all transform hover:scale-105 border ${r?"bg-gray-800 hover:bg-gray-700 border-gray-600":"bg-white hover:bg-gray-50 border-gray-200 shadow-md hover:shadow-lg"}`,children:[u.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[u.jsx("span",{className:"text-4xl sm:text-5xl mr-3 sm:mr-4",children:L.icon}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("h3",{className:"text-lg sm:text-xl font-semibold",children:L.name}),u.jsx("span",{className:`text-xs sm:text-sm uppercase font-mono ${r?"text-gray-400":"text-gray-500"}`,children:L.code.toUpperCase()})]})]}),u.jsx("p",{className:`text-sm ${r?"text-gray-300":"text-gray-600"}`,children:L.description})]},L.id))})}),E==="programs"&&u.jsx("div",{className:"p-3 sm:p-6",children:C?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):o.length>0?u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:o.map(L=>u.jsxs("div",{onClick:()=>_(L),className:`rounded-lg p-4 sm:p-6 cursor-pointer transition-colors border ${r?"bg-gray-800 hover:bg-gray-700 border-gray-600":"bg-white hover:bg-gray-50 border-gray-200"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 gap-2",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold flex-1 min-w-0",children:L.program_name}),u.jsx("span",{className:"text-xs bg-blue-600 px-2 py-1 rounded uppercase font-mono text-white flex-shrink-0",children:L.language})]}),L.description&&u.jsx("p",{className:`mb-3 text-sm ${r?"text-gray-300":"text-gray-600"}`,children:L.description}),L.difficulty&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-xs font-semibold uppercase ${j(L.difficulty)}`,children:L.difficulty}),L.sample_input&&u.jsx("span",{className:`text-xs ${r?"text-gray-500":"text-gray-400"}`,children:"• Sample input included"})]})]},L.id))}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx(vl,{className:`w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 ${r?"text-gray-600":"text-gray-400"}`}),u.jsx("p",{className:r?"text-gray-400":"text-gray-500",children:"No programs available for this subject yet."})]})}),E==="editor"&&l&&u.jsx($y,{value:h,onChange:f,language:l.language,darkMode:r,onRun:(L,K)=>H(void 0,null,function*(){f(L),p(K),yield Q()}),isExecuting:v,output:m,onBack:A,title:l.program_name,originalCode:l.code}),E==="practice"&&u.jsx(m3,{darkMode:r,onBack:A})]})]})},oW=({darkMode:r=!1,onEditorStateChange:e})=>{const[t,i]=ie.useState([]),[n,s]=ie.useState(null),[o,a]=ie.useState([]),[l,c]=ie.useState(null),[h,f]=ie.useState(""),[g,p]=ie.useState(""),[m,y]=ie.useState(""),[v,S]=ie.useState(!1),[C,P]=ie.useState(!1),[X,T]=ie.useState(!0),[E,k]=ie.useState("subjects");ie.useEffect(()=>{(()=>H(void 0,null,function*(){try{T(!0);const{data:K,error:re}=yield wt.from("mincode_subjects").select("*").order("name",{ascending:!0});if(re)throw console.error("Supabase error:",re),new Error("Failed to fetch subjects");K&&i(K)}catch(K){console.error("Failed to load min code subjects:",K)}finally{T(!1)}}))()},[]),ie.useEffect(()=>{e&&e(E==="editor"||E==="practice")},[E,e]),ie.useEffect(()=>{n&&z(n.code)},[n]),ie.useEffect(()=>{l&&l.sample_input&&p(l.sample_input)},[l]);const z=L=>H(void 0,null,function*(){try{P(!0);const{data:K,error:re}=yield wt.from("mincode_programs").select("*").eq("subject_code",L).order("program_name",{ascending:!0});if(re)throw console.error("Supabase error:",re),new Error("Failed to fetch programs");K&&a(K)}catch(K){console.error("Failed to load min code programs:",K),a([])}finally{P(!1)}}),Q=()=>H(void 0,null,function*(){if(!(!l||!h.trim())){S(!0),y("");try{const L=yield Qb.executeCode({language:l.language,code:h,stdin:g});if(L.success){let K="";g.trim()&&(K=`Input:
${g}

`),K+=`Output:
${L.output||"Program executed successfully (no output)"}`,y(K)}else y(`Error: ${L.error||"Execution failed"}`)}catch(L){y(`Execution Error: ${L instanceof Error?L.message:"Unknown error"}`)}finally{S(!1)}}}),W=L=>{s(L),k("programs")},_=L=>{c(L),f(L.code),p(L.sample_input||""),y(""),k("editor")},w=()=>{k("practice")},A=()=>{E==="editor"?(k("programs"),c(null)):E==="programs"?(k("subjects"),s(null),a([])):E==="practice"&&k("subjects")},j=L=>{switch(L){case"easy":return r?"text-green-400":"text-green-600";case"medium":return r?"text-yellow-400":"text-yellow-600";case"hard":return r?"text-red-400":"text-red-600";default:return r?"text-gray-400":"text-gray-600"}};return u.jsxs("div",{className:`min-h-screen ${r?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:[E!=="editor"&&E!=="practice"&&u.jsx("div",{className:`${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:u.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 py-3 sm:py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 min-w-0 flex-1",children:[E!=="subjects"&&u.jsxs("button",{onClick:A,className:`flex items-center ${r?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-800"} transition-colors flex-shrink-0`,children:[u.jsx(Lc,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2"}),u.jsx("span",{className:"text-sm sm:text-base",children:"Back"})]}),u.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[u.jsx(vl,{className:`w-5 h-5 sm:w-6 sm:h-6 flex-shrink-0 ${r?"text-purple-400":"text-purple-600"}`}),u.jsxs("h1",{className:"text-lg sm:text-2xl font-bold truncate",children:[E==="subjects"&&"Minimum Code Examples",E==="programs"&&(n==null?void 0:n.name)]})]})]}),E==="subjects"&&u.jsxs("button",{onClick:w,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all ${r?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-md"}`,children:[u.jsx(D5,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden sm:inline",children:"Practice"})]})]})})}),u.jsxs("div",{className:"flex-1",children:[E==="subjects"&&u.jsx("div",{className:"p-3 sm:p-6",children:X?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:`inline-block animate-spin rounded-full h-12 w-12 border-b-2 ${r?"border-purple-400":"border-purple-600"}`}),u.jsx("p",{className:`mt-4 ${r?"text-gray-400":"text-gray-600"}`,children:"Loading min code subjects..."})]})}):t.length===0?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsxs("div",{className:"text-center",children:[u.jsx(vl,{className:`w-16 h-16 mx-auto mb-4 ${r?"text-gray-600":"text-gray-400"}`}),u.jsx("p",{className:`text-lg ${r?"text-gray-400":"text-gray-600"}`,children:"No min code subjects available"}),u.jsx("p",{className:"text-sm mt-2 text-gray-500",children:"Contact admin to add subjects"})]})}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:t.map(L=>u.jsxs("div",{onClick:()=>W(L),className:`rounded-lg p-4 sm:p-6 cursor-pointer transition-all transform hover:scale-105 border ${r?"bg-gray-800 hover:bg-gray-700 border-gray-600":"bg-white hover:bg-gray-50 border-gray-200 shadow-md hover:shadow-lg"}`,children:[u.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[u.jsx("span",{className:"text-4xl sm:text-5xl mr-3 sm:mr-4",children:L.icon}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("h3",{className:"text-lg sm:text-xl font-semibold",children:L.name}),u.jsx("span",{className:`text-xs sm:text-sm uppercase font-mono ${r?"text-gray-400":"text-gray-500"}`,children:L.code.toUpperCase()})]})]}),u.jsx("p",{className:`text-sm ${r?"text-gray-300":"text-gray-600"}`,children:L.description})]},L.id))})}),E==="programs"&&u.jsx("div",{className:"p-3 sm:p-6",children:C?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):o.length>0?u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:o.map(L=>u.jsxs("div",{onClick:()=>_(L),className:`rounded-lg p-4 sm:p-6 cursor-pointer transition-colors border ${r?"bg-gray-800 hover:bg-gray-700 border-gray-600":"bg-white hover:bg-gray-50 border-gray-200"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 gap-2",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold flex-1 min-w-0",children:L.program_name}),u.jsx("span",{className:"text-xs bg-purple-600 px-2 py-1 rounded uppercase font-mono text-white flex-shrink-0",children:L.language})]}),L.description&&u.jsx("p",{className:`mb-3 text-sm ${r?"text-gray-300":"text-gray-600"}`,children:L.description}),L.difficulty&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-xs font-semibold uppercase ${j(L.difficulty)}`,children:L.difficulty}),L.sample_input&&u.jsx("span",{className:`text-xs ${r?"text-gray-500":"text-gray-400"}`,children:"• Sample input included"})]})]},L.id))}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx(vl,{className:`w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 ${r?"text-gray-600":"text-gray-400"}`}),u.jsx("p",{className:r?"text-gray-400":"text-gray-500",children:"No min code examples available for this subject yet."})]})}),E==="editor"&&l&&u.jsx($y,{value:h,onChange:f,language:l.language,darkMode:r,onRun:(L,K)=>H(void 0,null,function*(){f(L),p(K),yield Q()}),isExecuting:v,output:m,onBack:A,title:l.program_name,originalCode:l.code}),E==="practice"&&u.jsx(m3,{darkMode:r,onBack:A})]})]})};const aW=()=>{const{logout:r}=Fn(),{isAdmin:e}=ES(),t=L5(),[i,n]=ie.useState("home"),[s,o]=ie.useState(!1),[a,l]=ie.useState(!1),[c,h]=ie.useState(!1),[f,g]=ie.useState(!1),[p,m]=ie.useState(!1),y=ie.useRef(null);ie.useEffect(()=>{const k=localStorage.getItem("theme")||"light";return l(k==="dark"),document.documentElement.setAttribute("data-theme",k),v(),()=>{document.querySelectorAll(".particle").forEach(Q=>Q.remove())}},[]);const v=()=>{const k=document.querySelector(".particles");if(k)for(let z=0;z<20;z++){const Q=document.createElement("div");Q.className="particle",Q.style.left=Math.random()*100+"%",Q.style.width=Math.random()*4+2+"px",Q.style.height=Q.style.width,Q.style.animationDelay=Math.random()*15+"s",Q.style.animationDuration=Math.random()*10+10+"s",k.appendChild(Q)}},S=()=>{const k=a?"light":"dark";l(!a),document.documentElement.setAttribute("data-theme",k),localStorage.setItem("theme",k)},C=()=>{o(!s),document.body.classList.toggle("menu-open",!s)},P=k=>{n(k),o(!1),document.body.classList.remove("menu-open")},X=()=>H(void 0,null,function*(){if(window.confirm("Are you sure you want to logout?"))try{yield r(),Kt.success("Logged out successfully!")}catch(z){console.error("Logout error:",z),Kt.error("Failed to logout. Please try again.")}}),T=()=>{switch(i){case"home":return u.jsxs(u.Fragment,{children:[u.jsxs("section",{className:"hero",ref:y,children:[u.jsx("div",{className:"particles"}),u.jsx("div",{className:"hero-glow"}),u.jsx("div",{className:"hero-glow"}),u.jsx("div",{className:"hero-glow"}),u.jsxs("div",{className:"hero-content",children:[u.jsx("h1",{className:"hero-title shimmer",children:"Welcome to Semprepzie"}),u.jsx("p",{className:"hero-subtitle",children:"Semprepzie is your smart study companion — a platform to securely store, access, and manage learning materials anytime, anywhere. With offline access and seamless syncing, your knowledge is always within reach."}),u.jsxs("div",{className:"hero-buttons",children:[u.jsx("button",{className:"btn-primary",onClick:()=>P("theory"),children:"Start Learning"}),u.jsx("button",{className:"btn-secondary",onClick:()=>P("lab"),children:"Practice Labs"})]})]}),u.jsxs("div",{className:"hero-animation",children:[u.jsx("div",{className:"floating-cube"}),u.jsx("div",{className:"floating-sphere"})]})]}),u.jsx(l_,{limit:8,darkMode:a,onDocumentClick:k=>{window.open(k.url,"_blank","noopener,noreferrer")}}),u.jsx("div",{className:"home-section-divider",children:u.jsx("div",{className:"home-about-section",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"section-title gradient-text","data-text":"About Semprepzie",children:"About Semprepzie"}),u.jsxs("div",{className:"about-content",children:[u.jsxs("div",{className:"about-text",children:[u.jsx("h3",{children:"Empowering Students Through Smart Learning"}),u.jsx("p",{children:"At Semprepzie, we believe learning should be simple, accessible, and always available. That's why we built a platform where students can upload, organize, and view their study resources in one place — even offline. Powered by modern technologies like Firebase, Supabase, and Render, our mission is to provide a reliable and user-friendly experience that helps learners focus on what truly matters: studying smarter and achieving more."})]}),u.jsxs("div",{className:"features",children:[u.jsxs("div",{className:"feature",children:[u.jsx("div",{className:"feature-icon",children:"📚"}),u.jsxs("div",{className:"feature-content",children:[u.jsx("h4",{children:"Comprehensive Theory"}),u.jsx("p",{children:"In-depth coverage of Java concepts from basics to advanced topics with clear explanations and examples."})]})]}),u.jsxs("div",{className:"feature",children:[u.jsx("div",{className:"feature-icon",children:"🔬"}),u.jsxs("div",{className:"feature-content",children:[u.jsx("h4",{children:"Interactive Labs"}),u.jsx("p",{children:"Hands-on exercises and projects that reinforce learning through practical application."})]})]}),u.jsxs("div",{className:"feature",children:[u.jsx("div",{className:"feature-icon",children:"💡"}),u.jsxs("div",{className:"feature-content",children:[u.jsx("h4",{children:"Code Examples"}),u.jsx("p",{children:"Ready-to-use code snippets and complete programs for reference and practice."})]})]})]})]})]})})}),u.jsx("div",{className:"home-section-divider",children:u.jsx("div",{className:"home-contact-section",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"section-title gradient-text","data-text":"Get in Touch",children:"Get in Touch"}),u.jsxs("div",{className:"contact-content",children:[u.jsxs("div",{className:"contact-info",children:[u.jsx("h3",{children:"Connect With Us"}),u.jsxs("div",{className:"contact-item",children:[u.jsx("div",{className:"contact-icon",children:"📧"}),u.jsxs("div",{className:"contact-details",children:[u.jsx("strong",{children:"Email"}),u.jsx("p",{children:"semprepzie@gmail.com"})]})]}),u.jsxs("div",{className:"contact-item",children:[u.jsx("div",{className:"contact-icon",children:"🏫"}),u.jsxs("div",{className:"contact-details",children:[u.jsx("strong",{children:"Institution"}),u.jsx("p",{children:"AITS Rajampet"})]})]}),u.jsxs("div",{className:"contact-item",children:[u.jsx("div",{className:"contact-icon",children:"⏰"}),u.jsxs("div",{className:"contact-details",children:[u.jsx("strong",{children:"Support Hours"}),u.jsx("p",{children:"Mon-Fri: 9:00 AM - 6:00 PM"})]})]})]}),u.jsxs("div",{className:"contact-form",children:[u.jsx("h3",{children:"Send us a Message"}),u.jsx(t2,{})]})]})]})})})]});case"theory":return u.jsx(pT,{onPDFViewingChange:E,darkMode:a});case"lab":return u.jsx(b3,{darkMode:a,onEditorStateChange:m});case"mincode":return u.jsx(oW,{darkMode:a,onEditorStateChange:m});case"contact":return u.jsx("section",{className:"section active",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"section-title",children:"Contact Us"}),u.jsxs("div",{className:"contact-content",children:[u.jsxs("div",{className:"contact-info",children:[u.jsx("h3",{children:"Get in Touch"}),u.jsxs("div",{className:"contact-item",children:[u.jsx("div",{className:"contact-icon",children:"📧"}),u.jsxs("div",{className:"contact-details",children:[u.jsx("strong",{children:"Email"}),u.jsx("p",{children:"semprepzie@gmail.com"})]})]}),u.jsxs("div",{className:"contact-item",children:[u.jsx("div",{className:"contact-icon",children:"🏫"}),u.jsxs("div",{className:"contact-details",children:[u.jsx("strong",{children:"Institution"}),u.jsx("p",{children:"AITS Rajampet"})]})]}),u.jsxs("div",{className:"contact-item",children:[u.jsx("div",{className:"contact-icon",children:"⏰"}),u.jsxs("div",{className:"contact-details",children:[u.jsx("strong",{children:"Support Hours"}),u.jsx("p",{children:"Mon-Fri: 9:00 AM - 6:00 PM"})]})]})]}),u.jsxs("div",{className:"contact-form",children:[u.jsx("h3",{children:"Send us a Message"}),u.jsx(t2,{})]})]})]})});case"about":return u.jsx("section",{className:"section active",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"section-title",children:"About Semprepzie"}),u.jsxs("div",{className:"about-content",children:[u.jsxs("div",{className:"about-text",children:[u.jsx("h3",{children:"Empowering Students Through Smart Learning"}),u.jsx("p",{children:"At Semprepzie, we believe learning should be simple, accessible, and always available. That's why we built a platform where students can upload, organize, and view their study resources in one place — even offline. Powered by modern technologies like Firebase, Supabase, and Render, our mission is to provide a reliable and user-friendly experience that helps learners focus on what truly matters: studying smarter and achieving more."})]}),u.jsxs("div",{className:"features",children:[u.jsxs("div",{className:"feature",children:[u.jsx("div",{className:"feature-icon",children:"📚"}),u.jsxs("div",{className:"feature-content",children:[u.jsx("h4",{children:"Comprehensive Theory"}),u.jsx("p",{children:"In-depth coverage of Java concepts from basics to advanced topics with clear explanations."})]})]}),u.jsxs("div",{className:"feature",children:[u.jsx("div",{className:"feature-icon",children:"🔬"}),u.jsxs("div",{className:"feature-content",children:[u.jsx("h4",{children:"Interactive Labs"}),u.jsx("p",{children:"Hands-on exercises and projects that reinforce learning through practical application."})]})]}),u.jsxs("div",{className:"feature",children:[u.jsx("div",{className:"feature-icon",children:"💡"}),u.jsxs("div",{className:"feature-content",children:[u.jsx("h4",{children:"Code Examples"}),u.jsx("p",{children:"Ready-to-use code snippets and complete programs for reference and practice."})]})]}),u.jsxs("div",{className:"feature",children:[u.jsx("div",{className:"feature-icon",children:"🎯"}),u.jsxs("div",{className:"feature-content",children:[u.jsx("h4",{children:"Personalized Learning"}),u.jsx("p",{children:"Adaptive content that adjusts to your learning pace and preferences."})]})]})]})]})]})});default:return null}},E=k=>{g(k)};return u.jsxs("div",{className:"dashboard-container",children:[!f&&!p&&u.jsx("nav",{className:"navbar",children:u.jsxs("div",{className:"nav-container",children:[u.jsx("div",{className:"nav-logo",children:u.jsx("h1",{children:"✨ Semprepzie"})}),u.jsxs("ul",{className:`nav-menu ${s?"active":""}`,children:[u.jsx("li",{children:u.jsx("a",{href:"#home",className:i==="home"?"active":"",onClick:k=>{k.preventDefault(),P("home")},children:"Home"})}),u.jsx("li",{children:u.jsx("a",{href:"#theory",className:i==="theory"?"active":"",onClick:k=>{k.preventDefault(),P("theory")},children:"Theory"})}),u.jsx("li",{children:u.jsx("a",{href:"#lab",className:i==="lab"?"active":"",onClick:k=>{k.preventDefault(),P("lab")},children:"Lab"})}),u.jsx("li",{children:u.jsx("a",{href:"#mincode",className:i==="mincode"?"active":"",onClick:k=>{k.preventDefault(),P("mincode")},children:"MinCode"})}),u.jsx("li",{children:u.jsx("a",{href:"#contact",className:i==="contact"?"active":"",onClick:k=>{k.preventDefault(),P("contact")},children:"Contact"})}),u.jsx("li",{children:u.jsx("a",{href:"#about",className:i==="about"?"active":"",onClick:k=>{k.preventDefault(),P("about")},children:"About"})})]}),u.jsxs("div",{className:"nav-controls",children:[e&&u.jsx("div",{className:"admin-toggle",children:u.jsx("button",{onClick:()=>t("/admin"),title:"Admin Dashboard",className:"admin-btn",children:"⚙️"})}),u.jsx("div",{className:"theme-toggle",children:u.jsx("button",{onClick:S,children:a?"☀️":"🌙"})}),u.jsx("div",{className:"cache-toggle",children:u.jsx("button",{onClick:()=>h(!0),title:"Cache Management",className:"cache-btn",children:"💾"})}),u.jsx("div",{className:"logout-toggle",children:u.jsx("button",{onClick:X,title:"Logout",className:"logout-btn",children:"🚪"})}),u.jsxs("button",{className:`mobile-menu-toggle ${s?"active":""}`,onClick:C,children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]})]})]})}),u.jsx(OT,{show:!0}),u.jsx("main",{className:`main-site ${f||p?"no-margin-top":""}`,children:T()}),u.jsx(gT,{isOpen:c,onClose:()=>h(!1)})]})},lW=()=>u.jsx("div",{className:"p-6",children:u.jsx("h1",{children:"Documents"})}),cW=()=>u.jsx("div",{className:"p-6",children:u.jsx("h1",{children:"Document Viewer"})}),hW=()=>u.jsx("div",{className:"p-6",children:u.jsx("h1",{children:"Contact"})}),uW=()=>u.jsx("div",{className:"p-6",children:u.jsx("h1",{children:"Profile"})}),fW=()=>u.jsx("div",{className:"p-6",children:u.jsx("h1",{children:"404 - Not Found"})}),dW=()=>H(void 0,null,function*(){try{console.log("Starting migration of static data to Supabase..."),console.log("Inserting subjects...");const r=KO.map(o=>({id:o.id,name:o.name,icon:o.icon})),{error:e}=yield wt.from("subjects").upsert(r,{onConflict:"id"});if(e)throw new Error(`Failed to insert subjects: ${e.message}`);console.log("Inserting units...");const t=KO.flatMap(o=>o.units.map(a=>({id:a.id,subject_id:o.id,name:a.name}))),{error:i}=yield wt.from("units").upsert(t,{onConflict:"id"});if(i)throw new Error(`Failed to insert units: ${i.message}`);console.log("Inserting documents...");const n=KO.flatMap(o=>o.units.flatMap(a=>a.documents.map(l=>({id:l.id,unit_id:a.id,title:l.title,type:l.type,url:l.url,original_url:l.originalUrl,uploaded_at:l.lastModified?new Date(l.lastModified).toISOString():new Date().toISOString()})))),{error:s}=yield wt.from("documents").upsert(n,{onConflict:"id"});if(s)throw new Error(`Failed to insert documents: ${s.message}`);return console.log("Migration completed successfully!"),{success:!0,message:`Migration completed successfully! Inserted ${r.length} subjects, ${t.length} units, and ${n.length} documents.`,details:{subjects:r.length,units:t.length,documents:n.length}}}catch(r){return console.error("Migration failed:",r),{success:!1,message:r instanceof Error?r.message:"Unknown error occurred during migration"}}}),pW=()=>H(void 0,null,function*(){try{console.log("Verifying migration...");const{data:r,error:e}=yield wt.from("subjects").select("*");if(e)throw new Error(`Failed to verify subjects: ${e.message}`);const{data:t,error:i}=yield wt.from("units").select("*");if(i)throw new Error(`Failed to verify units: ${i.message}`);const{data:n,error:s}=yield wt.from("documents").select("*");if(s)throw new Error(`Failed to verify documents: ${s.message}`);return{success:!0,message:`Verification completed! Found ${(r==null?void 0:r.length)||0} subjects, ${(t==null?void 0:t.length)||0} units, and ${(n==null?void 0:n.length)||0} documents.`,details:{subjects:(r==null?void 0:r.length)||0,units:(t==null?void 0:t.length)||0,documents:(n==null?void 0:n.length)||0}}}catch(r){return console.error("Verification failed:",r),{success:!1,message:r instanceof Error?r.message:"Unknown error occurred during verification"}}}),gW=()=>{const[r,e]=ie.useState(null),[t,i]=ie.useState(null),[n,s]=ie.useState(!1),o=()=>H(void 0,null,function*(){s(!0),e(null);try{const l=yield dW();e(l),l.success?Te.success("Migration completed successfully!"):Te.error("Migration failed!")}catch(l){Te.error("Migration failed!"),e({success:!1,message:l instanceof Error?l.message:"Unknown error"})}finally{s(!1)}}),a=()=>H(void 0,null,function*(){s(!0),i(null);try{const l=yield pW();i(l),l.success?Te.success("Verification completed!"):Te.error("Verification failed!")}catch(l){Te.error("Verification failed!"),i({success:!1,message:l instanceof Error?l.message:"Unknown error"})}finally{s(!1)}});return u.jsx("div",{className:"min-h-screen bg-secondary-50 py-12 px-4",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-secondary-900 mb-6",children:"Supabase Migration Tool"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"⚠️ Important Instructions"}),u.jsxs("ol",{className:"list-decimal list-inside text-yellow-700 space-y-1",children:[u.jsx("li",{children:"Make sure you have set up your Supabase database tables first"}),u.jsx("li",{children:"Add your VITE_SUPABASE_ANON_KEY to your .env file"}),u.jsx("li",{children:"Run migration only once to avoid duplicates"}),u.jsx("li",{children:"This page should be removed after migration is complete"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"1. Run Migration"}),u.jsx("p",{className:"text-blue-700 mb-4",children:"Migrate all static data from your code to Supabase tables."}),u.jsx(ua,{onClick:o,loading:n,disabled:n,className:"w-full",children:"Start Migration"}),r&&u.jsxs("div",{className:`mt-4 p-3 rounded-lg ${r.success?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[u.jsx("p",{className:"font-semibold",children:r.success?"✅ Success":"❌ Failed"}),u.jsx("p",{className:"text-sm mt-1",children:r.message}),r.details&&u.jsx("pre",{className:"text-xs mt-2 bg-white p-2 rounded border",children:JSON.stringify(r.details,null,2)})]})]}),u.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"2. Verify Migration"}),u.jsx("p",{className:"text-green-700 mb-4",children:"Check that all data was migrated correctly to Supabase."}),u.jsx(ua,{onClick:a,loading:n,disabled:n,className:"w-full",variant:"secondary",children:"Verify Data"}),t&&u.jsxs("div",{className:`mt-4 p-3 rounded-lg ${t.success?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[u.jsx("p",{className:"font-semibold",children:t.success?"✅ Success":"❌ Failed"}),u.jsx("p",{className:"text-sm mt-1",children:t.message}),t.details&&u.jsx("pre",{className:"text-xs mt-2 bg-white p-2 rounded border",children:JSON.stringify(t.details,null,2)})]})]})]}),u.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Next Steps After Migration"}),u.jsxs("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:[u.jsx("li",{children:"Update your components to use the `useSubjectsData` hook"}),u.jsx("li",{children:"Test that everything works correctly"}),u.jsx("li",{children:"Remove this migration page from your app"}),u.jsx("li",{children:"Deploy your app - it will now use dynamic data from Supabase!"})]})]})]})]})})})};class OW{createDocument(e){return H(this,null,function*(){try{const t=`${e.unitId}-doc-${Date.now()}`,{data:i,error:n}=yield wt.from("documents").insert({id:t,unit_id:e.unitId,title:e.title,type:e.type,url:e.url,original_url:e.originalUrl,uploaded_at:new Date().toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();return n?(console.error("Database insert error:",n),{success:!1,error:`Failed to save document: ${n.message}`}):{success:!0,documentId:i.id}}catch(t){return console.error("Document service error:",t),{success:!1,error:t instanceof Error?t.message:"Failed to create document"}}})}getSubjects(){return H(this,null,function*(){try{const{data:e,error:t}=yield wt.from("subjects").select("id, name, icon").order("name");if(t)throw t;return{success:!0,subjects:e}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Failed to fetch subjects"}}})}getUnits(e){return H(this,null,function*(){try{const{data:t,error:i}=yield wt.from("units").select("id, name").eq("subject_id",e).order("name");if(i)throw i;return{success:!0,units:t}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Failed to fetch units"}}})}createUnit(e,t){return H(this,null,function*(){try{const i=t.trim().toLowerCase().replace(/[^a-z0-9]/g,"-"),n=`${e}-${i}`,{data:s,error:o}=yield wt.from("units").insert({id:n,subject_id:e,name:t.trim(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();return o?(console.error("Database insert error:",o),{success:!1,error:`Failed to create unit: ${o.message}`}):{success:!0,unit:{id:s.id,name:s.name}}}catch(i){return console.error("Unit creation error:",i),{success:!1,error:i instanceof Error?i.message:"Failed to create unit"}}})}deleteDocument(e){return H(this,null,function*(){try{const{error:t}=yield wt.from("documents").delete().eq("id",e);if(t)throw t;return{success:!0}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Failed to delete document"}}})}getDocumentsByUnit(e){return H(this,null,function*(){try{const{data:t,error:i}=yield wt.from("documents").select("*").eq("unit_id",e).order("uploaded_at",{ascending:!1});if(i)throw i;return{success:!0,documents:t}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Failed to fetch documents"}}})}createSubject(e,t="📚"){return H(this,null,function*(){try{const n=`subject-${e.trim().toLowerCase().replace(/[^a-z0-9]/g,"-")}-${Date.now()}`,{data:s,error:o}=yield wt.from("subjects").insert({id:n,name:e.trim(),icon:t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(o)throw o;return{success:!0,subject:s}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Failed to create subject"}}})}deleteSubject(e){return H(this,null,function*(){try{const{error:t}=yield wt.from("subjects").delete().eq("id",e);if(t)throw t;return{success:!0}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Failed to delete subject"}}})}deleteUnit(e){return H(this,null,function*(){try{const{error:t}=yield wt.from("units").delete().eq("id",e);if(t)throw t;return{success:!0}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Failed to delete unit"}}})}saveDocumentMetadata(e){return H(this,null,function*(){try{const t=`doc-${Date.now()}`,{data:i,error:n}=yield wt.from("documents").insert({id:t,unit_id:e.unit_id,title:e.title,url:e.file_path,original_url:e.file_path,type:"pdf",uploaded_at:new Date().toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(n)throw n;return{success:!0,document:i}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Failed to save document metadata"}}})}}const ro=new OW;class mW{constructor(){Xt(this,"BUCKET_NAME","pdfs")}uploadFile(e,t,i){return H(this,null,function*(){try{if(!e.type.includes("pdf"))return{success:!1,error:"Only PDF files are allowed"};const n=50*1024*1024;if(e.size>n)return{success:!1,error:"File size must be less than 50MB"};const s=Date.now(),o=e.name.replace(/[^a-zA-Z0-9.-]/g,"_"),a=`${s}_${o}`,l=`${t}/${a}`;i==null||i({progress:0,status:"uploading",message:"Starting upload..."});const{error:c}=yield wt.storage.from(this.BUCKET_NAME).upload(l,e,{cacheControl:"3600",upsert:!1});if(c){console.error("Upload error:",c);let f=`Upload failed: ${c.message}`;return c.message.includes("row-level security")?f="Storage access denied. Please check Supabase storage policies.":c.message.includes("bucket")?f="Storage bucket not found or not accessible.":c.message.includes("duplicate")&&(f="File with this name already exists. Please try again."),{success:!1,error:f}}i==null||i({progress:50,status:"uploading",message:"Getting public URL..."});const{data:h}=wt.storage.from(this.BUCKET_NAME).getPublicUrl(l);return h!=null&&h.publicUrl?(i==null||i({progress:100,status:"complete",message:"Upload complete!"}),{success:!0,url:h.publicUrl,path:l}):{success:!1,error:"Failed to get public URL"}}catch(n){return console.error("Upload service error:",n),{success:!1,error:n instanceof Error?n.message:"Upload failed"}}})}deleteFile(e){return H(this,null,function*(){try{const{error:t}=yield wt.storage.from(this.BUCKET_NAME).remove([e]);return t?{success:!1,error:t.message}:{success:!0}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Delete failed"}}})}listFiles(e=""){return H(this,null,function*(){try{const{data:t,error:i}=yield wt.storage.from(this.BUCKET_NAME).list(e);if(i)throw i;return{success:!0,files:t}}catch(t){return{success:!1,error:t instanceof Error?t.message:"List failed"}}})}uploadDocument(e,t,i){return H(this,null,function*(){const n=`documents/${t}`;return this.uploadFile(e,n,i)})}deleteDocument(e){return H(this,null,function*(){return this.deleteFile(e)})}}const R5=new mW,bW=({isDarkTheme:r})=>{const[e,t]=ie.useState([]),[i,n]=ie.useState([]),[s,o]=ie.useState([]),[a,l]=ie.useState(""),[c,h]=ie.useState(""),[f,g]=ie.useState(!1),[p,m]=ie.useState(null),[y,v]=ie.useState(!1),[S,C]=ie.useState(!1),[P,X]=ie.useState(!1),[T,E]=ie.useState(""),[k,z]=ie.useState("📚"),[Q,W]=ie.useState(""),[_,w]=ie.useState(null),[A,j]=ie.useState("");ie.useEffect(()=>{L()},[]),ie.useEffect(()=>{a?K(a):(n([]),h(""))},[a]),ie.useEffect(()=>{c?re(c):o([])},[c]);const L=()=>H(void 0,null,function*(){g(!0);const B=yield ro.getSubjects();B.success&&B.subjects?t(B.subjects):Te.error("Failed to load subjects"),g(!1)}),K=B=>H(void 0,null,function*(){g(!0);const ee=yield ro.getUnits(B);ee.success&&ee.units?n(ee.units):Te.error("Failed to load units"),g(!1)}),re=B=>H(void 0,null,function*(){g(!0);const ee=yield ro.getDocumentsByUnit(B);ee.success&&ee.documents?o(ee.documents):Te.error("Failed to load documents"),g(!1)}),te=()=>H(void 0,null,function*(){if(!T.trim()){Te.error("Please enter subject name");return}g(!0);const B=yield ro.createSubject(T,k);B.success?(Te.success("Subject created successfully!"),v(!1),E(""),z("📚"),L()):Te.error(B.error||"Failed to create subject"),g(!1)}),oe=()=>H(void 0,null,function*(){if(!a){Te.error("Please select a subject first");return}if(!Q.trim()){Te.error("Please enter unit name");return}g(!0);const B=yield ro.createUnit(a,Q);B.success?(Te.success("Unit created successfully!"),C(!1),W(""),K(a)):Te.error(B.error||"Failed to create unit"),g(!1)}),ve=B=>{var le;const ee=(le=B.target.files)==null?void 0:le[0];if(ee){if(ee.type!=="application/pdf"){Te.error("Please select a PDF file");return}w(ee);const be=ee.name.replace(".pdf","");j(be)}},ae=()=>H(void 0,null,function*(){if(!c){Te.error("Please select a unit");return}if(!_){Te.error("Please select a file");return}if(!A.trim()){Te.error("Please enter document title");return}g(!0);try{const B=yield R5.uploadDocument(_,c,me=>m(me));if(!B.success||!B.path)throw new Error(B.error||"Upload failed");if(!B.url)throw new Error("Failed to obtain public URL for uploaded file");const ee=B.url,le={title:A,unit_id:c,file_path:ee,file_size:_.size},be=yield ro.saveDocumentMetadata(le);if(be.success)Te.success("Document uploaded successfully!"),X(!1),w(null),j(""),m(null),re(c);else throw new Error(be.error||"Failed to save metadata")}catch(B){Te.error(B.message||"Failed to upload document")}g(!1)}),N=(B,ee)=>H(void 0,null,function*(){if(window.confirm("Are you sure you want to delete this document?")){g(!0);try{yield R5.deleteDocument(ee);const le=yield ro.deleteDocument(B);le.success?(Te.success("Document deleted successfully!"),re(c)):Te.error(le.error||"Failed to delete document")}catch(le){Te.error(le.message||"Failed to delete document")}g(!1)}}),Y=B=>H(void 0,null,function*(){if(!window.confirm("Are you sure you want to delete this unit? All documents will be removed."))return;g(!0);const ee=yield ro.deleteUnit(B);ee.success?(Te.success("Unit deleted successfully!"),h(""),K(a)):Te.error(ee.error||"Failed to delete unit"),g(!1)}),F=B=>H(void 0,null,function*(){if(!window.confirm("Are you sure you want to delete this subject? All units and documents will be removed."))return;g(!0);const ee=yield ro.deleteSubject(B);ee.success?(Te.success("Subject deleted successfully!"),l(""),L()):Te.error(ee.error||"Failed to delete subject"),g(!1)});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:`text-2xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Document Modifier"}),u.jsx("p",{className:`mt-1 text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Manage subjects, units, and documents in your knowledge base"})]}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[u.jsxs("button",{onClick:()=>v(!0),className:`flex items-center space-x-2 px-4 py-2 rounded-lg ${r?"bg-blue-600 hover:bg-blue-700":"bg-blue-500 hover:bg-blue-600"} text-white transition-colors`,children:[u.jsx(pb,{className:"w-4 h-4"}),u.jsx("span",{children:"New Subject"})]}),u.jsxs("button",{onClick:()=>C(!0),disabled:!a,className:`flex items-center space-x-2 px-4 py-2 rounded-lg ${a?r?"bg-green-600 hover:bg-green-700 text-white":"bg-green-500 hover:bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"} transition-colors`,children:[u.jsx(xx,{className:"w-4 h-4"}),u.jsx("span",{children:"New Unit"})]}),u.jsxs("button",{onClick:()=>X(!0),disabled:!c,className:`flex items-center space-x-2 px-4 py-2 rounded-lg ${c?r?"bg-purple-600 hover:bg-purple-700 text-white":"bg-purple-500 hover:bg-purple-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"} transition-colors`,children:[u.jsx(QP,{className:"w-4 h-4"}),u.jsx("span",{children:"Upload Document"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:`rounded-lg ${r?"bg-gray-800":"bg-white"} p-4 shadow`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:`font-semibold ${r?"text-white":"text-gray-900"}`,children:"Subjects"}),u.jsx(gb,{className:`w-5 h-5 ${r?"text-gray-400":"text-gray-500"}`})]}),f&&e.length===0?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(Sl,{className:"w-6 h-6 animate-spin text-blue-500"})}):u.jsxs("div",{className:"space-y-2",children:[e.map(B=>u.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${a===B.id?r?"bg-blue-600 text-white":"bg-blue-100 text-blue-900":r?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>l(B.id),children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{children:B.icon}),u.jsx("span",{className:"font-medium",children:B.name})]}),u.jsx("button",{onClick:ee=>{ee.stopPropagation(),F(B.id)},className:"p-1 hover:bg-red-500 hover:text-white rounded transition-colors",children:u.jsx(ha,{className:"w-4 h-4"})})]},B.id)),e.length===0&&u.jsx("p",{className:`text-center py-8 text-sm ${r?"text-gray-500":"text-gray-400"}`,children:"No subjects yet. Create one to get started!"})]})]}),u.jsxs("div",{className:`rounded-lg ${r?"bg-gray-800":"bg-white"} p-4 shadow`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:`font-semibold ${r?"text-white":"text-gray-900"}`,children:"Units"}),u.jsx(xx,{className:`w-5 h-5 ${r?"text-gray-400":"text-gray-500"}`})]}),a?f&&i.length===0?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(Sl,{className:"w-6 h-6 animate-spin text-blue-500"})}):u.jsxs("div",{className:"space-y-2",children:[i.map(B=>u.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${c===B.id?r?"bg-green-600 text-white":"bg-green-100 text-green-900":r?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>h(B.id),children:[u.jsx("span",{className:"font-medium",children:B.name}),u.jsx("button",{onClick:ee=>{ee.stopPropagation(),Y(B.id)},className:"p-1 hover:bg-red-500 hover:text-white rounded transition-colors",children:u.jsx(ha,{className:"w-4 h-4"})})]},B.id)),i.length===0&&u.jsx("p",{className:`text-center py-8 text-sm ${r?"text-gray-500":"text-gray-400"}`,children:"No units yet. Create one for this subject!"})]}):u.jsx("p",{className:`text-center py-8 text-sm ${r?"text-gray-500":"text-gray-400"}`,children:"Select a subject to view units"})]}),u.jsxs("div",{className:`rounded-lg ${r?"bg-gray-800":"bg-white"} p-4 shadow`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:`font-semibold ${r?"text-white":"text-gray-900"}`,children:"Documents"}),u.jsx(Lp,{className:`w-5 h-5 ${r?"text-gray-400":"text-gray-500"}`})]}),c?f&&s.length===0?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(Sl,{className:"w-6 h-6 animate-spin text-blue-500"})}):u.jsxs("div",{className:"space-y-2",children:[s.map(B=>u.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${r?"bg-gray-700":"bg-gray-50"}`,children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`font-medium truncate ${r?"text-white":"text-gray-900"}`,children:B.title}),u.jsxs("p",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:[(B.file_size/1024).toFixed(2)," KB"]})]}),u.jsx("button",{onClick:()=>N(B.id,B.file_path),className:"p-1 ml-2 hover:bg-red-500 hover:text-white rounded transition-colors",children:u.jsx(ha,{className:"w-4 h-4"})})]},B.id)),s.length===0&&u.jsx("p",{className:`text-center py-8 text-sm ${r?"text-gray-500":"text-gray-400"}`,children:"No documents yet. Upload one to this unit!"})]}):u.jsx("p",{className:`text-center py-8 text-sm ${r?"text-gray-500":"text-gray-400"}`,children:"Select a unit to view documents"})]})]}),y&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:`rounded-lg max-w-md w-full p-6 ${r?"bg-gray-800":"bg-white"}`,children:[u.jsx("h3",{className:`text-xl font-bold mb-4 ${r?"text-white":"text-gray-900"}`,children:"Create New Subject"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Subject Name"}),u.jsx("input",{type:"text",value:T,onChange:B=>E(B.target.value),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"e.g., Data Structures"})]}),u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Icon (Emoji)"}),u.jsx("input",{type:"text",value:k,onChange:B=>z(B.target.value),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"📚",maxLength:2})]})]}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>v(!1),className:`flex-1 px-4 py-2 rounded-lg ${r?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:"Cancel"}),u.jsx("button",{onClick:te,disabled:f,className:"flex-1 px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 text-white disabled:opacity-50",children:f?"Creating...":"Create"})]})]})}),S&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:`rounded-lg max-w-md w-full p-6 ${r?"bg-gray-800":"bg-white"}`,children:[u.jsx("h3",{className:`text-xl font-bold mb-4 ${r?"text-white":"text-gray-900"}`,children:"Create New Unit"}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Unit Name"}),u.jsx("input",{type:"text",value:Q,onChange:B=>W(B.target.value),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"e.g., Unit 1: Introduction"})]})}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>C(!1),className:`flex-1 px-4 py-2 rounded-lg ${r?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:"Cancel"}),u.jsx("button",{onClick:oe,disabled:f,className:"flex-1 px-4 py-2 rounded-lg bg-green-500 hover:bg-green-600 text-white disabled:opacity-50",children:f?"Creating...":"Create"})]})]})}),P&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:`rounded-lg max-w-md w-full p-6 ${r?"bg-gray-800":"bg-white"}`,children:[u.jsx("h3",{className:`text-xl font-bold mb-4 ${r?"text-white":"text-gray-900"}`,children:"Upload Document"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Document Title"}),u.jsx("input",{type:"text",value:A,onChange:B=>j(B.target.value),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"e.g., Introduction to Arrays"})]}),u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"PDF File"}),u.jsx("input",{type:"file",accept:".pdf",onChange:ve,className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`}),_&&u.jsxs("p",{className:`mt-1 text-sm ${r?"text-gray-400":"text-gray-600"}`,children:["Selected: ",_.name," (",(_.size/1024).toFixed(2)," KB)"]})]}),p&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:r?"text-gray-400":"text-gray-600",children:"Uploading..."}),u.jsxs("span",{className:r?"text-gray-400":"text-gray-600",children:[p.progress,"%"]})]}),u.jsx("div",{className:`w-full h-2 rounded-full ${r?"bg-gray-700":"bg-gray-200"}`,children:u.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300",style:{width:`${p.progress}%`}})})]})]}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>{X(!1),w(null),j(""),m(null)},className:`flex-1 px-4 py-2 rounded-lg ${r?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,disabled:f,children:"Cancel"}),u.jsx("button",{onClick:ae,disabled:f||!_,className:"flex-1 px-4 py-2 rounded-lg bg-purple-500 hover:bg-purple-600 text-white disabled:opacity-50",children:f?"Uploading...":"Upload"})]})]})})]})},yW=({isDarkTheme:r})=>{const[e,t]=ie.useState([]),[i,n]=ie.useState([]),[s,o]=ie.useState(""),[a,l]=ie.useState(!1),[c,h]=ie.useState(!1),[f,g]=ie.useState(!1),[p,m]=ie.useState(null),[y,v]=ie.useState(null),[S,C]=ie.useState(""),[P,X]=ie.useState(""),[T,E]=ie.useState(""),[k,z]=ie.useState("📚"),[Q,W]=ie.useState(""),[_,w]=ie.useState(""),[A,j]=ie.useState(""),[L,K]=ie.useState(""),[re,te]=ie.useState("python"),[oe,ve]=ie.useState("easy");ie.useEffect(()=>{ae()},[]),ie.useEffect(()=>{s?N(s):n([])},[s]);const ae=()=>H(void 0,null,function*(){l(!0);try{const{data:he,error:je}=yield wt.from("lab_subjects").select("*").order("code",{ascending:!0});if(je)throw je;t(he||[])}catch(he){Te.error(he.message||"Failed to load subjects")}l(!1)}),N=he=>H(void 0,null,function*(){l(!0);try{const{data:je,error:pe}=yield wt.from("lab_programs").select("*").eq("subject_code",he).order("created_at",{ascending:!0});if(pe)throw pe;n(je||[])}catch(je){Te.error(je.message||"Failed to load programs")}l(!1)}),Y=()=>{m(null),C(""),X(""),E(""),z("📚"),h(!0)},F=he=>{m(he),C(he.code),X(he.name),E(he.description),z(he.icon),h(!0)},B=()=>{v(null),W(""),w(""),j(""),K(""),te("python"),ve("easy"),g(!0)},ee=he=>{v(he),W(he.program_name),w(he.code),j(he.sample_input||""),K(he.description||""),te(he.language),ve(he.difficulty),g(!0)},le=()=>H(void 0,null,function*(){if(!P.trim()||!T.trim()){Te.error("Please fill all required fields");return}if(!p&&!S.trim()){Te.error("Subject code is required for new subjects");return}l(!0);try{if(p){const{error:he}=yield wt.from("lab_subjects").update({name:P.trim(),description:T.trim(),icon:k,updated_at:new Date().toISOString()}).eq("code",p.code);if(he)throw he;Te.success("Subject updated successfully!")}else{const he=`lab-${S.toLowerCase().trim()}-${Date.now()}`,{error:je}=yield wt.from("lab_subjects").insert({id:he,code:S.toUpperCase().trim(),name:P.trim(),description:T.trim(),icon:k,created_at:new Date().toISOString()});if(je)throw je;Te.success("Subject created successfully!")}h(!1),ae()}catch(he){Te.error(he.message||"Failed to save subject")}l(!1)}),be=()=>H(void 0,null,function*(){if(!s&&!y){Te.error("Please select a subject first");return}if(!Q.trim()||!_.trim()){Te.error("Please fill all required fields");return}l(!0);try{if(y){const{error:he}=yield wt.from("lab_programs").update({program_name:Q.trim(),code:_.trim(),sample_input:A.trim(),description:L.trim(),language:re,difficulty:oe,updated_at:new Date().toISOString()}).eq("id",y.id);if(he)throw he;Te.success("Program updated successfully!")}else{const he=`${s}-lab-${Date.now()}`,{error:je}=yield wt.from("lab_programs").insert({id:he,subject_code:s,program_name:Q.trim(),code:_.trim(),sample_input:A.trim(),description:L.trim(),language:re,difficulty:oe,created_at:new Date().toISOString()});if(je)throw je;Te.success("Program created successfully!")}g(!1),N(y?y.subject_code:s)}catch(he){Te.error(he.message||"Failed to save program")}l(!1)}),me=he=>H(void 0,null,function*(){if(window.confirm("Are you sure? This will delete all programs in this subject.")){l(!0);try{const{error:je}=yield wt.from("lab_subjects").delete().eq("code",he);if(je)throw je;Te.success("Subject deleted successfully!"),o(""),ae()}catch(je){Te.error(je.message||"Failed to delete subject")}l(!1)}}),_e=he=>H(void 0,null,function*(){if(window.confirm("Are you sure you want to delete this program?")){l(!0);try{const{error:je}=yield wt.from("lab_programs").delete().eq("id",he);if(je)throw je;Te.success("Program deleted successfully!"),N(s)}catch(je){Te.error(je.message||"Failed to delete program")}l(!1)}});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:`text-2xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Lab Programs Modifier"}),u.jsx("p",{className:`mt-1 text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Create, edit, and manage laboratory programs"})]}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[u.jsxs("button",{onClick:Y,className:`flex items-center space-x-2 px-4 py-2 rounded-lg ${r?"bg-blue-600 hover:bg-blue-700":"bg-blue-500 hover:bg-blue-600"} text-white transition-colors`,children:[u.jsx(pb,{className:"w-4 h-4"}),u.jsx("span",{children:"New Subject"})]}),u.jsxs("button",{onClick:B,disabled:!s,className:`flex items-center space-x-2 px-4 py-2 rounded-lg ${s?r?"bg-green-600 hover:bg-green-700 text-white":"bg-green-500 hover:bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"} transition-colors`,children:[u.jsx(vl,{className:"w-4 h-4"}),u.jsx("span",{children:"New Program"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:`rounded-lg ${r?"bg-gray-800":"bg-white"} p-4 shadow`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:`font-semibold ${r?"text-white":"text-gray-900"}`,children:"Subjects"}),u.jsx(gb,{className:`w-5 h-5 ${r?"text-gray-400":"text-gray-500"}`})]}),a&&e.length===0?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(Sl,{className:"w-6 h-6 animate-spin text-blue-500"})}):u.jsxs("div",{className:"space-y-2",children:[e.map(he=>u.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${s===he.code?r?"bg-blue-600 text-white":"bg-blue-100 text-blue-900":r?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>o(he.code),children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xl",children:he.icon}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:he.code}),u.jsx("p",{className:`text-sm ${s===he.code?"text-blue-200":r?"text-gray-400":"text-gray-500"}`,children:he.name})]})]})}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("button",{onClick:je=>{je.stopPropagation(),F(he)},className:"p-1 hover:bg-blue-500 hover:text-white rounded transition-colors",children:u.jsx(qp,{className:"w-4 h-4"})}),u.jsx("button",{onClick:je=>{je.stopPropagation(),me(he.code)},className:"p-1 hover:bg-red-500 hover:text-white rounded transition-colors",children:u.jsx(ha,{className:"w-4 h-4"})})]})]},he.code)),e.length===0&&u.jsx("p",{className:`text-center py-8 text-sm ${r?"text-gray-500":"text-gray-400"}`,children:"No subjects yet. Create one to get started!"})]})]}),u.jsxs("div",{className:`rounded-lg ${r?"bg-gray-800":"bg-white"} p-4 shadow`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:`font-semibold ${r?"text-white":"text-gray-900"}`,children:"Programs"}),u.jsx(vl,{className:`w-5 h-5 ${r?"text-gray-400":"text-gray-500"}`})]}),s?a&&i.length===0?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(Sl,{className:"w-6 h-6 animate-spin text-blue-500"})}):u.jsxs("div",{className:"space-y-2",children:[i.map(he=>u.jsx("div",{className:`p-3 rounded-lg ${r?"bg-gray-700":"bg-gray-50"}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1 flex-wrap",children:[u.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded ${he.difficulty==="easy"?"bg-green-100 text-green-900":he.difficulty==="medium"?"bg-yellow-100 text-yellow-900":"bg-red-100 text-red-900"}`,children:he.difficulty.toUpperCase()}),u.jsx("span",{className:`text-xs px-2 py-1 rounded ${r?"bg-gray-600 text-gray-300":"bg-gray-200 text-gray-700"}`,children:he.language.toUpperCase()})]}),u.jsx("p",{className:`font-medium ${r?"text-white":"text-gray-900"}`,children:he.program_name}),he.description&&u.jsx("p",{className:`text-sm mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:he.description})]}),u.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[u.jsx("button",{onClick:()=>ee(he),className:"p-1 hover:bg-blue-500 hover:text-white rounded transition-colors",children:u.jsx(qp,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>_e(he.id),className:"p-1 hover:bg-red-500 hover:text-white rounded transition-colors",children:u.jsx(ha,{className:"w-4 h-4"})})]})]})},he.id)),i.length===0&&u.jsx("p",{className:`text-center py-8 text-sm ${r?"text-gray-500":"text-gray-400"}`,children:"No programs yet. Create one for this subject!"})]}):u.jsx("p",{className:`text-center py-8 text-sm ${r?"text-gray-500":"text-gray-400"}`,children:"Select a subject to view programs"})]})]}),c&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:`rounded-lg max-w-md w-full p-6 ${r?"bg-gray-800":"bg-white"}`,children:[u.jsx("h3",{className:`text-xl font-bold mb-4 ${r?"text-white":"text-gray-900"}`,children:p?"Edit Subject":"Create New Subject"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:["Subject Code ",!p&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:S,onChange:he=>C(he.target.value.toUpperCase()),disabled:!!p,className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} ${p?"opacity-50 cursor-not-allowed":""}`,placeholder:"e.g., DS, DBMS, OS"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:["Subject Name ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:P,onChange:he=>X(he.target.value),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"e.g., Data Structures"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:["Description ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{value:T,onChange:he=>E(he.target.value),rows:3,className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Brief description of the subject"})]}),u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Icon (Emoji)"}),u.jsx("input",{type:"text",value:k,onChange:he=>z(he.target.value),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"e.g., 📚 🖥️ 🔬"})]})]}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>h(!1),className:`flex-1 px-4 py-2 rounded-lg ${r?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:"Cancel"}),u.jsx("button",{onClick:le,disabled:a,className:"flex-1 px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 text-white disabled:opacity-50",children:a?"Saving...":p?"Update":"Create"})]})]})}),f&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:`rounded-lg max-w-2xl w-full p-6 ${r?"bg-gray-800":"bg-white"} max-h-[90vh] overflow-y-auto`,children:[u.jsx("h3",{className:`text-xl font-bold mb-4 ${r?"text-white":"text-gray-900"}`,children:y?"Edit Program":"Create New Program"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:["Program Name ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:Q,onChange:he=>W(he.target.value),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"e.g., Binary Search Tree Implementation"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Language"}),u.jsxs("select",{value:re,onChange:he=>te(he.target.value),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[u.jsx("option",{value:"python",children:"Python"}),u.jsx("option",{value:"c",children:"C"}),u.jsx("option",{value:"cpp",children:"C++"}),u.jsx("option",{value:"java",children:"Java"}),u.jsx("option",{value:"javascript",children:"JavaScript"}),u.jsx("option",{value:"typescript",children:"TypeScript"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Difficulty"}),u.jsxs("select",{value:oe,onChange:he=>ve(he.target.value),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[u.jsx("option",{value:"easy",children:"Easy"}),u.jsx("option",{value:"medium",children:"Medium"}),u.jsx("option",{value:"hard",children:"Hard"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Description"}),u.jsx("textarea",{value:L,onChange:he=>K(he.target.value),rows:2,className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Brief description"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:["Code ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{value:_,onChange:he=>w(he.target.value),rows:10,className:`w-full px-3 py-2 rounded-lg border font-mono text-sm ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Enter your code here..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Sample Input (optional)"}),u.jsx("textarea",{value:A,onChange:he=>j(he.target.value),rows:3,className:`w-full px-3 py-2 rounded-lg border font-mono text-sm ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Sample input for testing..."})]})]}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>g(!1),className:`flex-1 px-4 py-2 rounded-lg ${r?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:"Cancel"}),u.jsx("button",{onClick:be,disabled:a,className:"flex-1 px-4 py-2 rounded-lg bg-green-500 hover:bg-green-600 text-white disabled:opacity-50",children:a?"Saving...":y?"Update":"Create"})]})]})})]})},xW=({isDarkTheme:r})=>{const[e,t]=ie.useState([]),[i,n]=ie.useState([]),[s,o]=ie.useState(""),[a,l]=ie.useState(!1),[c,h]=ie.useState(!1),[f,g]=ie.useState(!1),[p,m]=ie.useState(""),[y,v]=ie.useState(""),[S,C]=ie.useState(""),[P,X]=ie.useState("💻"),[T,E]=ie.useState(null),[k,z]=ie.useState(""),[Q,W]=ie.useState(""),[_,w]=ie.useState(""),[A,j]=ie.useState(""),[L,K]=ie.useState("python"),[re,te]=ie.useState("easy"),[oe,ve]=ie.useState(null);ie.useEffect(()=>{ae()},[]),ie.useEffect(()=>{s?N(s):n([])},[s]);const ae=()=>H(void 0,null,function*(){l(!0);try{const{data:pe,error:Oe}=yield wt.from("mincode_subjects").select("*").order("code",{ascending:!0});if(Oe)throw Oe;t(pe||[])}catch(pe){Te.error(pe.message||"Failed to load subjects")}l(!1)}),N=pe=>H(void 0,null,function*(){l(!0);try{const{data:Oe,error:J}=yield wt.from("mincode_programs").select("*").eq("subject_code",pe).order("created_at",{ascending:!0});if(J)throw J;n(Oe||[])}catch(Oe){Te.error(Oe.message||"Failed to load programs")}l(!1)}),Y=()=>H(void 0,null,function*(){if(!p.trim()||!y.trim()||!S.trim()){Te.error("Please fill all required fields");return}l(!0);try{const pe=`mincode-${p.toLowerCase().trim()}-${Date.now()}`,{error:Oe}=yield wt.from("mincode_subjects").insert({id:pe,code:p.toUpperCase().trim(),name:y.trim(),description:S.trim(),icon:P,created_at:new Date().toISOString()});if(Oe)throw Oe;Te.success("Min code subject created successfully!"),h(!1),m(""),v(""),C(""),X("💻"),ae()}catch(pe){Te.error(pe.message||"Failed to create subject")}l(!1)}),F=()=>H(void 0,null,function*(){if(!s){Te.error("Please select a subject first");return}if(!k.trim()||!Q.trim()){Te.error("Please fill all required fields");return}l(!0);try{const pe=`${s}-mincode-${Date.now()}`,{error:Oe}=yield wt.from("mincode_programs").insert({id:pe,subject_code:s,program_name:k.trim(),code:Q.trim(),sample_input:_.trim(),description:A.trim(),language:L,difficulty:re,created_at:new Date().toISOString()});if(Oe)throw Oe;Te.success("Min code created successfully!"),g(!1),z(""),W(""),w(""),j(""),K("python"),te("easy"),N(s)}catch(pe){Te.error(pe.message||"Failed to create min code")}l(!1)}),B=pe=>H(void 0,null,function*(){if(window.confirm("Are you sure? This will delete all programs in this subject.")){l(!0);try{const{error:Oe}=yield wt.from("mincode_subjects").delete().eq("code",pe);if(Oe)throw Oe;Te.success("Min code subject deleted successfully!"),o(""),ae()}catch(Oe){Te.error(Oe.message||"Failed to delete subject")}l(!1)}}),ee=pe=>H(void 0,null,function*(){if(window.confirm("Are you sure you want to delete this min code?")){l(!0);try{const{error:Oe}=yield wt.from("mincode_programs").delete().eq("id",pe);if(Oe)throw Oe;Te.success("Min code deleted successfully!"),N(s)}catch(Oe){Te.error(Oe.message||"Failed to delete program")}l(!1)}}),le=()=>{E(null),m(""),v(""),C(""),X("💻"),h(!0)},be=()=>{ve(null),z(""),W(""),w(""),j(""),K("python"),te("easy"),g(!0)},me=pe=>{E(pe),m(pe.code),v(pe.name),C(pe.description),X(pe.icon),h(!0)},_e=pe=>{ve(pe),z(pe.program_name),W(pe.code),w(pe.sample_input||""),j(pe.description||""),K(pe.language),te(pe.difficulty),g(!0)},he=()=>H(void 0,null,function*(){if(!T||!y.trim()||!S.trim()){Te.error("Please fill all required fields");return}l(!0);try{const{error:pe}=yield wt.from("mincode_subjects").update({name:y.trim(),description:S.trim(),icon:P,updated_at:new Date().toISOString()}).eq("code",T.code);if(pe)throw pe;Te.success("Min code subject updated successfully!"),h(!1),E(null),m(""),v(""),C(""),X("💻"),ae()}catch(pe){Te.error(pe.message||"Failed to update subject")}l(!1)}),je=()=>H(void 0,null,function*(){if(!oe||!k.trim()||!Q.trim()){Te.error("Please fill all required fields");return}l(!0);try{const{error:pe}=yield wt.from("mincode_programs").update({program_name:k.trim(),code:Q.trim(),sample_input:_.trim(),description:A.trim(),language:L,difficulty:re,updated_at:new Date().toISOString()}).eq("id",oe.id);if(pe)throw pe;Te.success("Min code updated successfully!"),g(!1),ve(null),z(""),W(""),w(""),j(""),K("python"),te("easy"),N(s)}catch(pe){Te.error(pe.message||"Failed to update min code")}l(!1)});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:`text-2xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Min Code Modifier"}),u.jsx("p",{className:`mt-1 text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Manage minimum code examples and snippets (using same structure as Lab Programs for now)"})]}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[u.jsxs("button",{onClick:le,className:`flex items-center space-x-2 px-4 py-2 rounded-lg ${r?"bg-purple-600 hover:bg-purple-700":"bg-purple-500 hover:bg-purple-600"} text-white transition-colors`,children:[u.jsx(pb,{className:"w-4 h-4"}),u.jsx("span",{children:"New Subject"})]}),u.jsxs("button",{onClick:be,disabled:!s,className:`flex items-center space-x-2 px-4 py-2 rounded-lg ${s?r?"bg-green-600 hover:bg-green-700 text-white":"bg-green-500 hover:bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"} transition-colors`,children:[u.jsx(Nu,{className:"w-4 h-4"}),u.jsx("span",{children:"New Code Example"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:`rounded-lg ${r?"bg-gray-800":"bg-white"} p-4 shadow`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:`font-semibold ${r?"text-white":"text-gray-900"}`,children:"Subjects"}),u.jsx(gb,{className:`w-5 h-5 ${r?"text-gray-400":"text-gray-500"}`})]}),a&&e.length===0?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(Sl,{className:"w-6 h-6 animate-spin text-purple-500"})}):u.jsxs("div",{className:"space-y-2",children:[e.map(pe=>u.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${s===pe.code?r?"bg-purple-600 text-white":"bg-purple-100 text-purple-900":r?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>o(pe.code),children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xl",children:pe.icon}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:pe.code}),u.jsx("p",{className:`text-sm ${s===pe.code?"text-purple-200":r?"text-gray-400":"text-gray-500"}`,children:pe.name})]})]})}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),me(pe)},className:"p-1 hover:bg-blue-500 hover:text-white rounded transition-colors",children:u.jsx(qp,{className:"w-4 h-4"})}),u.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),B(pe.code)},className:"p-1 hover:bg-red-500 hover:text-white rounded transition-colors",children:u.jsx(ha,{className:"w-4 h-4"})})]})]},pe.code)),e.length===0&&u.jsx("p",{className:`text-center py-8 text-sm ${r?"text-gray-500":"text-gray-400"}`,children:"No subjects yet. Create one to get started!"})]})]}),u.jsxs("div",{className:`rounded-lg ${r?"bg-gray-800":"bg-white"} p-4 shadow`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:`font-semibold ${r?"text-white":"text-gray-900"}`,children:"Code Examples"}),u.jsx(Nu,{className:`w-5 h-5 ${r?"text-gray-400":"text-gray-500"}`})]}),s?a&&i.length===0?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(Sl,{className:"w-6 h-6 animate-spin text-purple-500"})}):u.jsxs("div",{className:"space-y-2",children:[i.map(pe=>u.jsx("div",{className:`p-3 rounded-lg ${r?"bg-gray-700":"bg-gray-50"}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1 flex-wrap",children:[u.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded ${pe.difficulty==="easy"?"bg-green-100 text-green-900":pe.difficulty==="medium"?"bg-yellow-100 text-yellow-900":"bg-red-100 text-red-900"}`,children:pe.difficulty.toUpperCase()}),u.jsx("span",{className:`text-xs px-2 py-1 rounded ${r?"bg-gray-600 text-gray-300":"bg-gray-200 text-gray-700"}`,children:pe.language.toUpperCase()})]}),u.jsx("p",{className:`font-medium ${r?"text-white":"text-gray-900"}`,children:pe.program_name}),pe.description&&u.jsx("p",{className:`text-sm mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:pe.description})]}),u.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[u.jsx("button",{onClick:()=>_e(pe),className:"p-1 hover:bg-blue-500 hover:text-white rounded transition-colors",children:u.jsx(qp,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>ee(pe.id),className:"p-1 hover:bg-red-500 hover:text-white rounded transition-colors",children:u.jsx(ha,{className:"w-4 h-4"})})]})]})},pe.id)),i.length===0&&u.jsx("p",{className:`text-center py-8 text-sm ${r?"text-gray-500":"text-gray-400"}`,children:"No code examples yet. Create one for this subject!"})]}):u.jsx("p",{className:`text-center py-8 text-sm ${r?"text-gray-500":"text-gray-400"}`,children:"Select a subject to view code examples"})]})]}),c&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:`rounded-lg max-w-md w-full p-6 ${r?"bg-gray-800":"bg-white"}`,children:[u.jsx("h3",{className:`text-xl font-bold mb-4 ${r?"text-white":"text-gray-900"}`,children:T?"Edit Subject":"Create New Subject"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:["Subject Code ",!T&&u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:p,onChange:pe=>m(pe.target.value.toUpperCase()),disabled:!!T,className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} ${T?"opacity-50 cursor-not-allowed":""}`,placeholder:"e.g., CN, AI, FSD"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:["Subject Name ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:y,onChange:pe=>v(pe.target.value),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"e.g., Computer Networks"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:["Description ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{value:S,onChange:pe=>C(pe.target.value),rows:3,className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Brief description of the subject"})]}),u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Icon (Emoji)"}),u.jsx("input",{type:"text",value:P,onChange:pe=>X(pe.target.value),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"e.g., 💻 🌐 🤖"})]})]}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>h(!1),className:`flex-1 px-4 py-2 rounded-lg ${r?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:"Cancel"}),u.jsx("button",{onClick:T?he:Y,disabled:a,className:"flex-1 px-4 py-2 rounded-lg bg-purple-500 hover:bg-purple-600 text-white disabled:opacity-50",children:a?"Saving...":T?"Update":"Create"})]})]})}),f&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:`rounded-lg max-w-2xl w-full p-6 ${r?"bg-gray-800":"bg-white"} max-h-[90vh] overflow-y-auto`,children:[u.jsx("h3",{className:`text-xl font-bold mb-4 ${r?"text-white":"text-gray-900"}`,children:oe?"Edit Program":"Create New Program"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:["Program Name ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:k,onChange:pe=>z(pe.target.value),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"e.g., TCP Echo Server"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Language"}),u.jsxs("select",{value:L,onChange:pe=>K(pe.target.value),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[u.jsx("option",{value:"python",children:"Python"}),u.jsx("option",{value:"c",children:"C"}),u.jsx("option",{value:"cpp",children:"C++"}),u.jsx("option",{value:"java",children:"Java"}),u.jsx("option",{value:"javascript",children:"JavaScript"}),u.jsx("option",{value:"typescript",children:"TypeScript"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Difficulty"}),u.jsxs("select",{value:re,onChange:pe=>te(pe.target.value),className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[u.jsx("option",{value:"easy",children:"Easy"}),u.jsx("option",{value:"medium",children:"Medium"}),u.jsx("option",{value:"hard",children:"Hard"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Description"}),u.jsx("textarea",{value:A,onChange:pe=>j(pe.target.value),rows:2,className:`w-full px-3 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Brief description"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:["Code ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{value:Q,onChange:pe=>W(pe.target.value),rows:10,className:`w-full px-3 py-2 rounded-lg border font-mono text-sm ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Enter your code here..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:"Sample Input (optional)"}),u.jsx("textarea",{value:_,onChange:pe=>w(pe.target.value),rows:3,className:`w-full px-3 py-2 rounded-lg border font-mono text-sm ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Sample input for testing..."})]})]}),u.jsxs("div",{className:"flex space-x-3 mt-6",children:[u.jsx("button",{onClick:()=>g(!1),className:`flex-1 px-4 py-2 rounded-lg ${r?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:"Cancel"}),u.jsx("button",{onClick:oe?je:F,disabled:a,className:"flex-1 px-4 py-2 rounded-lg bg-green-500 hover:bg-green-600 text-white disabled:opacity-50",children:a?"Saving...":oe?"Update":"Create"})]})]})})]})},wW=()=>{var g;const{user:r,logout:e}=Fn(),t=L5(),[i,n]=ie.useState("documents"),[s,o]=ie.useState(!0),[a,l]=ie.useState(()=>localStorage.getItem("theme")==="dark"),c=()=>{const p=a?"light":"dark";l(!a),document.documentElement.setAttribute("data-theme",p),localStorage.setItem("theme",p)},h=()=>H(void 0,null,function*(){window.confirm("Are you sure you want to logout?")&&(yield e())}),f=[{id:"documents",name:"Document Modifier",icon:Lp,description:"Manage subjects, units, and documents"},{id:"lab-programs",name:"Lab Programs Modifier",icon:vl,description:"Manage lab subjects and programs"},{id:"min-code",name:"Min Code Modifier",icon:Nu,description:"Manage minimum code examples"}];return u.jsxs("div",{className:`min-h-screen ${a?"dark bg-gray-900":"bg-gray-50"}`,children:[u.jsx("header",{className:`sticky top-0 z-40 ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b shadow-sm`,children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[u.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[u.jsx("button",{onClick:()=>t("/dashboard"),className:`p-2 rounded-lg ${a?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-100 text-gray-700"} transition-colors`,title:"Back to Dashboard",children:u.jsx(Lc,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>o(!s),className:`p-2 rounded-lg ${a?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-100 text-gray-700"} lg:hidden`,children:s?u.jsx(wg,{className:"w-6 h-6"}):u.jsx(NP,{className:"w-6 h-6"})}),u.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${a?"bg-blue-600":"bg-gradient-to-br from-blue-600 to-purple-600"}`,children:u.jsx("span",{className:"text-white font-bold text-xl",children:"S"})}),u.jsxs("div",{children:[u.jsxs("h1",{className:`text-xl font-bold ${a?"text-white":"text-gray-900"}`,children:[u.jsx("span",{className:"md:hidden",children:"Admin"}),u.jsx("span",{className:"hidden md:inline",children:"Semprepzie Admin"})]}),u.jsx("p",{className:`text-sm hidden md:block ${a?"text-gray-400":"text-gray-600"}`,children:"Content Management"})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{onClick:c,className:`p-2 rounded-lg ${a?"bg-gray-700 text-yellow-400 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"} transition-colors`,title:a?"Switch to Light Mode":"Switch to Dark Mode",children:a?u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"})}):u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})}),u.jsxs("div",{className:`hidden sm:flex items-center space-x-2 px-3 py-2 rounded-lg ${a?"bg-gray-700":"bg-gray-100"}`,children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a?"bg-blue-600":"bg-blue-500"} text-white font-semibold text-sm`,children:(g=r==null?void 0:r.email)==null?void 0:g.charAt(0).toUpperCase()}),u.jsxs("div",{className:"hidden md:block",children:[u.jsx("p",{className:`text-sm font-medium ${a?"text-white":"text-gray-900"}`,children:"Admin"}),u.jsx("p",{className:`text-xs ${a?"text-gray-400":"text-gray-600"}`,children:r==null?void 0:r.email})]})]}),u.jsxs("button",{onClick:h,className:`flex items-center space-x-2 px-4 py-2 rounded-lg ${a?"bg-red-600 hover:bg-red-700 text-white":"bg-red-500 hover:bg-red-600 text-white"} transition-colors`,children:[u.jsx(AP,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}),u.jsxs("div",{className:"flex h-[calc(100vh-73px)]",children:[u.jsx("aside",{className:`
          ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          fixed lg:static inset-y-0 left-0 z-30
          w-72 ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} 
          border-r transition-transform duration-300 ease-in-out
          mt-[73px] lg:mt-0
        `,children:u.jsxs("div",{className:"h-full overflow-y-auto p-4",children:[u.jsx("h2",{className:`text-xs font-semibold uppercase tracking-wider mb-4 ${a?"text-gray-400":"text-gray-500"}`,children:"Admin Sections"}),u.jsx("nav",{className:"space-y-2",children:f.map(p=>{const m=p.icon,y=i===p.id;return u.jsx("button",{onClick:()=>{n(p.id),window.innerWidth<1024&&o(!1)},className:`
                      w-full text-left px-4 py-3 rounded-lg transition-all duration-200
                      ${y?a?"bg-blue-600 text-white shadow-lg shadow-blue-600/50":"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":a?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}
                    `,children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(m,{className:`w-5 h-5 ${y?"text-white":a?"text-gray-400":"text-gray-500"}`}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:p.name}),u.jsx("p",{className:`text-xs ${y?"text-blue-100":"text-gray-500"}`,children:p.description})]})]})},p.id)})}),u.jsxs("div",{className:`mt-6 p-4 rounded-lg ${a?"bg-gray-700":"bg-blue-50"}`,children:[u.jsx("h3",{className:`text-sm font-semibold mb-2 ${a?"text-blue-400":"text-blue-900"}`,children:"💡 Admin Panel"}),u.jsx("p",{className:`text-xs ${a?"text-gray-400":"text-blue-700"}`,children:"Manage all content from this centralized dashboard. Changes are saved directly to Supabase."})]})]})}),u.jsx("main",{className:`flex-1 overflow-y-auto ${a?"bg-gray-900":"bg-gray-50"}`,children:u.jsxs("div",{className:"p-6",children:[i==="documents"&&u.jsx(bW,{isDarkTheme:a}),i==="lab-programs"&&u.jsx(yW,{isDarkTheme:a}),i==="min-code"&&u.jsx(xW,{isDarkTheme:a})]})})]}),s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>o(!1)})]})},vW=({children:r})=>{const{user:e,loading:t}=Fn(),{isAdmin:i}=ES();return t?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"spinner w-8 h-8 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Verifying admin access..."})]})}):e?i?u.jsx(u.Fragment,{children:r}):u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6 text-center",children:[u.jsx("div",{className:"w-16 h-16 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),u.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have admin privileges to access this page."}),u.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Go Back"})]})}):u.jsx(Nl,{to:"/login",replace:!0})},SW=()=>{const[r,e]=ie.useState(null),[t,i]=ie.useState(!1),[n,s]=ie.useState(!1);ie.useEffect(()=>{(()=>{if(window.matchMedia("(display-mode: standalone)").matches){s(!0);return}if(window.navigator.standalone===!0){s(!0);return}})();const l=h=>{console.log("PWA install prompt available"),h.preventDefault(),e(h),i(!0)},c=()=>{console.log("PWA was installed"),s(!0),i(!1),e(null)};return window.addEventListener("beforeinstallprompt",l),window.addEventListener("appinstalled",c),()=>{window.removeEventListener("beforeinstallprompt",l),window.removeEventListener("appinstalled",c)}},[]);const o=()=>H(void 0,null,function*(){if(r)try{yield r.prompt();const{outcome:a}=yield r.userChoice;console.log(a==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),e(null),i(!1)}catch(a){console.error("Error installing PWA:",a)}});return n||!t||!r?null:u.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 max-w-sm border border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Install Semprepzie"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Install our app for offline access and better experience!"}),u.jsxs("div",{className:"flex space-x-2 mt-3",children:[u.jsx("button",{onClick:o,className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-3 py-1.5 rounded-md transition-colors duration-200",children:"Install"}),u.jsx("button",{onClick:()=>i(!1),className:"bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-300 text-sm px-3 py-1.5 rounded-md transition-colors duration-200",children:"Later"})]})]}),u.jsx("button",{onClick:()=>i(!1),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})},_W=()=>{const[r,e]=ie.useState(navigator.onLine),[t,i]=ie.useState(!1);return ie.useEffect(()=>{const n=()=>{e(!0),i(!1)},s=()=>{e(!1),i(!0)};return window.addEventListener("online",n),window.addEventListener("offline",s),navigator.onLine||i(!0),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}},[]),ie.useEffect(()=>{if(r&&t){const n=setTimeout(()=>{i(!1)},3e3);return()=>clearTimeout(n)}},[r,t]),t?u.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:u.jsx("div",{className:`
        px-4 py-2 rounded-lg shadow-lg transition-all duration-300 ease-in-out
        ${r?"bg-green-500 text-white":"bg-orange-500 text-white"}
      `,children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-green-200":"bg-orange-200"}`}),u.jsx("span",{className:"text-sm font-medium",children:r?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"inline-block mr-1",children:"🟢"}),"Back online! Syncing data..."]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"inline-block mr-1",children:"📴"}),"You're offline. Some content may be cached."]})}),!r&&u.jsx("button",{onClick:()=>i(!1),className:"ml-2 text-orange-200 hover:text-white",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}):null},Py=()=>u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"spinner w-12 h-12 mx-auto mb-4"}),u.jsx("p",{className:"text-secondary-600",children:"Loading..."})]})}),iu=({children:r})=>{const{user:e,loading:t}=Fn();return t?u.jsx(Py,{}):e?e.emailVerified?u.jsx(u.Fragment,{children:r}):u.jsx(Nl,{to:"/verify-email",replace:!0}):u.jsx(Nl,{to:"/login",replace:!0})},U5=({children:r})=>{const{user:e,loading:t}=Fn();return t?u.jsx(Py,{}):e&&e.emailVerified?u.jsx(Nl,{to:"/dashboard",replace:!0}):u.jsx(u.Fragment,{children:r})},kW=()=>{const{loading:r}=Fn();return ie.useEffect(()=>{yn.setupOfflineHandlers(),(()=>H(void 0,null,function*(){yn.isReady()&&console.log("[App] Cache manager ready")}))()},[]),r?u.jsx(Py,{}):u.jsx(CS,{children:u.jsxs("div",{className:"min-h-screen bg-secondary-50",children:[u.jsx(_W,{}),u.jsx(SW,{}),u.jsxs(lP,{children:[u.jsx(tn,{path:"/login",element:u.jsx(U5,{children:u.jsx(MN,{})})}),u.jsx(tn,{path:"/signup",element:u.jsx(U5,{children:u.jsx(FN,{})})}),u.jsx(tn,{path:"/verify-email",element:u.jsx(VN,{})}),u.jsx(tn,{path:"/contact",element:u.jsx(hW,{})}),u.jsx(tn,{path:"/migration",element:u.jsx(gW,{})}),u.jsx(tn,{path:"/dashboard",element:u.jsx(iu,{children:u.jsx(aW,{})})}),u.jsx(tn,{path:"/documents",element:u.jsx(iu,{children:u.jsx(lW,{})})}),u.jsx(tn,{path:"/documents/:id",element:u.jsx(iu,{children:u.jsx(cW,{})})}),u.jsx(tn,{path:"/lab",element:u.jsx(iu,{children:u.jsx(b3,{})})}),u.jsx(tn,{path:"/profile",element:u.jsx(iu,{children:u.jsx(uW,{})})}),u.jsx(tn,{path:"/admin",element:u.jsx(vW,{children:u.jsx(wW,{})})}),u.jsx(tn,{path:"/",element:u.jsx(Nl,{to:"/dashboard",replace:!0})}),u.jsx(tn,{path:"*",element:u.jsx(fW,{})})]})]})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>H(void 0,null,function*(){try{const r=yield navigator.serviceWorker.register("/sw.js",{scope:"/"});console.log("SW registered successfully:",r.scope),r.addEventListener("updatefound",()=>{const e=r.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&console.log("New app version available!")})})}catch(r){console.log("SW registration failed:",r)}}));sm.createRoot(document.getElementById("root")).render(u.jsx(aP.StrictMode,{children:u.jsx(CS,{children:u.jsx(cP,{children:u.jsxs(BN,{children:[u.jsx(kW,{}),u.jsx(kj,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})}));export{Gt as _};
